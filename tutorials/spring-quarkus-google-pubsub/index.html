<!DOCTYPE html><html  lang="en" data-capo=""><head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Google Cloud Pub&#x2F;Sub (emulator) with Spring Boot and Quarkus - Simon Scholz</title>
<style>*,::backdrop,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/*! tailwindcss v3.4.13 | MIT License | https://tailwindcss.com*/*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal;tab-size:4;-webkit-tap-highlight-color:transparent}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-size:1em;font-variation-settings:normal}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:initial}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{color:inherit;font-family:inherit;font-feature-settings:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:initial;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:initial}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}@media (min-width:1536px){.container{max-width:1536px}}.sr-only{height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border-width:0;white-space:nowrap}.visible{visibility:visible}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.-top-8{top:-2rem}.bottom-0{bottom:0}.bottom-24{bottom:6rem}.right-0{right:0}.right-10{right:2.5rem}.right-3{right:.75rem}.top-0{top:0}.top-2{top:.5rem}.z-50{z-index:50}.col-span-full{grid-column:1/-1}.m-3{margin:.75rem}.m-6{margin:1.5rem}.m-auto{margin:auto}.mx-1{margin-left:.25rem;margin-right:.25rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mx-3{margin-left:.75rem;margin-right:.75rem}.mx-auto{margin-left:auto;margin-right:auto}.mb-0{margin-bottom:0}.mb-1{margin-bottom:.25rem}.mb-10{margin-bottom:2.5rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-5{margin-bottom:1.25rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.ml-1{margin-left:.25rem}.ml-2{margin-left:.5rem}.ml-3{margin-left:.75rem}.ml-4{margin-left:1rem}.ml-6{margin-left:1.5rem}.ml-7{margin-left:1.75rem}.mr-1{margin-right:.25rem}.mr-10{margin-right:2.5rem}.mr-16{margin-right:4rem}.mr-2{margin-right:.5rem}.mr-3{margin-right:.75rem}.mr-4{margin-right:1rem}.mt-1{margin-top:.25rem}.mt-10{margin-top:2.5rem}.mt-16{margin-top:4rem}.mt-2{margin-top:.5rem}.mt-20{margin-top:5rem}.mt-24{margin-top:6rem}.mt-3{margin-top:.75rem}.mt-32{margin-top:8rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-6{margin-top:1.5rem}.mt-8{margin-top:2rem}.mt-auto{margin-top:auto}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.inline-table{display:inline-table}.grid{display:grid}.contents{display:contents}.hidden{display:none}.h-12{height:3rem}.h-16{height:4rem}.h-40{height:10rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-80{height:20rem}.h-full{height:100%}.w-1\/2{width:50%}.w-1\/3{width:33.333333%}.w-12{width:3rem}.w-16{width:4rem}.w-2\/3{width:66.666667%}.w-40{width:10rem}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-64{width:16rem}.w-80{width:20rem}.w-full{width:100%}.min-w-60{min-width:15rem}.flex-1{flex:1 1 0%}.flex-initial{flex:0 1 auto}.flex-grow{flex-grow:1}.flex-grow-0{flex-grow:0}.grow{flex-grow:1}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-pointer{cursor:pointer}.select-none{-webkit-user-select:none;user-select:none}.resize{resize:both}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness:mandatory}.snap-center{scroll-snap-align:center}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.list-disc{list-style-type:disc}.list-none{list-style-type:none}.appearance-none{appearance:none}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.place-content-around{place-content:space-around}.place-items-center{place-items:center}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-items-center{justify-items:center}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.gap-y-32{row-gap:8rem}.space-x-4>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:1rem;margin-left:calc(1rem*(1 - var(--tw-space-x-reverse)));margin-right:0;margin-right:calc(1rem*var(--tw-space-x-reverse))}.space-x-6>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:1.5rem;margin-left:calc(1.5rem*(1 - var(--tw-space-x-reverse)));margin-right:0;margin-right:calc(1.5rem*var(--tw-space-x-reverse))}.self-start{align-self:flex-start}.self-center{align-self:center}.overflow-hidden{overflow:hidden}.whitespace-nowrap{white-space:nowrap}.rounded{border-radius:.25rem}.rounded-3xl{border-radius:1.5rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-t-2xl{border-top-left-radius:1rem;border-top-right-radius:1rem}.border{border-width:1px}.border-0{border-width:0}.border-2{border-width:2px}.border-4{border-width:4px}.border-b{border-bottom-width:1px}.border-l{border-left-width:1px}.border-l-2{border-left-width:2px}.border-t-2{border-top-width:2px}.border-none{border-style:none}.border-black{--tw-border-opacity:1;border-color:#000;border-color:rgb(0 0 0/var(--tw-border-opacity))}.border-cyan-700{--tw-border-opacity:1;border-color:#0e7490;border-color:rgb(14 116 144/var(--tw-border-opacity))}.border-gray-200{--tw-border-opacity:1;border-color:#e5e7eb;border-color:rgb(229 231 235/var(--tw-border-opacity))}.border-gray-300{--tw-border-opacity:1;border-color:#d1d5db;border-color:rgb(209 213 219/var(--tw-border-opacity))}.border-gray-400{--tw-border-opacity:1;border-color:#9ca3af;border-color:rgb(156 163 175/var(--tw-border-opacity))}.border-gray-500{--tw-border-opacity:1;border-color:#6b7280;border-color:rgb(107 114 128/var(--tw-border-opacity))}.border-gray-600{--tw-border-opacity:1;border-color:#4b5563;border-color:rgb(75 85 99/var(--tw-border-opacity))}.border-opacity-50{--tw-border-opacity:0.5}.bg-cyan-500{--tw-bg-opacity:1;background-color:#06b6d4;background-color:rgb(6 182 212/var(--tw-bg-opacity))}.bg-cyan-600{--tw-bg-opacity:1;background-color:#0891b2;background-color:rgb(8 145 178/var(--tw-bg-opacity))}.bg-cyan-700{--tw-bg-opacity:1;background-color:#0e7490;background-color:rgb(14 116 144/var(--tw-bg-opacity))}.bg-gray-100{--tw-bg-opacity:1;background-color:#f3f4f6;background-color:rgb(243 244 246/var(--tw-bg-opacity))}.bg-gray-200{--tw-bg-opacity:1;background-color:#e5e7eb;background-color:rgb(229 231 235/var(--tw-bg-opacity))}.bg-primary-50{--tw-bg-opacity:1;background-color:#f9fafb;background-color:rgb(249 250 251/var(--tw-bg-opacity))}.bg-transparent{background-color:initial}.bg-white{background-color:#fff;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.bg-opacity-100,.bg-white{--tw-bg-opacity:1}.bg-opacity-50{--tw-bg-opacity:0.5}.bg-cover{background-size:cover}.bg-right{background-position:100%}.bg-no-repeat{background-repeat:no-repeat}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.px-10{padding-left:2.5rem;padding-right:2.5rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-4{padding-left:1rem;padding-right:1rem}.py-1{padding-bottom:.25rem;padding-top:.25rem}.py-10{padding-bottom:2.5rem;padding-top:2.5rem}.py-2{padding-bottom:.5rem;padding-top:.5rem}.pb-6{padding-bottom:1.5rem}.pl-4{padding-left:1rem}.pl-6{padding-left:1.5rem}.pl-8{padding-left:2rem}.pr-10{padding-right:2.5rem}.pt-6{padding-top:1.5rem}.pt-8{padding-top:2rem}.text-center{text-align:center}.align-middle{vertical-align:middle}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.font-bold{font-weight:700}.font-light{font-weight:300}.font-medium{font-weight:500}.font-normal{font-weight:400}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.italic{font-style:italic}.leading-normal{line-height:1.5}.leading-tight{line-height:1.25}.text-black{--tw-text-opacity:1;color:#000;color:rgb(0 0 0/var(--tw-text-opacity))}.text-cyan-500{--tw-text-opacity:1;color:#06b6d4;color:rgb(6 182 212/var(--tw-text-opacity))}.text-fuchsia-700{--tw-text-opacity:1;color:#a21caf;color:rgb(162 28 175/var(--tw-text-opacity))}.text-gray-300{--tw-text-opacity:1;color:#d1d5db;color:rgb(209 213 219/var(--tw-text-opacity))}.text-gray-400{--tw-text-opacity:1;color:#9ca3af;color:rgb(156 163 175/var(--tw-text-opacity))}.text-gray-600{--tw-text-opacity:1;color:#4b5563;color:rgb(75 85 99/var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity:1;color:#374151;color:rgb(55 65 81/var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity:1;color:#1f2937;color:rgb(31 41 55/var(--tw-text-opacity))}.text-white{--tw-text-opacity:1;color:#fff;color:rgb(255 255 255/var(--tw-text-opacity))}.underline{text-decoration-line:underline}.shadow{--tw-shadow:0 1px 3px 0 #0000001a,0 1px 2px -1px #0000001a;--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color);box-shadow:0 0 #0000,0 0 #0000,0 1px 3px 0 #0000001a,0 1px 2px -1px #0000001a;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px #0000001a,0 2px 4px -2px #0000001a;--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color);box-shadow:0 0 #0000,0 0 #0000,0 4px 6px -1px #0000001a,0 2px 4px -2px #0000001a;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.outline{outline-style:solid}.ring-4{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color),var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color),0 0 #0000;box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.blur{--tw-blur:blur(8px);filter:blur(8px) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale:grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) grayscale(100%) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter,.grayscale{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-duration:.15s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-transform{transition-duration:.15s;transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1)}.duration-300{transition-duration:.3s}.duration-500{transition-duration:.5s}.first\:mt-0:first-child{margin-top:0}.hover\:cursor-pointer:hover{cursor:pointer}.hover\:bg-cyan-700:hover{--tw-bg-opacity:1;background-color:#0e7490;background-color:rgb(14 116 144/var(--tw-bg-opacity))}.hover\:text-black:hover{--tw-text-opacity:1;color:#000;color:rgb(0 0 0/var(--tw-text-opacity))}.hover\:text-cyan-700:hover{--tw-text-opacity:1;color:#0e7490;color:rgb(14 116 144/var(--tw-text-opacity))}.hover\:underline:hover{text-decoration-line:underline}.hover\:shadow-lg:hover{--tw-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);box-shadow:0 0 #0000,0 0 #0000,0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.hover\:duration-500:hover{transition-duration:.5s}.focus\:border-cyan-600:focus{--tw-border-opacity:1;border-color:#0891b2;border-color:rgb(8 145 178/var(--tw-border-opacity))}.focus\:outline-none:focus{outline:2px solid #0000;outline-offset:2px}.dark\:border-gray-50:is(.dark *){--tw-border-opacity:1;border-color:#f9fafb;border-color:rgb(249 250 251/var(--tw-border-opacity))}.dark\:border-gray-600:is(.dark *){--tw-border-opacity:1;border-color:#4b5563;border-color:rgb(75 85 99/var(--tw-border-opacity))}.dark\:border-gray-700:is(.dark *){--tw-border-opacity:1;border-color:#374151;border-color:rgb(55 65 81/var(--tw-border-opacity))}.dark\:border-white:is(.dark *){--tw-border-opacity:1;border-color:#fff;border-color:rgb(255 255 255/var(--tw-border-opacity))}.dark\:bg-gray-700:is(.dark *){--tw-bg-opacity:1;background-color:#374151;background-color:rgb(55 65 81/var(--tw-bg-opacity))}.dark\:bg-gray-800:is(.dark *){--tw-bg-opacity:1;background-color:#1f2937;background-color:rgb(31 41 55/var(--tw-bg-opacity))}.dark\:bg-primary-900:is(.dark *){--tw-bg-opacity:1;background-color:#111827;background-color:rgb(17 24 39/var(--tw-bg-opacity))}.dark\:text-black:is(.dark *){--tw-text-opacity:1;color:#000;color:rgb(0 0 0/var(--tw-text-opacity))}.dark\:text-gray-300:is(.dark *){--tw-text-opacity:1;color:#d1d5db;color:rgb(209 213 219/var(--tw-text-opacity))}.dark\:text-gray-400:is(.dark *){--tw-text-opacity:1;color:#9ca3af;color:rgb(156 163 175/var(--tw-text-opacity))}.dark\:text-primary-100:is(.dark *){--tw-text-opacity:1;color:#f3f4f6;color:rgb(243 244 246/var(--tw-text-opacity))}.dark\:text-white:is(.dark *){--tw-text-opacity:1;color:#fff;color:rgb(255 255 255/var(--tw-text-opacity))}.dark\:hover\:text-cyan-700:hover:is(.dark *){--tw-text-opacity:1;color:#0e7490;color:rgb(14 116 144/var(--tw-text-opacity))}.dark\:hover\:text-white:hover:is(.dark *){--tw-text-opacity:1;color:#fff;color:rgb(255 255 255/var(--tw-text-opacity))}.dark\:hover\:shadow-gray-600:hover:is(.dark *){--tw-shadow-color:#4b5563;--tw-shadow:var(--tw-shadow-colored)}@media (max-width:400px){.max-\[400px\]\:grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}}@media (min-width:640px){.sm\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.sm\:pb-10{padding-bottom:2.5rem}.sm\:pt-6{padding-top:1.5rem}}@media (min-width:768px){.md\:fixed{position:fixed}.md\:col-span-7{grid-column:span 7/span 7}.md\:mx-10{margin-left:2.5rem;margin-right:2.5rem}.md\:mx-36{margin-left:9rem;margin-right:9rem}.md\:mb-96{margin-bottom:24rem}.md\:ml-10{margin-left:2.5rem}.md\:ml-20{margin-left:5rem}.md\:ml-3{margin-left:.75rem}.md\:ml-6{margin-left:1.5rem}.md\:mr-10{margin-right:2.5rem}.md\:mt-0{margin-top:0}.md\:mt-1{margin-top:.25rem}.md\:mt-10{margin-top:2.5rem}.md\:mt-16{margin-top:4rem}.md\:mt-32{margin-top:8rem}.md\:mt-40{margin-top:10rem}.md\:block{display:block}.md\:inline-block{display:inline-block}.md\:flex{display:flex}.md\:grid{display:grid}.md\:hidden{display:none}.md\:h-24{height:6rem}.md\:w-1\/2{width:50%}.md\:w-1\/3{width:33.333333%}.md\:w-2\/3{width:66.666667%}.md\:w-24{width:6rem}.md\:w-5\/6{width:83.333333%}.md\:flex-grow{flex-grow:1}.md\:grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.md\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.md\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.md\:flex-row{flex-direction:row}.md\:justify-between{justify-content:space-between}.md\:p-16{padding:4rem}.md\:p-8{padding:2rem}.md\:text-left{text-align:left}}@media (min-width:1024px){.lg\:flex{display:flex}.lg\:w-1\/2{width:50%}.lg\:flex-row{flex-direction:row}}@media (min-width:1280px){.xl\:mb-1{margin-bottom:.25rem}.xl\:block{display:block}.xl\:hidden{display:none}.xl\:grid-cols-6{grid-template-columns:repeat(6,minmax(0,1fr))}}@media print{.print\:block{display:block}.print\:hidden{display:none}}</style>
<style>html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.sr-only{height:1px!important;margin:-1px!important;overflow:hidden!important;padding:0!important;position:absolute!important;width:1px!important;clip:rect(0,0,0,0)!important;border:0!important;white-space:nowrap!important}</style>
<style>*,:after,:before{border:0 solid #e5e7eb;border-color:var(--un-default-border-color,#e5e7eb);box-sizing:border-box}html{line-height:1.5;-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{color:inherit;font-family:inherit;font-feature-settings:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}</style>
<style>.nuxt-progress{background:repeating-linear-gradient(90deg,#00dc82 0,#34cdfe 50%,#0047e1);left:0;opacity:1;position:fixed;right:0;top:0;transition:width .1s,height .4s,opacity .4s;width:0;z-index:999999}</style>
<style>.icon[data-v-852cba11]{display:inline-block;vertical-align:middle}</style>
<style>.icon-btn[data-v-74d3d7c9]{cursor:pointer;transition-duration:.5s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}.icon-btn[data-v-74d3d7c9]:hover{--tw-text-opacity:1;color:#0e7490;color:rgb(14 116 144/var(--tw-text-opacity));transition-duration:.5s}.icon-btn[data-v-74d3d7c9]:hover:is(.dark *){--tw-text-opacity:1;color:#0e7490;color:rgb(14 116 144/var(--tw-text-opacity))}.hide[data-v-74d3d7c9]{transform:translateX(200%);transition-duration:.5s;transition-timing-function:linear}.hide[data-v-74d3d7c9],.show[data-v-74d3d7c9]{transition-property:transform}.show[data-v-74d3d7c9]{transform:none;transition-duration:.6s;transition-timing-function:linear}</style>
<style>body{--tw-bg-opacity:1;background-color:#f9fafb;background-color:rgb(249 250 251/var(--tw-bg-opacity));--tw-text-opacity:1;color:#000;color:rgb(0 0 0/var(--tw-text-opacity))}body:is(.dark *){--tw-bg-opacity:1;background-color:#111827;background-color:rgb(17 24 39/var(--tw-bg-opacity));--tw-text-opacity:1;color:#fff;color:rgb(255 255 255/var(--tw-text-opacity))}</style>
<style>.klaro .cm-btn.cn-decline,.klaro.klaro-simon .cm-footer .cm-footer-buttons .cm-btn.cm-btn-success.cm-btn-info.cm-btn-accept{background-color:#5c5c5c;border-color:#5c5c5c;color:#fff}.klaro .cm-btn.cm-btn-accept-all{background-color:#1a936f;border-color:#1a936f;color:#fff}.prose{word-break:break-all}</style>
<style>a[data-v-2b18fddf]{overflow-wrap:anywhere;word-break:break-all}@keyframes border-flow-2b18fddf{0%{border-color:#06b6d4;box-shadow:0 0 5px #06b6d4,0 0 10px #06b6d4,0 0 15px #06b6d4}50%{border-color:#0891b2;box-shadow:0 0 15px #0891b2,0 0 20px #0891b2,0 0 25px #0891b2}to{border-color:#06b6d4;box-shadow:0 0 5px #06b6d4,0 0 10px #06b6d4,0 0 15px #06b6d4}}.animate-border-flow[data-v-2b18fddf]{animation:border-flow-2b18fddf 3s forwards}</style>
<style>.toc-link_3[data-v-8ef902fb]{padding-left:1rem}.toc-link_3[data-v-8ef902fb]:before{content:"•";padding-right:.5rem}.toc-link_4[data-v-8ef902fb]{padding-left:2rem}.toc-link_4[data-v-8ef902fb]:before{content:"‣";padding-right:.5rem}</style>
<style>p[data-v-601a33c5]{font-family:var(--typography-font-body);font-size:var(--prose-p-fontSize);line-height:var(--prose-p-lineHeight);margin:var(--prose-p-margin)}p[data-v-601a33c5] br{content:"";display:block;margin:var(--prose-p-br-margin)}</style>
<style>h2[data-v-44bf1123]{display:block;font-family:var(--typography-font-display);font-size:var(--prose-h2-fontSize);font-weight:var(--prose-h2-fontWeight);letter-spacing:var(--prose-h2-letterSpacing);line-height:var(--prose-h2-lineHeight);margin:var(--prose-h2-margin)}h2[data-v-44bf1123] .icon{display:inline-block;height:var(--prose-h2-iconSize);margin-inline-start:12px;opacity:0;transition:opacity .1s;width:var(--prose-h2-iconSize)}h2 a[data-v-44bf1123]:hover .icon{opacity:1}</style>
<style>ul[data-v-1bf89264]{font-family:var(--typography-font-body);list-style-type:var(--prose-ul-listStyleType);margin:var(--prose-ul-margin);padding-inline-start:var(--prose-ul-paddingInlineStart)}ul[data-v-1bf89264]> li::marker{color:var(--prose-ul-li-markerColor)}ul[data-v-1bf89264]> li ol,ul[data-v-1bf89264]> li ul{margin:0}</style>
<style>li[data-v-12df340e]{font-family:var(--typography-font-body);list-style-position:var(--prose-li-listStylePosition);margin:var(--prose-li-margin)}</style>
<style>pre code .line{display:block;min-height:1rem}</style>
<style>.prose-code[data-v-5dc7e424]{-webkit-backdrop-filter:var(--prose-code-block-backdropFilter);backdrop-filter:var(--prose-code-block-backdropFilter);background-color:var(--prose-code-block-backgroundColor);border-color:var(--prose-code-block-borderColor);border-radius:var(--prose-code-block-borderRadius);border-style:var(--prose-code-block-borderStyle);border-width:var(--prose-code-block-borderWidth);color:var(--prose-code-block-color);font-size:var(--prose-code-block-fontSize);margin:var(--prose-code-block-margin);overflow:hidden;position:relative;width:100%}.prose-code[data-v-5dc7e424] code{width:100%}.prose-code.highlight-bash[data-v-5dc7e424] code .line,.prose-code.highlight-sh[data-v-5dc7e424] code .line,.prose-code.highlight-shell[data-v-5dc7e424] code .line,.prose-code.highlight-shellscript[data-v-5dc7e424] code .line,.prose-code.highlight-zsh[data-v-5dc7e424] code .line{padding-inline-start:1rem;position:relative}.prose-code.highlight-bash[data-v-5dc7e424] code .line:before,.prose-code.highlight-sh[data-v-5dc7e424] code .line:before,.prose-code.highlight-shell[data-v-5dc7e424] code .line:before,.prose-code.highlight-shellscript[data-v-5dc7e424] code .line:before,.prose-code.highlight-zsh[data-v-5dc7e424] code .line:before{color:var(--typography-color-primary-500);content:">";display:block;font-family:var(--typography-font-mono);font-weight:700;inset-inline-start:-.1rem;position:absolute;top:0;-webkit-user-select:none;-moz-user-select:none;user-select:none}.copy-button[data-v-5dc7e424]{bottom:0;inset-inline-end:0;position:absolute}[data-v-5dc7e424] code{display:flex;flex-direction:column}[data-v-5dc7e424] .line{display:inline-table;min-height:1rem}.filename[data-v-5dc7e424]{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);border-radius:var(--typography-radii-lg);color:var(--prose-code-block-color);font-family:var(--typography-font-code);font-size:var(--typography-fontSize-xs);inset-inline-end:0;line-height:var(--typography-lead-normal);padding:.5rem .75rem;position:absolute;top:0;transition:opacity .2s}.prose-code:hover .filename[data-v-5dc7e424]{opacity:0}.prose-code:hover .filename[data-v-5dc7e424]:hover{opacity:1}[data-v-5dc7e424] pre{display:flex;flex:1;line-height:var(--typography-lead-relaxed);margin:0;overflow-x:auto;padding:var(--prose-code-block-pre-padding)}[data-v-5dc7e424] pre code{padding-inline-end:30px}[data-v-5dc7e424] .line.highlight{background-color:var(--prose-code-block-border-color)}</style>
<style>button[data-v-5442bd1d]{border-radius:3px;margin:4px;opacity:0;padding:4px;transform:scale(.75);transition:all .2s}button[data-v-5442bd1d]:focus{box-shadow:0 0 0 2px var(--typography-color-primary-500);opacity:1;outline:none}button.show[data-v-5442bd1d]{opacity:1;transform:scale(1)}button .icon-wrapper[data-v-5442bd1d]{display:block;height:18px;position:relative;width:18px}button .icon-wrapper .icon[data-v-5442bd1d]{display:block;position:absolute}button .icon-wrapper .fade-enter-active[data-v-5442bd1d],button .icon-wrapper .fade-leave-active[data-v-5442bd1d]{transition:opacity .2s}button .icon-wrapper .fade-enter-from[data-v-5442bd1d],button .icon-wrapper .fade-leave-to[data-v-5442bd1d]{opacity:0}</style>
<style>code[data-v-13448efb]{background-color:var(--prose-code-inline-backgroundColor);border-radius:var(--prose-code-inline-borderRadius);color:var(--prose-code-inline-color);font-family:var(--typography-font-code);font-size:var(--prose-code-inline-fontSize);font-weight:var(--prose-code-inline-fontWeight);margin-left:1px;margin-right:1px;padding:var(--prose-code-inline-padding)}tbody code[data-v-13448efb]{font-size:var(--prose-tbody-code-inline-fontSize)}h1 a code[data-v-13448efb],h2 a code[data-v-13448efb],h3 a code[data-v-13448efb],h4 a code[data-v-13448efb],h5 a code[data-v-13448efb],h6 a code[data-v-13448efb]{border-radius:var(--prose-code-inline-borderRadius);color:var(--prose-code-inline-color);font-size:.777777em;padding:.15em .5em}a code[data-v-13448efb]{border-color:var(--prose-a-code-border-color-static);border-style:var(--prose-a-code-border-style);border-width:var(--prose-a-code-border-width);color:var(--prose-a-code-color-static)}a:hover code[data-v-13448efb]{background-color:var(--prose-a-code-background-hover);border-color:var(--prose-a-code-border-color-hover);color:var(--prose-a-code-color-hover)}</style>
<style>a[data-v-2f430ac8]{border-bottom:var(--prose-a-border-width) var(--prose-a-border-style-static) var(--prose-a-border-color-static);color:var(--prose-a-color-static);font-family:var(--typography-font-body);font-weight:var(--prose-a-fontWeight);padding-bottom:var(--prose-a-border-distance);-webkit-text-decoration:var(--prose-a-textDecoration);text-decoration:var(--prose-a-textDecoration)}a[data-v-2f430ac8]:hover{border-color:var(--prose-a-border-color-hover);border-style:var(--prose-a-border-style-hover);color:var(--prose-a-color-hover)}a[data-v-2f430ac8]:has(img){border-width:0}a[data-v-2f430ac8]:has(code){border-bottom:var(--prose-a-hasCode-borderBottom)}a[data-v-2f430ac8]:has(code):hover{border-bottom:var(--prose-a-hasCode-borderBottom)}</style>
<style>img[data-v-8cc281a5]{border-radius:var(--prose-img-borderRadius);margin:var(--prose-img-margin)}</style>
<style>h3[data-v-46d20c66]{display:block;font-family:var(--typography-font-display);font-size:var(--prose-h3-fontSize);font-weight:var(--prose-h3-fontWeight);letter-spacing:var(--prose-h3-letterSpacing);line-height:var(--prose-h3-lineHeight);margin:var(--prose-h3-margin)}h3[data-v-46d20c66] .icon{display:inline-block;height:var(--prose-h3-iconSize);margin-inline-start:12px;opacity:0;transition:opacity .1s;width:var(--prose-h3-iconSize)}h3 a[data-v-46d20c66]:hover .icon{opacity:1}</style>
<style>h4[data-v-f5a4431f]{display:block;font-family:var(--typography-font-display);font-size:var(--prose-h4-fontSize);font-weight:var(--prose-h4-fontWeight);letter-spacing:var(--prose-h4-letterSpacing);line-height:var(--prose-h4-lineHeight);margin:var(--prose-h4-margin)}h4[data-v-f5a4431f] .icon{display:inline-block;height:var(--prose-h4-iconSize);margin-inline-start:10px;opacity:0;transition:opacity .1s;width:var(--prose-h4-iconSize)}h4 a[data-v-f5a4431f]:hover .icon{opacity:1}</style>
<link rel="stylesheet" href="/assets/entry.CNJ-n1RE.css">
<link rel="modulepreload" as="script" crossorigin href="/assets/BzefTVgW.js">
<link rel="modulepreload" as="script" crossorigin href="/assets/FvPFhKTb.js">
<link rel="modulepreload" as="script" crossorigin href="/assets/C6CSG4NX.js">
<link rel="modulepreload" as="script" crossorigin href="/assets/DGFLXm7l.js">
<link rel="modulepreload" as="script" crossorigin href="/assets/2ETV-d1z.js">
<link rel="modulepreload" as="script" crossorigin href="/assets/x55DbBAj.js">
<link rel="modulepreload" as="script" crossorigin href="/assets/DIH-wrcp.js">
<link rel="modulepreload" as="script" crossorigin href="/assets/7dTnLQ2z.js">
<link rel="modulepreload" as="script" crossorigin href="/assets/BRM1T4S-.js">
<link rel="modulepreload" as="script" crossorigin href="/assets/Cau_1K6i.js">
<link rel="modulepreload" as="script" crossorigin href="/assets/E9kTHWir.js">
<link rel="modulepreload" as="script" crossorigin href="/assets/4xJfz0VA.js">
<link rel="modulepreload" as="script" crossorigin href="/assets/DrtNUOrw.js">
<link rel="modulepreload" as="script" crossorigin href="/assets/DNWo0bJw.js">
<link rel="modulepreload" as="script" crossorigin href="/assets/CyQ407ds.js">
<link rel="modulepreload" as="script" crossorigin href="/assets/CwTnXb2Q.js">
<link rel="modulepreload" as="script" crossorigin href="/assets/Bgl6Lzae.js">
<link rel="modulepreload" as="script" crossorigin href="/assets/CS4hfhYQ.js">
<link rel="modulepreload" as="script" crossorigin href="/assets/Ck9g_3CH.js">
<link rel="modulepreload" as="script" crossorigin href="/assets/CY8tHNQq.js">
<link rel="modulepreload" as="script" crossorigin href="/assets/P8qAycO5.js">
<link rel="modulepreload" as="script" crossorigin href="/assets/CMLSo0wz.js">
<link rel="modulepreload" as="script" crossorigin href="/assets/Bqe81kga.js">
<link rel="prefetch" as="style" crossorigin href="/assets/useStudio.BRbO3Msh.css">
<link rel="prefetch" as="script" crossorigin href="/assets/BcbFmQ1x.js">
<link rel="prefetch" as="script" crossorigin href="/assets/BaVm9VVN.js">
<link rel="prefetch" as="script" crossorigin href="/assets/CVxVN80V.js">
<link rel="prefetch" as="script" crossorigin href="/assets/B1EVu7kH.js">
<link rel="prefetch" as="image" type="image/webp" href="/assets/me.CaLPVNCV.webp">
<script type="text/plain" data-type="application/javascript" data-name="google-tag-manager">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KW7KLVJR');</script>
<meta property="og:url" content="https://simonscholz.dev/">
<meta name="twitter:card" content="summary_large_image">
<meta name="application-name" content="Simon Scholz">
<meta name="author" content="Simon Scholz">
<meta name="creator" content="Simon Scholz">
<meta name="generator" content="Nuxt">
<meta name="robots" content="all">
<meta property="og:image:type" content="image/png">
<meta content="/cover.png" property="og:image">
<meta property="og:title" content="Google Cloud Pub/Sub (emulator) with Spring Boot and Quarkus">
<meta name="description" content="Make use of the Google Cloud Pub/Sub (emulator) with Spring Boot and Quarkus">
<meta property="og:description" content="Make use of the Google Cloud Pub/Sub (emulator) with Spring Boot and Quarkus">
<script type="module" src="/assets/BzefTVgW.js" crossorigin></script>
<script id="unhead:payload" type="application/json">{"title":"Simon Scholz","titleTemplate":"%s - Simon Scholz"}</script><style id="pinceau-runtime-hydratable"></style><style id="pinceau-theme">@media { :root {--pinceau-mq: initial; --elements-modal-scrim-backdropFilter: none;--elements-modal-zIndex: 50;--elements-sandbox-borderStyle: solid;--elements-sandbox-borderWidth: 1px;--elements-sandbox-height: 700px;--elements-list-item-icon-boxShadow: inset 0.25px 0.5px 0px hsla(0,0%,100%,.1), inset -0.25px 0px 0px hsla(0,0%,100%,.1);--elements-list-item-lastChild-marginBottom: 0px;--elements-tooltip-content-borderStyle: none;--elements-tooltip-content-borderWidth: 0px;--elements-disclosure-opened-summary-transform: rotate(0deg);--elements-disclosure-opened-summary-borderBottomRightRadius: 0px;--elements-disclosure-opened-summary-borderBottomLeftRadius: 0px;--elements-disclosure-content-borderColor: transparent;--elements-disclosure-content-borderStyle: solid;--elements-disclosure-content-borderWidth: 1px;--elements-disclosure-content-lastChild-marginBottom: 0px;--elements-disclosure-content-firstChild-marginTop: 0px;--elements-disclosure-content-padding: 1rem;--elements-disclosure-summary-chevron-transform: rotate(-90deg);--elements-disclosure-summary-chevron-transition: transform 200ms ease-in-out;--elements-disclosure-summary-chevron-padding: 2px;--elements-disclosure-summary-outline-focus: 2px solid;--elements-disclosure-summary-padding: 1rem;--elements-disclosure-borderStyle: solid;--elements-disclosure-borderWidth: 0px;--elements-disclosure-width: 100%;--elements-callout-content-lastChild-marginBottom: 0px;--elements-callout-content-firstChild-marginTop: 0px;--elements-callout-boxShadow: inset 0.25px 0.5px 0px hsla(0,0%,100%,.1), inset -0.25px 0px 0px hsla(0,0%,100%,.1);--elements-callout-borderStyle: solid;--elements-callout-borderWidth: 1px;--elements-callout-width: 100%;--elements-codeGroup-tabs-active-borderBlockEnd: 1px solid transparent;--elements-codeGroup-tabs-inactive-filter-hover: grayscale(0%);--elements-codeGroup-tabs-inactive-filter-static: grayscale(100%);--elements-codeGroup-tabs-lastOfType-border: none;--elements-codeGroup-tabs-firstOfType-border: none;--elements-codeGroup-tabs-textAlign: start;--elements-codeGroup-tabs-flex: 1;--elements-codeGroup-borderStyle: solid;--elements-codeGroup-borderWidth: 1px;--elements-codeGroup-margin: 0px;--elements-codeCollapse-gradientBackdrop-height: 50px;--elements-codeCollapse-button-borderStyle: solid;--elements-codeCollapse-button-borderWidth: 1px;--elements-codeCollapse-button-transform: translateX(-50%);--elements-codeCollapse-button-left: 50%;--elements-buttonLink-width: fit-content;--elements-buttonLink-boxShadow: inset 0.25px 0.5px 0px hsla(0,0%,100%,.1), inset -0.25px 0px 0px hsla(0,0%,100%,.1);--elements-buttonLink-borderColor: transparent;--elements-buttonLink-borderStyle: solid;--elements-buttonLink-borderWidth: 0px;--elements-badge-whiteSpace: nowrap;--elements-badge-boxShadow: inset 0.25px 0.5px 0px hsla(0,0%,100%,.1), inset -0.25px 0px 0px hsla(0,0%,100%,.1);--elements-badge-borderStyle: solid;--elements-badge-borderWidth: 1px;--elements-alert-closeButton-boxShadow-focus: 0 0 0 1px;--elements-alert-boxShadow: inset 0.25px 0.5px 0px hsla(0,0%,100%,.1), inset -0.25px 0px 0px hsla(0,0%,100%,.1);--elements-alert-borderStyle: solid;--elements-alert-borderWidth: 1px;--elements-alert-width: 100%;--elements-announce-boxShadow: inset 0.5px 0.75px 0px hsla(0,0%,100%,.1), inset -0.5px 0px 0px hsla(0,0%,100%,.1);--elements-announce-borderStyle: solid;--elements-announce-borderWidth: 1px;--elements-border-secondary-hover: [object Object];--elements-backdrop-background: #fffc;--elements-backdrop-filter: saturate(200%) blur(10px);--test: 0px;--prose-code-inline-backgroundColor: #f3f4f6;--prose-code-inline-padding: 0.2rem 0.375rem 0.2rem 0.375rem;--prose-code-block-backdropFilter: contrast(1);--prose-code-block-backgroundColor: #f9fafb;--prose-code-block-borderStyle: solid;--prose-code-block-borderWidth: 1px;--prose-tbody-tr-borderBottom-style: dashed;--prose-tbody-tr-borderBottom-width: 1px;--prose-th-textAlign: inherit;--prose-thead-borderBottom-style: solid;--prose-thead-borderBottom-width: 1px;--prose-thead-border-style: solid;--prose-thead-border-width: 0px;--prose-table-textAlign: start;--prose-hr-width: 1px;--prose-hr-style: solid;--prose-li-listStylePosition: outside;--prose-ol-li-markerColor: currentColor;--prose-ol-paddingInlineStart: 21px;--prose-ol-listStyleType: decimal;--prose-ul-li-markerColor: currentColor;--prose-ul-paddingInlineStart: 21px;--prose-ul-listStyleType: disc;--prose-blockquote-border-style: solid;--prose-blockquote-border-width: 4px;--prose-blockquote-quotes: '201C' '201D' '2018' '2019';--prose-blockquote-paddingInlineStart: 24px;--prose-a-code-color-hover: currentColor;--prose-a-hasCode-borderBottom: none;--prose-a-border-distance: 2px;--prose-a-border-color-hover: currentColor;--prose-a-border-color-static: currentColor;--prose-a-border-style-hover: solid;--prose-a-border-style-static: dashed;--prose-a-border-width: 1px;--prose-a-color-static: inherit;--prose-a-textDecoration: none;--prose-h6-margin: 3rem 0 2rem;--prose-h5-margin: 3rem 0 2rem;--prose-h4-margin: 3rem 0 2rem;--prose-h3-margin: 3rem 0 2rem;--prose-h2-margin: 3rem 0 2rem;--prose-h1-margin: 0 0 2rem;--typography-radii-full: 9999px;--typography-radii-6xl: 32px;--typography-radii-5xl: 28px;--typography-radii-4xl: 24px;--typography-radii-3xl: 20px;--typography-radii-2xl: 18px;--typography-radii-xl: 16px;--typography-radii-lg: 14px;--typography-radii-md: 12px;--typography-radii-sm: 10px;--typography-radii-xs: 8px;--typography-radii-2xs: 6px;--typography-radii-3xs: 4px;--typography-radii-4xs: 2px;--typography-radii-none: 0px;--typography-color-secondary-950: #030712;--typography-color-secondary-900: #111827;--typography-color-secondary-800: #1f2937;--typography-color-secondary-700: #374151;--typography-color-secondary-600: #4b5563;--typography-color-secondary-500: #6b7280;--typography-color-secondary-400: #9ca3af;--typography-color-secondary-300: #d1d5db;--typography-color-secondary-200: #e5e7eb;--typography-color-secondary-100: #f3f4f6;--typography-color-secondary-50: #f9fafb;--typography-color-primary-900: #001238;--typography-color-primary-800: #002370;--typography-color-primary-700: #0035a9;--typography-color-primary-600: #0047e1;--typography-color-primary-500: #1a62ff;--typography-color-primary-400: #407cff;--typography-color-primary-300: #6696ff;--typography-color-primary-200: #8db0ff;--typography-color-primary-100: #b3cbff;--typography-color-primary-50: #d9e5ff;--typography-color-black: #0E0D0D;--typography-color-white: #ffffff;--typography-font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace;--typography-font-serif: ui-serif, Georgia, Cambria, Times New Roman, Times, serif;--typography-font-sans: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, Noto Sans, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;--typography-lead-loose: 2;--typography-lead-relaxed: 1.625;--typography-lead-normal: 1.5;--typography-lead-snug: 1.375;--typography-lead-tight: 1.25;--typography-lead-none: 1;--typography-lead-10: 2.5rem;--typography-lead-9: 2.25rem;--typography-lead-8: 2rem;--typography-lead-7: 1.75rem;--typography-lead-6: 1.5rem;--typography-lead-5: 1.25rem;--typography-lead-4: 1rem;--typography-lead-3: .75rem;--typography-lead-2: .5rem;--typography-lead-1: .025rem;--typography-fontWeight-black: 900;--typography-fontWeight-extrabold: 800;--typography-fontWeight-bold: 700;--typography-fontWeight-semibold: 600;--typography-fontWeight-medium: 500;--typography-fontWeight-normal: 400;--typography-fontWeight-light: 300;--typography-fontWeight-extralight: 200;--typography-fontWeight-thin: 100;--typography-fontSize-9xl: 128px;--typography-fontSize-8xl: 96px;--typography-fontSize-7xl: 72px;--typography-fontSize-6xl: 60px;--typography-fontSize-5xl: 48px;--typography-fontSize-4xl: 36px;--typography-fontSize-3xl: 30px;--typography-fontSize-2xl: 24px;--typography-fontSize-xl: 20px;--typography-fontSize-lg: 18px;--typography-fontSize-base: 16px;--typography-fontSize-sm: 14px;--typography-fontSize-xs: 12px;--typography-letterSpacing-widest: 0.08em;--typography-letterSpacing-wider: 0.04em;--typography-letterSpacing-wide: 0.02em;--typography-letterSpacing-normal: 0em;--typography-letterSpacing-tight: -0.02em;--typography-letterSpacing-tighter: -0.04em;--typography-verticalMargin-base: 24px;--typography-verticalMargin-sm: 16px;--ease-back-inOut: cubic-bezier(0.68, -0.6, 0.32, 1.6);--ease-back-out: cubic-bezier(0.34, 1.56, 0.64, 1);--ease-back-in: cubic-bezier(0.36, 0, 0.66, -0.56);--ease-circ-inOut: cubic-bezier(0.85, 0, 0.15, 1);--ease-circ-out: cubic-bezier(0, 0.55, 0.45, 1);--ease-circ-in: cubic-bezier(0.55, 0, 1, 0.45);--ease-expo-inOut: cubic-bezier(0.87, 0, 0.13, 1);--ease-expo-out: cubic-bezier(0.16, 1, 0.3, 1);--ease-expo-in: cubic-bezier(0.7, 0, 0.84, 0);--ease-quint-inOut: cubic-bezier(0.83, 0, 0.17, 1);--ease-quint-out: cubic-bezier(0.22, 1, 0.36, 1);--ease-quint-in: cubic-bezier(0.64, 0, 0.78, 0);--ease-quart-inOut: cubic-bezier(0.76, 0, 0.24, 1);--ease-quart-out: cubic-bezier(0.25, 1, 0.5, 1);--ease-quart-in: cubic-bezier(0.5, 0, 0.75, 0);--ease-cubic-inOut: cubic-bezier(0.65, 0, 0.35, 1);--ease-cubic-out: cubic-bezier(0.33, 1, 0.68, 1);--ease-cubic-in: cubic-bezier(0.32, 0, 0.67, 0);--ease-quad-inOut: cubic-bezier(0.45, 0, 0.55, 1);--ease-quad-out: cubic-bezier(0.5, 1, 0.89, 1);--ease-quad-in: cubic-bezier(0.11, 0, 0.5, 0);--ease-sine-inOut: cubic-bezier(0.37, 0, 0.63, 1);--ease-sine-out: cubic-bezier(0.61, 1, 0.88, 1);--ease-sine-in: cubic-bezier(0.12, 0, 0.39, 0);--ease-default-inOut: cubic-bezier(0.4, 0, 0.2, 1);--ease-default-out: cubic-bezier(0, 0, 0.2, 1);--ease-default-in: cubic-bezier(0.4, 0, 1, 1);--ease-linear: cubic-bezier(0, 0, 1, 1);--lead-loose: 2;--lead-relaxed: 1.625;--lead-normal: 1.5;--lead-snug: 1.375;--lead-tight: 1.25;--lead-none: 1;--lead-10: 2.5rem;--lead-9: 2.25rem;--lead-8: 2rem;--lead-7: 1.75rem;--lead-6: 1.5rem;--lead-5: 1.25rem;--lead-4: 1rem;--lead-3: .75rem;--lead-2: .5rem;--lead-1: .025rem;--letterSpacing-widest: 0.08em;--letterSpacing-wider: 0.04em;--letterSpacing-wide: 0.02em;--letterSpacing-normal: 0em;--letterSpacing-tight: -0.02em;--letterSpacing-tighter: -0.04em;--fontSize-9xl: 8rem;--fontSize-8xl: 6rem;--fontSize-7xl: 4.5rem;--fontSize-6xl: 3.75rem;--fontSize-5xl: 3rem;--fontSize-4xl: 2.25rem;--fontSize-3xl: 1.875rem;--fontSize-2xl: 1.5rem;--fontSize-xl: 1.25rem;--fontSize-lg: 1.125rem;--fontSize-base: 1rem;--fontSize-sm: 0.875rem;--fontSize-xs: 0.75rem;--fontWeight-black: 900;--fontWeight-extrabold: 800;--fontWeight-bold: 700;--fontWeight-semibold: 600;--fontWeight-medium: 500;--fontWeight-normal: 400;--fontWeight-light: 300;--fontWeight-extralight: 200;--fontWeight-thin: 100;--font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace;--font-serif: ui-serif, Georgia, Cambria, Times New Roman, Times, serif;--font-sans: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, Noto Sans, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;--opacity-total: 1;--opacity-high: 0.8;--opacity-medium: 0.5;--opacity-soft: 0.3;--opacity-light: 0.15;--opacity-bright: 0.1;--opacity-noOpacity: 0;--borderWidth-lg: 3px;--borderWidth-md: 2px;--borderWidth-sm: 1px;--borderWidth-noBorder: 0;--space-rem-875: 0.875rem;--space-rem-625: 0.625rem;--space-rem-375: 0.375rem;--space-rem-125: 0.125rem;--space-px: 1px;--space-128: 32rem;--space-96: 24rem;--space-80: 20rem;--space-72: 18rem;--space-64: 16rem;--space-60: 15rem;--space-56: 14rem;--space-52: 13rem;--space-48: 12rem;--space-44: 11rem;--space-40: 10rem;--space-36: 9rem;--space-32: 8rem;--space-28: 7rem;--space-24: 6rem;--space-20: 5rem;--space-16: 4rem;--space-14: 3.5rem;--space-12: 3rem;--space-11: 2.75rem;--space-10: 2.5rem;--space-9: 2.25rem;--space-8: 2rem;--space-7: 1.75rem;--space-6: 1.5rem;--space-5: 1.25rem;--space-4: 1rem;--space-3: 0.75rem;--space-2: 0.5rem;--space-1: 0.25rem;--space-0: 0px;--size-full: 100%;--size-7xl: 80rem;--size-6xl: 72rem;--size-5xl: 64rem;--size-4xl: 56rem;--size-3xl: 48rem;--size-2xl: 42rem;--size-xl: 36rem;--size-lg: 32rem;--size-md: 28rem;--size-sm: 24rem;--size-xs: 20rem;--size-200: 200px;--size-104: 104px;--size-80: 80px;--size-64: 64px;--size-56: 56px;--size-48: 48px;--size-40: 40px;--size-32: 32px;--size-24: 24px;--size-20: 20px;--size-16: 16px;--size-12: 12px;--size-8: 8px;--size-6: 6px;--size-4: 4px;--size-2: 2px;--size-0: 0px;--radii-full: 9999px;--radii-6xl: 32px;--radii-5xl: 28px;--radii-4xl: 24px;--radii-3xl: 20px;--radii-2xl: 18px;--radii-xl: 16px;--radii-lg: 14px;--radii-md: 12px;--radii-sm: 10px;--radii-xs: 8px;--radii-2xs: 6px;--radii-3xs: 4px;--radii-4xs: 2px;--radii-none: 0px;--shadow-none: 0px 0px 0px 0px transparent;--shadow-lg: 0px 10px 15px -3px #000000, 0px 4px 6px -4px #000000;--shadow-md: 0px 4px 6px -1px #000000, 0px 2px 4px -2px #000000;--shadow-sm: 0px 1px 3px 0px #000000, 0px 1px 2px -1px #000000;--shadow-xs: 0px 1px 2px 0px #000000;--height-screen: 100vh;--width-screen: 100vw;--color-secondary-950: #030712;--color-secondary-900: #111827;--color-secondary-800: #1f2937;--color-secondary-700: #374151;--color-secondary-600: #4b5563;--color-secondary-500: #6b7280;--color-secondary-400: #9ca3af;--color-secondary-300: #d1d5db;--color-secondary-200: #e5e7eb;--color-secondary-100: #f3f4f6;--color-secondary-50: #f9fafb;--color-primary-950: #022c22;--color-primary-900: #064e3b;--color-primary-800: #065f46;--color-primary-700: #047857;--color-primary-600: #059669;--color-primary-500: #10b981;--color-primary-400: #34d399;--color-primary-300: #6ee7b7;--color-primary-200: #a7f3d0;--color-primary-100: #d1fae5;--color-primary-50: #ecfdf5;--color-ruby-900: #380011;--color-ruby-800: #700021;--color-ruby-700: #a90032;--color-ruby-600: #e10043;--color-ruby-500: #ff1a5e;--color-ruby-400: #ff4079;--color-ruby-300: #ff6694;--color-ruby-200: #ff8dae;--color-ruby-100: #ffb3c9;--color-ruby-50: #ffd9e4;--color-pink-900: #380025;--color-pink-800: #70004b;--color-pink-700: #a90070;--color-pink-600: #e10095;--color-pink-500: #ff1ab2;--color-pink-400: #ff40bf;--color-pink-300: #ff66cc;--color-pink-200: #ff8dd8;--color-pink-100: #ffb3e5;--color-pink-50: #ffd9f2;--color-purple-900: #080020;--color-purple-800: #14014A;--color-purple-700: #200273;--color-purple-600: #370DAD;--color-purple-500: #6B39FA;--color-purple-400: #8961FD;--color-purple-300: #A589F9;--color-purple-200: #E5DCFF;--color-purple-100: #F1ECFF;--color-purple-50: #F8F5FF;--color-violet-900: #190038;--color-violet-800: #330070;--color-violet-700: #4c00a9;--color-violet-600: #6500e1;--color-violet-500: #811aff;--color-violet-400: #9640ff;--color-violet-300: #ab66ff;--color-violet-200: #c08dff;--color-violet-100: #d5b3ff;--color-violet-50: #ead9ff;--color-royalblue-900: #0b0531;--color-royalblue-800: #160a62;--color-royalblue-700: #211093;--color-royalblue-600: #2c15c4;--color-royalblue-500: #4127e8;--color-royalblue-400: #614bec;--color-royalblue-300: #806ff0;--color-royalblue-200: #a093f3;--color-royalblue-100: #c0b7f7;--color-royalblue-50: #dfdbfb;--color-indigoblue-900: #001238;--color-indigoblue-800: #002370;--color-indigoblue-700: #0035a9;--color-indigoblue-600: #0047e1;--color-indigoblue-500: #1a62ff;--color-indigoblue-400: #407cff;--color-indigoblue-300: #6696ff;--color-indigoblue-200: #8db0ff;--color-indigoblue-100: #b3cbff;--color-indigoblue-50: #d9e5ff;--color-blue-900: #00131D;--color-blue-800: #002235;--color-blue-700: #013858;--color-blue-600: #01659E;--color-blue-500: #1AADFF;--color-blue-400: #64C7FF;--color-blue-300: #A1DDFF;--color-blue-200: #D0EEFF;--color-blue-100: #E2F4FF;--color-blue-50: #F2FAFF;--color-lightblue-900: #001A1F;--color-lightblue-800: #00232B;--color-lightblue-700: #013858;--color-lightblue-600: #0893B1;--color-lightblue-500: #1AD6FF;--color-lightblue-400: #55E1FF;--color-lightblue-300: #82E3FF;--color-lightblue-200: #C5F2FF;--color-lightblue-100: #DCF7FF;--color-lightblue-50: #F1FCFF;--color-teal-900: #062a28;--color-teal-800: #0b544f;--color-teal-700: #117d77;--color-teal-600: #16a79e;--color-teal-500: #1cd1c6;--color-teal-400: #36e4da;--color-teal-300: #5fe9e1;--color-teal-200: #87efe9;--color-teal-100: #aff4f0;--color-teal-50: #d7faf8;--color-pear-900: #2a2b09;--color-pear-800: #545512;--color-pear-700: #7e801b;--color-pear-600: #a8aa24;--color-pear-500: #d0d32f;--color-pear-400: #d8da52;--color-pear-300: #e0e274;--color-pear-200: #e8e997;--color-pear-100: #eff0ba;--color-pear-50: #f7f8dc;--color-red-900: #1C0301;--color-red-800: #340A01;--color-red-700: #550F00;--color-red-600: #AD2203;--color-red-500: #FF3B10;--color-red-400: #FF7353;--color-red-300: #FFA692;--color-red-200: #FFE6E1;--color-red-100: #FFF0EC;--color-red-50: #FFF9F8;--color-pumpkin-900: #381800;--color-pumpkin-800: #702f00;--color-pumpkin-700: #a94700;--color-pumpkin-600: #e15e00;--color-pumpkin-500: #ff7a1a;--color-pumpkin-400: #ff9040;--color-pumpkin-300: #ffa666;--color-pumpkin-200: #ffbd8d;--color-pumpkin-100: #ffd3b3;--color-pumpkin-50: #ffe9d9;--color-orange-900: #1A0A01;--color-orange-800: #2D1102;--color-orange-700: #3F1802;--color-orange-600: #7E3004;--color-orange-500: #FA630E;--color-orange-400: #FC8E51;--color-orange-300: #FDAC7E;--color-orange-200: #FFE5D7;--color-orange-100: #FFEFE5;--color-orange-50: #FFF7F2;--color-yellow-900: #1B1500;--color-yellow-800: #292100;--color-yellow-700: #463801;--color-yellow-600: #AB8A07;--color-yellow-500: #FBCA05;--color-yellow-400: #FFDC4E;--color-yellow-300: #FFE372;--color-yellow-200: #FFF3C0;--color-yellow-100: #FFF7D9;--color-yellow-50: #FFFCEE;--color-green-900: #00190F;--color-green-800: #002817;--color-green-700: #01492C;--color-green-600: #039B5A;--color-green-500: #0DD885;--color-green-400: #3CEEA5;--color-green-300: #86FBCB;--color-green-200: #C0FFE4;--color-green-100: #DBFFF0;--color-green-50: #ECFFF7;--color-gray-900: #121110;--color-gray-800: #1C1B19;--color-gray-700: #292724;--color-gray-600: #3D3B38;--color-gray-500: #97948F;--color-gray-400: #ADA9A4;--color-gray-300: #DBD9D3;--color-gray-200: #ECEBE8;--color-gray-100: #F3F3F2;--color-gray-50: #FBFBFB;--color-black: #0E0D0D;--color-white: #ffffff;--media-portrait: only screen and (orientation: portrait);--media-landscape: only screen and (orientation: landscape);--media-rm: (prefers-reduced-motion: reduce);--media-2xl: (min-width: 1536px);--media-xl: (min-width: 1280px);--media-lg: (min-width: 1024px);--media-md: (min-width: 768px);--media-sm: (min-width: 640px);--media-xs: (min-width: 475px);--elements-drawer-maxWidth: var(--size-xs);--elements-modal-scrim-backgroundColor: var(--color-gray-50);--elements-videoPlayer-borderRadius: var(--radii-sm);--elements-videoPlayer-backgroundColor: var(--color-gray-900);--elements-videoPlayer-marginY: var(--space-8);--elements-sandbox-borderRadius: var(--radii-md);--elements-list-item-icon-height: var(--space-4);--elements-list-item-icon-width: var(--space-4);--elements-list-item-icon-borderRadius: var(--radii-full);--elements-list-item-icon-padding: var(--space-1);--elements-list-item-icon-marginInlineEnd: var(--space-3);--elements-list-item-marginBottom: var(--space-3);--elements-tooltip-content-padding: var(--space-3) var(--space-4);--elements-tooltip-content-borderColor: transparent;--elements-tooltip-content-fontWeight: var(--typography-fontWeight-normal);--elements-tooltip-content-color: var(--color-gray-100);--elements-tooltip-content-backgroundColor: var(--color-gray-700);--elements-tooltip-trigger-outline-focusVisible: 2px solid var(--color-primary-500);--elements-disclosure-content-verticalMargin: var(--typography-verticalMargin-sm);--elements-disclosure-summary-chevron-height: var(--space-5);--elements-disclosure-summary-chevron-width: var(--space-5);--elements-disclosure-summary-icon-marginInlineEnd: var(--space-3);--elements-disclosure-summary-icon-height: var(--space-6);--elements-disclosure-summary-icon-width: var(--space-6);--elements-disclosure-borderRadius: var(--radii-none);--elements-callout-content-verticalMargin: var(--typography-verticalMargin-sm);--elements-callout-title-marginBottom: var(--space-1);--elements-callout-title-fontWeight: var(--fontWeight-medium);--elements-callout-icon-marginInlineEnd: var(--space-3);--elements-callout-icon-height: var(--space-7);--elements-callout-icon-width: var(--space-6);--elements-callout-paddingY: var(--space-4);--elements-callout-paddingX: var(--space-4);--elements-codePreview-padding: var(--space-4);--elements-codePreview-gap: var(--space-4);--elements-codeGroup-tabs-active-backgroundColor: var(--color-gray-50);--elements-codeGroup-tabs-active-color: var(--color-gray-900);--elements-codeGroup-tabs-inactive-backgroundColor: var(--color-gray-100);--elements-codeGroup-tabs-inactive-color-hover: var(--color-gray-900);--elements-codeGroup-tabs-inactive-color-static: var(--color-gray-500);--elements-codeGroup-tabs-icon-size: var(--space-4);--elements-codeGroup-tabs-icon-marginInlineEnd: var(--space-2);--elements-codeGroup-tabs-letterSpacing: var(--letterSpacing-tight);--elements-codeGroup-tabs-fontFamily: var(--font-mono);--elements-codeGroup-tabs-paddingX: var(--space-4);--elements-codeGroup-tabs-paddingY: var(--space-2);--elements-codeCollapse-gradientBackdrop-background: linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, var(--prose-code-block-backgroundColor) 100%);--elements-codeCollapse-button-backgroundColor: var(--color-gray-50);--elements-codeCollapse-button-paddingX: var(--space-3);--elements-codeCollapse-button-paddingY: var(--space-1);--elements-codeCollapse-button-bottom: var(--space-2);--elements-codeCollapse-borderStyle: var(--prose-code-block-borderStyle);--elements-codeCollapse-borderWidth: var(--prose-code-block-borderWidth);--elements-buttonLink-giant-padding: var(--space-3) var(--space-5);--elements-buttonLink-large-padding: var(--space-2) var(--space-4);--elements-buttonLink-medium-padding: var(--space-2) var(--space-4);--elements-buttonLink-small-padding: var(--space-1) var(--space-3);--elements-buttonLink-icon-marginInlineEnd: var(--space-2);--elements-buttonLink-borderRadius: var(--radii-2xs);--elements-buttonLink-fontWeight: var(--fontWeight-semibold);--elements-badge-letterSpacing: var(--letterSpacing-tight);--elements-badge-lineHeight: var(--typography-lead-none);--elements-badge-fontWeight: var(--fontWeight-normal);--elements-badge-paddingY: var(--space-1);--elements-badge-paddingX: var(--space-2);--elements-alert-closeButton-icon-height: var(--space-4);--elements-alert-closeButton-icon-width: var(--space-4);--elements-alert-closeButton-marginInlineStart: var(--space-2);--elements-alert-closeButton-padding: var(--space-1);--elements-alert-icon-marginInlineEnd: var(--space-3);--elements-alert-icon-height: var(--space-6);--elements-alert-icon-width: var(--space-6);--elements-alert-paddingY: var(--space-4);--elements-alert-paddingX: var(--space-4);--elements-announce-icon-backgroundColor: var(--color-gray-200);--elements-announce-icon-borderRadius: var(--radii-full);--elements-announce-icon-padding: var(--space-1) var(--space-2);--elements-announce-content-paddingX: var(--space-3);--elements-announce-fontWeight: var(--fontWeight-medium);--elements-announce-borderRadius: var(--radii-full);--elements-announce-backgroundColor: var(--color-gray-100);--elements-announce-padding: var(--space-1);--elements-state-danger-borderColor-secondary: var(--color-red-200);--elements-state-danger-borderColor-primary: var(--color-red-100);--elements-state-danger-backgroundColor-tertiary: var(--color-red-200);--elements-state-danger-backgroundColor-secondary: var(--color-red-100);--elements-state-danger-backgroundColor-primary: var(--color-red-50);--elements-state-danger-color-tertiary: var(--color-red-700);--elements-state-danger-color-secondary: var(--color-red-600);--elements-state-danger-color-primary: var(--color-red-500);--elements-state-warning-borderColor-secondary: var(--color-yellow-200);--elements-state-warning-borderColor-primary: var(--color-yellow-100);--elements-state-warning-backgroundColor-tertiary: var(--color-yellow-200);--elements-state-warning-backgroundColor-secondary: var(--color-yellow-100);--elements-state-warning-backgroundColor-primary: var(--color-yellow-50);--elements-state-warning-color-tertiary: var(--color-yellow-700);--elements-state-warning-color-secondary: var(--color-yellow-600);--elements-state-warning-color-primary: var(--color-yellow-500);--elements-state-success-borderColor-secondary: var(--color-green-200);--elements-state-success-borderColor-primary: var(--color-green-100);--elements-state-success-backgroundColor-tertiary: var(--color-green-200);--elements-state-success-backgroundColor-secondary: var(--color-green-100);--elements-state-success-backgroundColor-primary: var(--color-green-50);--elements-state-success-color-tertiary: var(--color-green-700);--elements-state-success-color-secondary: var(--color-green-600);--elements-state-success-color-primary: var(--color-green-500);--elements-state-info-borderColor-secondary: var(--color-blue-200);--elements-state-info-borderColor-primary: var(--color-blue-100);--elements-state-info-backgroundColor-tertiary: var(--color-blue-200);--elements-state-info-backgroundColor-secondary: var(--color-blue-100);--elements-state-info-backgroundColor-primary: var(--color-blue-50);--elements-state-info-color-tertiary: var(--color-blue-700);--elements-state-info-color-secondary: var(--color-blue-600);--elements-state-info-color-primary: var(--color-blue-500);--elements-state-secondary-borderColor-secondary: var(--color-secondary-200);--elements-state-secondary-borderColor-primary: var(--color-secondary-100);--elements-state-secondary-backgroundColor-tertiary: var(--color-secondary-200);--elements-state-secondary-backgroundColor-secondary: var(--color-secondary-100);--elements-state-secondary-backgroundColor-primary: var(--color-secondary-50);--elements-state-secondary-color-tertiary: var(--color-secondary-700);--elements-state-secondary-color-secondary: var(--color-secondary-600);--elements-state-secondary-color-primary: var(--color-secondary-500);--elements-state-primary-borderColor-secondary: var(--color-primary-200);--elements-state-primary-borderColor-primary: var(--color-primary-100);--elements-state-primary-backgroundColor-tertiary: var(--color-primary-200);--elements-state-primary-backgroundColor-secondary: var(--color-primary-100);--elements-state-primary-backgroundColor-primary: var(--color-primary-50);--elements-state-primary-color-tertiary: var(--color-primary-700);--elements-state-primary-color-secondary: var(--color-primary-600);--elements-state-primary-color-primary: var(--color-primary-500);--elements-state-neutral-borderColor-secondary: var(--color-gray-300);--elements-state-neutral-borderColor-primary: var(--color-gray-200);--elements-state-neutral-backgroundColor-tertiary: var(--color-gray-300);--elements-state-neutral-backgroundColor-secondary: var(--color-gray-200);--elements-state-neutral-backgroundColor-primary: var(--color-gray-100);--elements-state-neutral-color-tertiary: var(--color-gray-700);--elements-state-neutral-color-secondary: var(--color-gray-600);--elements-state-neutral-color-primary: var(--color-gray-500);--elements-surface-secondary-backgroundColor: var(--color-gray-200);--elements-surface-primary-backgroundColor: var(--color-gray-100);--elements-border-secondary-static: var(--color-gray-300);--elements-border-primary-hover: var(--color-gray-300);--elements-border-primary-static: var(--color-gray-200);--elements-text-tertiary-color-static: var(--color-gray-300);--elements-text-secondary-color-hover: var(--color-gray-700);--elements-text-secondary-color-static: var(--color-gray-500);--elements-text-primary-color-static: var(--color-gray-900);--elements-radii-base: var(--radii-3xs);--prose-code-inline-color: var(--typography-color-secondary-700);--prose-code-inline-fontWeight: var(--typography-fontWeight-normal);--prose-code-inline-fontSize: var(--typography-fontSize-sm);--prose-code-inline-borderRadius: var(--typography-radii-3xs);--prose-code-block-pre-padding: var(--typography-verticalMargin-sm);--prose-code-block-color: var(--typography-color-secondary-700);--prose-code-block-borderRadius: var(--typography-radii-3xs);--prose-code-block-borderColor: var(--typography-color-secondary-200);--prose-code-block-margin: var(--typography-verticalMargin-base) 0;--prose-code-block-fontSize: var(--typography-fontSize-sm);--prose-tbody-code-inline-fontSize: var(--typography-fontSize-sm);--prose-tbody-td-padding: var(--typography-verticalMargin-sm);--prose-tbody-tr-borderBottom-color: var(--typography-color-secondary-200);--prose-th-fontWeight: var(--typography-fontWeight-semibold);--prose-th-padding: 0 var(--typography-verticalMargin-sm) var(--typography-verticalMargin-sm) var(--typography-verticalMargin-sm);--prose-th-color: var(--typography-color-secondary-600);--prose-thead-borderBottom-color: var(--typography-color-secondary-200);--prose-thead-border-color: var(--typography-color-secondary-300);--prose-table-lineHeight: var(--typography-lead-6);--prose-table-fontSize: var(--typography-fontSize-sm);--prose-table-margin: var(--typography-verticalMargin-base) 0;--prose-hr-color: var(--typography-color-secondary-200);--prose-hr-margin: var(--typography-verticalMargin-base) 0;--prose-li-margin: var(--typography-verticalMargin-sm) 0;--prose-ol-margin: var(--typography-verticalMargin-base) 0;--prose-ul-margin: var(--typography-verticalMargin-base) 0;--prose-blockquote-border-color: var(--typography-color-secondary-200);--prose-blockquote-color: var(--typography-color-secondary-500);--prose-blockquote-margin: var(--typography-verticalMargin-base) 0;--prose-a-code-background-hover: var(--typography-color-primary-50);--prose-a-code-border-color-hover: var(--typography-color-primary-500);--prose-a-code-border-color-static: var(--typography-color-secondary-400);--prose-a-code-border-style: var(--prose-a-border-style-static);--prose-a-code-border-width: var(--prose-a-border-width);--prose-a-fontWeight: var(--typography-fontWeight-medium);--prose-a-color-hover: var(--typography-color-primary-500);--prose-img-borderRadius: var(--typography-radii-3xs);--prose-img-margin: var(--typography-verticalMargin-base) 3;--prose-strong-fontWeight: var(--typography-fontWeight-semibold);--prose-h6-iconSize: var(--typography-fontSize-base);--prose-h6-fontWeight: var(--typography-fontWeight-semibold);--prose-h6-lineHeight: var(--typography-lead-normal);--prose-h6-fontSize: var(--typography-fontSize-lg);--prose-h5-iconSize: var(--typography-fontSize-lg);--prose-h5-fontWeight: var(--typography-fontWeight-semibold);--prose-h5-lineHeight: var(--typography-lead-snug);--prose-h5-fontSize: var(--typography-fontSize-xl);--prose-h4-iconSize: var(--typography-fontSize-lg);--prose-h4-letterSpacing: var(--typography-letterSpacing-tight);--prose-h4-fontWeight: var(--typography-fontWeight-semibold);--prose-h4-lineHeight: var(--typography-lead-snug);--prose-h4-fontSize: var(--typography-fontSize-2xl);--prose-h3-iconSize: var(--typography-fontSize-xl);--prose-h3-letterSpacing: var(--typography-letterSpacing-tight);--prose-h3-fontWeight: var(--typography-fontWeight-semibold);--prose-h3-lineHeight: var(--typography-lead-snug);--prose-h3-fontSize: var(--typography-fontSize-3xl);--prose-h2-iconSize: var(--typography-fontSize-2xl);--prose-h2-letterSpacing: var(--typography-letterSpacing-tight);--prose-h2-fontWeight: var(--typography-fontWeight-semibold);--prose-h2-lineHeight: var(--typography-lead-tight);--prose-h2-fontSize: var(--typography-fontSize-4xl);--prose-h1-iconSize: var(--typography-fontSize-3xl);--prose-h1-letterSpacing: var(--typography-letterSpacing-tight);--prose-h1-fontWeight: var(--typography-fontWeight-bold);--prose-h1-lineHeight: var(--typography-lead-tight);--prose-h1-fontSize: var(--typography-fontSize-5xl);--prose-p-br-margin: var(--typography-verticalMargin-base) 0 0 0;--prose-p-margin: var(--typography-verticalMargin-base) 0;--prose-p-lineHeight: var(--typography-lead-normal);--prose-p-fontSize: var(--typography-fontSize-base);--typography-font-code: var(--typography-font-mono);--typography-font-body: var(--typography-font-sans);--typography-font-display: var(--typography-font-sans);--typography-body-backgroundColor: var(--typography-color-white);--typography-body-color: var(--typography-color-black);--text-6xl-lineHeight: var(--lead-none);--text-6xl-fontSize: var(--fontSize-6xl);--text-5xl-lineHeight: var(--lead-none);--text-5xl-fontSize: var(--fontSize-5xl);--text-4xl-lineHeight: var(--lead-10);--text-4xl-fontSize: var(--fontSize-4xl);--text-3xl-lineHeight: var(--lead-9);--text-3xl-fontSize: var(--fontSize-3xl);--text-2xl-lineHeight: var(--lead-8);--text-2xl-fontSize: var(--fontSize-2xl);--text-xl-lineHeight: var(--lead-7);--text-xl-fontSize: var(--fontSize-xl);--text-lg-lineHeight: var(--lead-7);--text-lg-fontSize: var(--fontSize-lg);--text-base-lineHeight: var(--lead-6);--text-base-fontSize: var(--fontSize-base);--text-sm-lineHeight: var(--lead-5);--text-sm-fontSize: var(--fontSize-sm);--text-xs-lineHeight: var(--lead-4);--text-xs-fontSize: var(--fontSize-xs);--shadow-2xl: 0px 25px 50px -12px var(--color-gray-900);--shadow-xl: 0px 20px 25px -5px var(--color-gray-400), 0px 8px 10px -6px #000000;--elements-sandbox-borderColor: var(--elements-border-secondary-static);--elements-sandbox-lineHeight: var(--text-3xl-lineHeight);--elements-sandbox-fontSize: var(--text-3xl-fontSize);--elements-sandbox-backgroundColor: var(--elements-surface-primary-backgroundColor);--elements-tooltip-content-borderRadius: var(--elements-radii-base);--elements-tooltip-content-lineHeight: var(--text-sm-lineHeight);--elements-tooltip-content-fontSize: var(--text-sm-fontSize);--elements-disclosure-opened-summary-borderTopRightRadius: var(--elements-radii-base);--elements-disclosure-opened-summary-borderTopLeftRadius: var(--elements-radii-base);--elements-disclosure-content-borderBottomRightRadius: var(--elements-radii-base);--elements-disclosure-content-borderBottomLeftRadius: var(--elements-radii-base);--elements-disclosure-summary-chevron-borderRadius: var(--elements-radii-base);--elements-disclosure-summary-borderRadius: var(--elements-radii-base);--elements-callout-title-lineHeight: var(--text-xl-lineHeight);--elements-callout-title-fontSize: var(--text-xl-fontSize);--elements-callout-icon-lineHeight: var(--text-xl-lineHeight);--elements-callout-icon-fontSize: var(--text-xl-fontSize);--elements-callout-borderRadius: var(--elements-radii-base);--elements-codeGroup-tabs-inactive-borderBlockEnd: 1px solid var(--elements-border-primary-static);--elements-codeGroup-tabs-borderInlineEnd: 1px solid var(--elements-border-primary-static);--elements-codeGroup-tabs-borderInlineStart: 1px solid var(--elements-border-primary-static);--elements-codeGroup-tabs-lineHeight: var(--text-sm-lineHeight);--elements-codeGroup-tabs-fontSize: var(--text-sm-fontSize);--elements-codeGroup-borderRadius: var(--elements-radii-base);--elements-codeGroup-borderColor: var(--elements-border-primary-static);--elements-codeCollapse-button-color: var(--elements-text-secondary-color-static);--elements-codeCollapse-button-lineHeight: var(--text-sm-lineHeight);--elements-codeCollapse-button-fontSize: var(--text-sm-fontSize);--elements-codeCollapse-button-borderColor: var(--elements-border-secondary-static);--elements-codeCollapse-button-borderRadius: var(--elements-radii-base);--elements-codeCollapse-borderColor: var(--prose-code-block-borderColor);--elements-codeCollapse-borderRadius: var(--elements-radii-base);--elements-codeCollapse-margin: var(--prose-code-block-margin);--elements-buttonLink-giant-lineHeight: var(--text-xl-lineHeight);--elements-buttonLink-giant-fontSize: var(--text-xl-fontSize);--elements-buttonLink-large-lineHeight: var(--text-lg-lineHeight);--elements-buttonLink-large-fontSize: var(--text-lg-fontSize);--elements-buttonLink-medium-lineHeight: var(--text-base-lineHeight);--elements-buttonLink-medium-fontSize: var(--text-base-fontSize);--elements-buttonLink-small-lineHeight: var(--text-sm-lineHeight);--elements-buttonLink-small-fontSize: var(--text-sm-fontSize);--elements-badge-borderRadius: var(--elements-radii-base);--elements-badge-fontSize: var(--text-base-fontSize);--elements-alert-closeButton-border-radius: var(--elements-radii-base);--elements-alert-borderRadius: var(--elements-radii-base);--elements-announce-lineHeight: var(--text-sm-lineHeight);--elements-announce-fontSize: var(--text-sm-fontSize);--elements-announce-borderColor: var(--elements-border-primary-static);--prose-a-code-color-static: var(--prose-code-inline-color); } }@media { :root.dark {--pinceau-mq: dark; --elements-tooltip-content-borderStyle: solid;--elements-tooltip-content-borderWidth: 1px;--elements-backdrop-background: #0c0d0ccc;--prose-code-inline-backgroundColor: #111827;--prose-code-block-backdropFilter: contrast(1);--prose-code-block-backgroundColor: #111827;--prose-ol-li-markerColor: currentColor;--prose-ul-li-markerColor: currentColor;--prose-a-code-color-hover: currentColor;--prose-a-border-color-hover: currentColor;--prose-a-border-color-static: currentColor;--prose-a-color-static: inherit;--elements-modal-scrim-backgroundColor: var(--color-gray-900);--elements-tooltip-content-borderColor: var(--color-gray-700);--elements-tooltip-content-backgroundColor: var(--color-gray-800);--elements-codeGroup-tabs-active-backgroundColor: var(--prose-code-block-backgroundColor);--elements-codeGroup-tabs-active-color: var(--color-gray-300);--elements-codeGroup-tabs-inactive-backgroundColor: var(--color-black);--elements-codeGroup-tabs-inactive-color-hover: var(--color-gray-300);--elements-codeGroup-tabs-inactive-color-static: var(--color-gray-500);--elements-codeCollapse-button-backgroundColor: var(--color-black);--elements-announce-icon-backgroundColor: var(--color-gray-700);--elements-announce-backgroundColor: var(--color-gray-800);--elements-state-danger-borderColor-secondary: var(--color-red-700);--elements-state-danger-borderColor-primary: var(--color-red-800);--elements-state-danger-backgroundColor-tertiary: var(--color-red-700);--elements-state-danger-backgroundColor-secondary: var(--color-red-800);--elements-state-danger-backgroundColor-primary: var(--color-red-900);--elements-state-danger-color-tertiary: var(--color-red-100);--elements-state-danger-color-secondary: var(--color-red-400);--elements-state-danger-color-primary: var(--color-red-500);--elements-state-warning-borderColor-secondary: var(--color-yellow-700);--elements-state-warning-borderColor-primary: var(--color-yellow-800);--elements-state-warning-backgroundColor-tertiary: var(--color-yellow-700);--elements-state-warning-backgroundColor-secondary: var(--color-yellow-800);--elements-state-warning-backgroundColor-primary: var(--color-yellow-900);--elements-state-warning-color-tertiary: var(--color-yellow-100);--elements-state-warning-color-secondary: var(--color-yellow-400);--elements-state-warning-color-primary: var(--color-yellow-500);--elements-state-success-borderColor-secondary: var(--color-green-700);--elements-state-success-borderColor-primary: var(--color-green-800);--elements-state-success-backgroundColor-tertiary: var(--color-green-700);--elements-state-success-backgroundColor-secondary: var(--color-green-800);--elements-state-success-backgroundColor-primary: var(--color-green-900);--elements-state-success-color-tertiary: var(--color-green-100);--elements-state-success-color-secondary: var(--color-green-400);--elements-state-success-color-primary: var(--color-green-500);--elements-state-info-borderColor-secondary: var(--color-blue-700);--elements-state-info-borderColor-primary: var(--color-blue-800);--elements-state-info-backgroundColor-tertiary: var(--color-blue-700);--elements-state-info-backgroundColor-secondary: var(--color-blue-800);--elements-state-info-backgroundColor-primary: var(--color-blue-900);--elements-state-info-color-tertiary: var(--color-blue-100);--elements-state-info-color-secondary: var(--color-blue-400);--elements-state-info-color-primary: var(--color-blue-500);--elements-state-secondary-borderColor-secondary: var(--color-secondary-700);--elements-state-secondary-borderColor-primary: var(--color-secondary-800);--elements-state-secondary-backgroundColor-tertiary: var(--color-secondary-700);--elements-state-secondary-backgroundColor-secondary: var(--color-secondary-800);--elements-state-secondary-backgroundColor-primary: var(--color-secondary-900);--elements-state-secondary-color-tertiary: var(--color-secondary-100);--elements-state-secondary-color-secondary: var(--color-secondary-400);--elements-state-secondary-color-primary: var(--color-secondary-500);--elements-state-primary-borderColor-secondary: var(--color-primary-700);--elements-state-primary-borderColor-primary: var(--color-primary-800);--elements-state-primary-backgroundColor-tertiary: var(--color-primary-700);--elements-state-primary-backgroundColor-secondary: var(--color-primary-800);--elements-state-primary-backgroundColor-primary: var(--color-primary-900);--elements-state-primary-color-tertiary: var(--color-primary-100);--elements-state-primary-color-secondary: var(--color-primary-400);--elements-state-primary-color-primary: var(--color-primary-500);--elements-state-neutral-borderColor-secondary: var(--color-gray-600);--elements-state-neutral-borderColor-primary: var(--color-gray-700);--elements-state-neutral-backgroundColor-tertiary: var(--color-gray-600);--elements-state-neutral-backgroundColor-secondary: var(--color-gray-700);--elements-state-neutral-backgroundColor-primary: var(--color-gray-800);--elements-state-neutral-color-tertiary: var(--color-gray-100);--elements-state-neutral-color-secondary: var(--color-gray-400);--elements-state-neutral-color-primary: var(--color-gray-500);--elements-surface-secondary-backgroundColor: var(--color-gray-800);--elements-surface-primary-backgroundColor: var(--color-gray-900);--elements-border-secondary-static: var(--color-gray-700);--elements-border-primary-hover: var(--color-gray-700);--elements-border-primary-static: var(--color-gray-800);--elements-text-tertiary-color-static: var(--color-gray-600);--elements-text-secondary-color-hover: var(--color-gray-200);--elements-text-secondary-color-static: var(--color-gray-400);--elements-text-primary-color-static: var(--color-gray-50);--prose-code-inline-color: var(--typography-color-secondary-200);--prose-code-block-color: var(--typography-color-secondary-200);--prose-code-block-borderColor: var(--typography-color-secondary-800);--prose-tbody-tr-borderBottom-color: var(--typography-color-secondary-800);--prose-th-color: var(--typography-color-secondary-400);--prose-thead-borderBottom-color: var(--typography-color-secondary-800);--prose-thead-border-color: var(--typography-color-secondary-600);--prose-hr-color: var(--typography-color-secondary-800);--prose-blockquote-border-color: var(--typography-color-secondary-700);--prose-blockquote-color: var(--typography-color-secondary-400);--prose-a-code-background-hover: var(--typography-color-primary-900);--prose-a-code-border-color-hover: var(--typography-color-primary-600);--prose-a-code-border-color-static: var(--typography-color-secondary-600);--prose-a-color-hover: var(--typography-color-primary-500);--typography-body-backgroundColor: var(--typography-color-black);--typography-body-color: var(--typography-color-white); } }@media (min-width: 475px) { :root {--pinceau-mq: xs; --test: 1px; } }@media (min-width: 640px) { :root {--pinceau-mq: sm; --test: 2px; } }@media (min-width: 768px) { :root {--pinceau-mq: md; --test: 3px; } }@media (min-width: 1024px) { :root {--pinceau-mq: lg; --test: 4px; } }@media (min-width: 1280px) { :root {--pinceau-mq: xl; --test: 5px; } }@media (min-width: 1536px) { :root {--pinceau-mq: 2xl; --test: 6px; } }</style><script>"use strict";(()=>{const t=window,e=document.documentElement,c=["dark","light"],n=getStorageValue("localStorage","nuxt-color-mode")||"system";let i=n==="system"?u():n;const r=e.getAttribute("data-color-mode-forced");r&&(i=r),l(i),t["__NUXT_COLOR_MODE__"]={preference:n,value:i,getColorScheme:u,addColorScheme:l,removeColorScheme:d};function l(o){const s=""+o+"",a="";e.classList?e.classList.add(s):e.className+=" "+s,a&&e.setAttribute("data-"+a,o)}function d(o){const s=""+o+"",a="";e.classList?e.classList.remove(s):e.className=e.className.replace(new RegExp(s,"g"),""),a&&e.removeAttribute("data-"+a)}function f(o){return t.matchMedia("(prefers-color-scheme"+o+")")}function u(){if(t.matchMedia&&f("").media!=="not all"){for(const o of c)if(f(":"+o).matches)return o}return"light"}})();function getStorageValue(t,e){switch(t){case"localStorage":return window.localStorage.getItem(e);case"sessionStorage":return window.sessionStorage.getItem(e);case"cookie":return getCookie(e);default:return null}}function getCookie(t){const c=("; "+window.document.cookie).split("; "+t+"=");if(c.length===2)return c.pop()?.split(";").shift()}</script></head><body><noscript><iframe data-name="google-tag-manager" data-src="https://www.googletagmanager.com/ns.html?id=GTM-KW7KLVJR"
        height="0" width="0" style="display:none;visibility:hidden">
      </iframe></noscript><div id="__nuxt"><div class="sm:pt-6 sm:pb-10 px-4 py-10"><!----><!----><div class="nuxt-progress" style="width:0%;height:3px;opacity:0;background-size:Infinity% auto;"></div><div class="items-center justify-end space-x-6 mr-16 hidden md:flex print:hidden" data-v-dde0e1f0><a href="/tutorials" class="align-middle flex flex-row items-center transition duration-500 hover:duration-500 hover:text-cyan-700 dark:hover:text-cyan-700" data-v-dde0e1f0><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-dde0e1f0 style="" width="1em" height="1em" viewBox="0 0 32 32" data-v-852cba11><path fill="currentColor" d="M26 30h-2v-3a5.006 5.006 0 0 0-5-5h-6a5.006 5.006 0 0 0-5 5v3H6v-3a7.01 7.01 0 0 1 7-7h6a7.01 7.01 0 0 1 7 7ZM5 6a1 1 0 0 0-1 1v9h2V7a1 1 0 0 0-1-1"/><path fill="currentColor" d="M4 2v2h5v7a7 7 0 0 0 14 0V4h5V2Zm7 2h10v3H11Zm5 12a5 5 0 0 1-5-5V9h10v2a5 5 0 0 1-5 5"/></svg><span class="ml-3" data-v-dde0e1f0>Tutorials</span></a><a href="/about" class="align-middle flex flex-row items-center transition duration-500 hover:duration-500 hover:text-cyan-700 dark:hover:text-cyan-700" data-v-dde0e1f0><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-dde0e1f0 style="" width="1em" height="1em" viewBox="0 0 32 32" data-v-852cba11><path fill="currentColor" d="M15 20H9a3 3 0 0 0-3 3v2h2v-2a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2h2v-2a3 3 0 0 0-3-3m-3-1a4 4 0 1 0-4-4a4 4 0 0 0 4 4m0-6a2 2 0 1 1-2 2a2 2 0 0 1 2-2"/><path fill="currentColor" d="M28 19v9H4V8h12V6H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2v-9Z"/><path fill="currentColor" d="M20 19h6v2h-6zm2 4h4v2h-4zm10-13V8h-2.101a5 5 0 0 0-.732-1.753l1.49-1.49l-1.414-1.414l-1.49 1.49A5 5 0 0 0 26 4.101V2h-2v2.101a5 5 0 0 0-1.753.732l-1.49-1.49l-1.414 1.414l1.49 1.49A5 5 0 0 0 20.101 8H18v2h2.101a5 5 0 0 0 .732 1.753l-1.49 1.49l1.414 1.414l1.49-1.49a5 5 0 0 0 1.753.732V16h2v-2.101a5 5 0 0 0 1.753-.732l1.49 1.49l1.414-1.414l-1.49-1.49A5 5 0 0 0 29.899 10Zm-7 2a3 3 0 1 1 3-3a3.003 3.003 0 0 1-3 3"/></svg><span class="ml-3" data-v-dde0e1f0>About</span></a><a href="/cv" class="align-middle flex flex-row items-center transition duration-500 hover:duration-500 hover:text-cyan-700 dark:hover:text-cyan-700" data-v-dde0e1f0><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-dde0e1f0 style="" width="1em" height="1em" viewBox="0 0 20 20" data-v-852cba11><g fill="currentColor"><path d="M7.8 6.35c.56 0 1.01-.45 1.01-1.01S8.36 4.33 7.8 4.33s-1.01.45-1.01 1.01s.45 1.01 1.01 1.01"/><path fill-rule="evenodd" d="M9.83 8.55c0-1.08-.91-1.86-2.03-1.86s-2.03.78-2.03 1.86v.51c0 .09.04.18.1.24s.15.1.24.1h3.38c.09 0 .18-.04.24-.1s.1-.15.1-.24zM5.75 11.5a.75.75 0 0 1 .75-.75h7a.75.75 0 0 1 0 1.5h-7a.75.75 0 0 1-.75-.75m0 3a.75.75 0 0 1 .75-.75h7a.75.75 0 0 1 0 1.5h-7a.75.75 0 0 1-.75-.75" clip-rule="evenodd"/><path fill-rule="evenodd" d="M2.5 2.5c0-1.102.898-2 2-2h6.69c.562 0 1.092.238 1.465.631l.006.007l4.312 4.702c.359.383.527.884.527 1.36v10.3c0 1.102-.898 2-2 2h-11c-1.102 0-2-.898-2-2zm8.689 0H4.5v15h11V7.192l-4.296-4.685l-.003-.001z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M11.19.5a1 1 0 0 1 1 1v4.7h4.31a1 1 0 1 1 0 2h-5.31a1 1 0 0 1-1-1V1.5a1 1 0 0 1 1-1" clip-rule="evenodd"/></g></svg><span class="ml-3" data-v-dde0e1f0>Resume</span></a><a href="/contact" class="border-0 p-1 px-4 rounded-md bg-cyan-600 transition duration-500 hover:duration-500 hover:bg-cyan-700" data-v-dde0e1f0> Contact </a></div><nav class="print:hidden" data-v-74d3d7c9><span style="display:none;" data-v-74d3d7c9><a href="/" class="ml-3 mt-3 text-xl transition duration-500 hover:duration-500 hover:text-cyan-700 dark:hover:text-cyan-700" data-v-74d3d7c9><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-74d3d7c9 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-852cba11><path fill="currentColor" d="m10 18l-6-6l6-6l1.4 1.45L7.85 11H20v2H7.85l3.55 3.55z"/></svg>Home </a></span><span style="" data-v-74d3d7c9><a href="/tutorials" class="ml-3 mt-3 text-xl transition duration-500 hover:duration-500 hover:text-cyan-700 dark:hover:text-cyan-700" data-v-74d3d7c9><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-74d3d7c9 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-852cba11><path fill="currentColor" d="m10 18l-6-6l6-6l1.4 1.45L7.85 11H20v2H7.85l3.55 3.55z"/></svg>Tutorials </a></span><button aria-label="Color Mode" class="inline-block w-5 dark:text-primary-100 transition duration-500 hover:duration-500 hover:text-cyan-700 dark:hover:text-cyan-700 right-0 top-0 z-100 mr-10 mt-6 text-xl hidden md:block md:fixed print:hidden" data-v-74d3d7c9><span>...</span></button><button id="burgerMenu" class="dark:text-primary-100 transition duration-500 hover:duration-500 hover:text-cyan-700 dark:hover:text-cyan-700 absolute right-0 top-0 z-100 mr-10 mt-5 text-xl md:hidden print:hidden" data-v-74d3d7c9><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon w-5 h-5" title="menu" data-v-74d3d7c9 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-852cba11><path fill="currentColor" d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg></button><menu class="hide fixed top-0 right-0 w-1/2 h-full bg-opacity-100 z-50 border-l border-gray-600 dark:border-gray-50 bg-gray-100 dark:bg-gray-800 pt-8 pl-4 text-xl print:hidden" data-v-74d3d7c9><button class="absolute top-2 right-3" data-v-74d3d7c9><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-74d3d7c9 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-852cba11><path fill="currentColor" d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12z"/></svg></button><a href="/" class="icon-btn align-middle flex flex-row text-xl place-items-center" title="Home" data-v-74d3d7c9><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-74d3d7c9 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-852cba11><path fill="currentColor" d="m20 8l-6-5.26a3 3 0 0 0-4 0L4 8a3 3 0 0 0-1 2.26V19a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-8.75A3 3 0 0 0 20 8m-6 12h-4v-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1Zm5-1a1 1 0 0 1-1 1h-2v-5a3 3 0 0 0-3-3h-2a3 3 0 0 0-3 3v5H6a1 1 0 0 1-1-1v-8.75a1 1 0 0 1 .34-.75l6-5.25a1 1 0 0 1 1.32 0l6 5.25a1 1 0 0 1 .34.75Z"/></svg><span class="ml-3" data-v-74d3d7c9>Home</span></a><a href="/tutorials" class="icon-btn align-middle flex flex-row text-xl place-items-center mt-3" title="My Tutorials" data-v-74d3d7c9><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-74d3d7c9 style="" width="1em" height="1em" viewBox="0 0 32 32" data-v-852cba11><path fill="currentColor" d="M26 30h-2v-3a5.006 5.006 0 0 0-5-5h-6a5.006 5.006 0 0 0-5 5v3H6v-3a7.01 7.01 0 0 1 7-7h6a7.01 7.01 0 0 1 7 7ZM5 6a1 1 0 0 0-1 1v9h2V7a1 1 0 0 0-1-1"/><path fill="currentColor" d="M4 2v2h5v7a7 7 0 0 0 14 0V4h5V2Zm7 2h10v3H11Zm5 12a5 5 0 0 1-5-5V9h10v2a5 5 0 0 1-5 5"/></svg><span class="ml-3" data-v-74d3d7c9>Tutorials</span></a><a href="/about" class="icon-btn align-middle flex flex-row text-xl place-items-center mt-3" title="About Me" data-v-74d3d7c9><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-74d3d7c9 style="" width="1em" height="1em" viewBox="0 0 32 32" data-v-852cba11><path fill="currentColor" d="M15 20H9a3 3 0 0 0-3 3v2h2v-2a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2h2v-2a3 3 0 0 0-3-3m-3-1a4 4 0 1 0-4-4a4 4 0 0 0 4 4m0-6a2 2 0 1 1-2 2a2 2 0 0 1 2-2"/><path fill="currentColor" d="M28 19v9H4V8h12V6H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2v-9Z"/><path fill="currentColor" d="M20 19h6v2h-6zm2 4h4v2h-4zm10-13V8h-2.101a5 5 0 0 0-.732-1.753l1.49-1.49l-1.414-1.414l-1.49 1.49A5 5 0 0 0 26 4.101V2h-2v2.101a5 5 0 0 0-1.753.732l-1.49-1.49l-1.414 1.414l1.49 1.49A5 5 0 0 0 20.101 8H18v2h2.101a5 5 0 0 0 .732 1.753l-1.49 1.49l1.414 1.414l1.49-1.49a5 5 0 0 0 1.753.732V16h2v-2.101a5 5 0 0 0 1.753-.732l1.49 1.49l1.414-1.414l-1.49-1.49A5 5 0 0 0 29.899 10Zm-7 2a3 3 0 1 1 3-3a3.003 3.003 0 0 1-3 3"/></svg><span class="ml-3" data-v-74d3d7c9>About</span></a><a href="/cv" class="icon-btn align-middle flex flex-row text-xl place-items-center mt-3" title="My Resume / CV" data-v-74d3d7c9><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-74d3d7c9 style="" width="1em" height="1em" viewBox="0 0 20 20" data-v-852cba11><g fill="currentColor"><path d="M7.8 6.35c.56 0 1.01-.45 1.01-1.01S8.36 4.33 7.8 4.33s-1.01.45-1.01 1.01s.45 1.01 1.01 1.01"/><path fill-rule="evenodd" d="M9.83 8.55c0-1.08-.91-1.86-2.03-1.86s-2.03.78-2.03 1.86v.51c0 .09.04.18.1.24s.15.1.24.1h3.38c.09 0 .18-.04.24-.1s.1-.15.1-.24zM5.75 11.5a.75.75 0 0 1 .75-.75h7a.75.75 0 0 1 0 1.5h-7a.75.75 0 0 1-.75-.75m0 3a.75.75 0 0 1 .75-.75h7a.75.75 0 0 1 0 1.5h-7a.75.75 0 0 1-.75-.75" clip-rule="evenodd"/><path fill-rule="evenodd" d="M2.5 2.5c0-1.102.898-2 2-2h6.69c.562 0 1.092.238 1.465.631l.006.007l4.312 4.702c.359.383.527.884.527 1.36v10.3c0 1.102-.898 2-2 2h-11c-1.102 0-2-.898-2-2zm8.689 0H4.5v15h11V7.192l-4.296-4.685l-.003-.001z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M11.19.5a1 1 0 0 1 1 1v4.7h4.31a1 1 0 1 1 0 2h-5.31a1 1 0 0 1-1-1V1.5a1 1 0 0 1 1-1" clip-rule="evenodd"/></g></svg><span class="ml-3" data-v-74d3d7c9>Resume</span></a><a href="/contact" class="icon-btn align-middle flex flex-row text-xl place-items-center mt-3" title="Contact" data-v-74d3d7c9><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-74d3d7c9 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-852cba11><path fill="currentColor" d="M23 17c0 3.31-2.69 6-6 6v-1.5c2.5 0 4.5-2 4.5-4.5zM1 7c0-3.31 2.69-6 6-6v1.5c-2.5 0-4.5 2-4.5 4.5zm7-2.68l-4.59 4.6c-3.22 3.22-3.22 8.45 0 11.67s8.45 3.22 11.67 0l7.07-7.09c.49-.47.49-1.26 0-1.75a1.25 1.25 0 0 0-1.77 0l-4.42 4.42l-.71-.71l6.54-6.54c.49-.49.49-1.28 0-1.77s-1.29-.49-1.79 0L14.19 13l-.69-.73l6.87-6.89c.49-.49.49-1.28 0-1.77s-1.28-.49-1.77 0l-6.89 6.89l-.71-.7l5.5-5.48c.5-.49.5-1.28 0-1.77s-1.28-.49-1.77 0l-7.62 7.62a4 4 0 0 1-.33 5.28l-.71-.71a3 3 0 0 0 0-4.24l-.35-.35l4.07-4.07c.49-.49.49-1.28 0-1.77c-.5-.48-1.29-.48-1.79.01"/></svg><span class="ml-3" data-v-74d3d7c9>Contact</span></a><a href="https://github.com/simonscholz" rel="noreferrer" target="_blank" class="icon-btn align-middle flex flex-row text-xl place-items-center mt-8" title="GitHub" data-v-74d3d7c9><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-74d3d7c9 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-852cba11><path fill="currentColor" d="M10.07 20.503a1 1 0 0 0-1.18-.983c-1.31.24-2.963.276-3.402-.958a5.7 5.7 0 0 0-1.837-2.415a1 1 0 0 1-.167-.11a1 1 0 0 0-.93-.645h-.005a1 1 0 0 0-1 .995c-.004.815.81 1.338 1.141 1.514a4.4 4.4 0 0 1 .924 1.36c.365 1.023 1.423 2.576 4.466 2.376l.003.098l.004.268a1 1 0 0 0 2 0l-.005-.318c-.005-.19-.012-.464-.012-1.182M20.737 5.377q.049-.187.09-.42a6.3 6.3 0 0 0-.408-3.293a1 1 0 0 0-.615-.58c-.356-.12-1.67-.357-4.184 1.25a13.9 13.9 0 0 0-6.354 0C6.762.75 5.455.966 5.102 1.079a1 1 0 0 0-.631.584a6.3 6.3 0 0 0-.404 3.357q.037.191.079.354a6.27 6.27 0 0 0-1.256 3.83a8 8 0 0 0 .043.921c.334 4.603 3.334 5.984 5.424 6.459a5 5 0 0 0-.118.4a1 1 0 0 0 1.942.479a1.7 1.7 0 0 1 .468-.878a1 1 0 0 0-.546-1.745c-3.454-.395-4.954-1.802-5.18-4.899a7 7 0 0 1-.033-.738a4.26 4.26 0 0 1 .92-2.713a3 3 0 0 1 .195-.231a1 1 0 0 0 .188-1.025a3.4 3.4 0 0 1-.155-.555a4.1 4.1 0 0 1 .079-1.616a7.5 7.5 0 0 1 2.415 1.18a1 1 0 0 0 .827.133a11.8 11.8 0 0 1 6.173.001a1 1 0 0 0 .83-.138a7.6 7.6 0 0 1 2.406-1.19a4 4 0 0 1 .087 1.578a3.2 3.2 0 0 1-.169.607a1 1 0 0 0 .188 1.025c.078.087.155.18.224.268A4.12 4.12 0 0 1 20 9.203a7 7 0 0 1-.038.777c-.22 3.056-1.725 4.464-5.195 4.86a1 1 0 0 0-.546 1.746a1.63 1.63 0 0 1 .466.908a3 3 0 0 1 .093.82v2.333c-.01.648-.01 1.133-.01 1.356a1 1 0 1 0 2 0c0-.217 0-.692.01-1.34v-2.35a5 5 0 0 0-.155-1.311a4 4 0 0 0-.116-.416a6.51 6.51 0 0 0 5.445-6.424A9 9 0 0 0 22 9.203a6.13 6.13 0 0 0-1.263-3.826"/></svg><span class="ml-3" data-v-74d3d7c9>GitHub</span></a><a href="https://www.linkedin.com/in/opensource-simon" rel="noreferrer" target="_blank" class="icon-btn align-middle flex flex-row text-xl place-items-center mt-3" title="LinkedIn" data-v-74d3d7c9><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-74d3d7c9 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-852cba11><path fill="currentColor" d="M17.5 8.999a5.4 5.4 0 0 0-2.565.645A1 1 0 0 0 14 8.999h-4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-5.5a1 1 0 1 1 2 0v5.5a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-7.5a5.507 5.507 0 0 0-5.5-5.5m3.5 12h-2v-4.5a3 3 0 1 0-6 0v4.5h-2v-10h2v.703a1 1 0 0 0 1.781.625A3.483 3.483 0 0 1 21 14.5Zm-14-12H3a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-12a1 1 0 0 0-1-1m-1 12H4v-10h2ZM5.015 1.542a3.233 3.233 0 1 0-.057 6.457h.028a3.233 3.233 0 1 0 .029-6.457m-.029 4.457h-.028a1.222 1.222 0 0 1-1.37-1.228c0-.747.56-1.229 1.427-1.229A1.234 1.234 0 0 1 6.41 4.771c0 .746-.56 1.228-1.425 1.228"/></svg><span class="ml-3" data-v-74d3d7c9>LinkedIn</span></a><a href="https://x.com/simonscholz" rel="noreferrer" target="_blank" class="icon-btn align-middle flex flex-row text-xl place-items-center mt-3" title="X" data-v-74d3d7c9><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-74d3d7c9 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-852cba11><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m3 21l7.548-7.548M21 3l-7.548 7.548m0 0L8 3H3l7.548 10.452m2.904-2.904L21 21h-5l-5.452-7.548"/></svg><span class="ml-3" data-v-74d3d7c9>X</span></a><div class="flex mt-10" data-v-74d3d7c9><button aria-label="Color Mode" class="inline-block w-5 grow dark:text-primary-100 transition duration-500 hover:duration-500 hover:text-cyan-700 dark:hover:text-cyan-700 text-xl" data-v-74d3d7c9><span>...</span></button></div></menu><section class="hidden md:grid mt-20 justify-items-center gap-6 md:fixed md:grid-cols-1 md:ml-6" data-v-74d3d7c9><a href="/" class="icon-btn" title="Home" data-v-74d3d7c9><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-74d3d7c9 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-852cba11><path fill="currentColor" d="m20 8l-6-5.26a3 3 0 0 0-4 0L4 8a3 3 0 0 0-1 2.26V19a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-8.75A3 3 0 0 0 20 8m-6 12h-4v-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1Zm5-1a1 1 0 0 1-1 1h-2v-5a3 3 0 0 0-3-3h-2a3 3 0 0 0-3 3v5H6a1 1 0 0 1-1-1v-8.75a1 1 0 0 1 .34-.75l6-5.25a1 1 0 0 1 1.32 0l6 5.25a1 1 0 0 1 .34.75Z"/></svg></a><a href="/tutorials" class="icon-btn" title="My Tutorials" data-v-74d3d7c9><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-74d3d7c9 style="" width="1em" height="1em" viewBox="0 0 32 32" data-v-852cba11><path fill="currentColor" d="M26 30h-2v-3a5.006 5.006 0 0 0-5-5h-6a5.006 5.006 0 0 0-5 5v3H6v-3a7.01 7.01 0 0 1 7-7h6a7.01 7.01 0 0 1 7 7ZM5 6a1 1 0 0 0-1 1v9h2V7a1 1 0 0 0-1-1"/><path fill="currentColor" d="M4 2v2h5v7a7 7 0 0 0 14 0V4h5V2Zm7 2h10v3H11Zm5 12a5 5 0 0 1-5-5V9h10v2a5 5 0 0 1-5 5"/></svg></a><a href="/about" class="icon-btn" title="About Me" data-v-74d3d7c9><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-74d3d7c9 style="" width="1em" height="1em" viewBox="0 0 32 32" data-v-852cba11><path fill="currentColor" d="M15 20H9a3 3 0 0 0-3 3v2h2v-2a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2h2v-2a3 3 0 0 0-3-3m-3-1a4 4 0 1 0-4-4a4 4 0 0 0 4 4m0-6a2 2 0 1 1-2 2a2 2 0 0 1 2-2"/><path fill="currentColor" d="M28 19v9H4V8h12V6H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2v-9Z"/><path fill="currentColor" d="M20 19h6v2h-6zm2 4h4v2h-4zm10-13V8h-2.101a5 5 0 0 0-.732-1.753l1.49-1.49l-1.414-1.414l-1.49 1.49A5 5 0 0 0 26 4.101V2h-2v2.101a5 5 0 0 0-1.753.732l-1.49-1.49l-1.414 1.414l1.49 1.49A5 5 0 0 0 20.101 8H18v2h2.101a5 5 0 0 0 .732 1.753l-1.49 1.49l1.414 1.414l1.49-1.49a5 5 0 0 0 1.753.732V16h2v-2.101a5 5 0 0 0 1.753-.732l1.49 1.49l1.414-1.414l-1.49-1.49A5 5 0 0 0 29.899 10Zm-7 2a3 3 0 1 1 3-3a3.003 3.003 0 0 1-3 3"/></svg></a><a href="/cv" class="icon-btn" title="My Resume / CV" data-v-74d3d7c9><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-74d3d7c9 style="" width="1em" height="1em" viewBox="0 0 20 20" data-v-852cba11><g fill="currentColor"><path d="M7.8 6.35c.56 0 1.01-.45 1.01-1.01S8.36 4.33 7.8 4.33s-1.01.45-1.01 1.01s.45 1.01 1.01 1.01"/><path fill-rule="evenodd" d="M9.83 8.55c0-1.08-.91-1.86-2.03-1.86s-2.03.78-2.03 1.86v.51c0 .09.04.18.1.24s.15.1.24.1h3.38c.09 0 .18-.04.24-.1s.1-.15.1-.24zM5.75 11.5a.75.75 0 0 1 .75-.75h7a.75.75 0 0 1 0 1.5h-7a.75.75 0 0 1-.75-.75m0 3a.75.75 0 0 1 .75-.75h7a.75.75 0 0 1 0 1.5h-7a.75.75 0 0 1-.75-.75" clip-rule="evenodd"/><path fill-rule="evenodd" d="M2.5 2.5c0-1.102.898-2 2-2h6.69c.562 0 1.092.238 1.465.631l.006.007l4.312 4.702c.359.383.527.884.527 1.36v10.3c0 1.102-.898 2-2 2h-11c-1.102 0-2-.898-2-2zm8.689 0H4.5v15h11V7.192l-4.296-4.685l-.003-.001z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M11.19.5a1 1 0 0 1 1 1v4.7h4.31a1 1 0 1 1 0 2h-5.31a1 1 0 0 1-1-1V1.5a1 1 0 0 1 1-1" clip-rule="evenodd"/></g></svg></a></section><section class="hidden md:grid bottom-24 right-10 justify-items-center gap-6 md:fixed md:grid-cols-1 md:ml-6" data-v-74d3d7c9><a href="https://github.com/simonscholz" rel="noreferrer" target="_blank" class="icon-btn" title="GitHub" data-v-74d3d7c9><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-74d3d7c9 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-852cba11><path fill="currentColor" d="M10.07 20.503a1 1 0 0 0-1.18-.983c-1.31.24-2.963.276-3.402-.958a5.7 5.7 0 0 0-1.837-2.415a1 1 0 0 1-.167-.11a1 1 0 0 0-.93-.645h-.005a1 1 0 0 0-1 .995c-.004.815.81 1.338 1.141 1.514a4.4 4.4 0 0 1 .924 1.36c.365 1.023 1.423 2.576 4.466 2.376l.003.098l.004.268a1 1 0 0 0 2 0l-.005-.318c-.005-.19-.012-.464-.012-1.182M20.737 5.377q.049-.187.09-.42a6.3 6.3 0 0 0-.408-3.293a1 1 0 0 0-.615-.58c-.356-.12-1.67-.357-4.184 1.25a13.9 13.9 0 0 0-6.354 0C6.762.75 5.455.966 5.102 1.079a1 1 0 0 0-.631.584a6.3 6.3 0 0 0-.404 3.357q.037.191.079.354a6.27 6.27 0 0 0-1.256 3.83a8 8 0 0 0 .043.921c.334 4.603 3.334 5.984 5.424 6.459a5 5 0 0 0-.118.4a1 1 0 0 0 1.942.479a1.7 1.7 0 0 1 .468-.878a1 1 0 0 0-.546-1.745c-3.454-.395-4.954-1.802-5.18-4.899a7 7 0 0 1-.033-.738a4.26 4.26 0 0 1 .92-2.713a3 3 0 0 1 .195-.231a1 1 0 0 0 .188-1.025a3.4 3.4 0 0 1-.155-.555a4.1 4.1 0 0 1 .079-1.616a7.5 7.5 0 0 1 2.415 1.18a1 1 0 0 0 .827.133a11.8 11.8 0 0 1 6.173.001a1 1 0 0 0 .83-.138a7.6 7.6 0 0 1 2.406-1.19a4 4 0 0 1 .087 1.578a3.2 3.2 0 0 1-.169.607a1 1 0 0 0 .188 1.025c.078.087.155.18.224.268A4.12 4.12 0 0 1 20 9.203a7 7 0 0 1-.038.777c-.22 3.056-1.725 4.464-5.195 4.86a1 1 0 0 0-.546 1.746a1.63 1.63 0 0 1 .466.908a3 3 0 0 1 .093.82v2.333c-.01.648-.01 1.133-.01 1.356a1 1 0 1 0 2 0c0-.217 0-.692.01-1.34v-2.35a5 5 0 0 0-.155-1.311a4 4 0 0 0-.116-.416a6.51 6.51 0 0 0 5.445-6.424A9 9 0 0 0 22 9.203a6.13 6.13 0 0 0-1.263-3.826"/></svg></a><a href="https://www.linkedin.com/in/opensource-simon" rel="noreferrer" target="_blank" class="icon-btn" title="LinkedIn" data-v-74d3d7c9><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-74d3d7c9 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-852cba11><path fill="currentColor" d="M17.5 8.999a5.4 5.4 0 0 0-2.565.645A1 1 0 0 0 14 8.999h-4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-5.5a1 1 0 1 1 2 0v5.5a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-7.5a5.507 5.507 0 0 0-5.5-5.5m3.5 12h-2v-4.5a3 3 0 1 0-6 0v4.5h-2v-10h2v.703a1 1 0 0 0 1.781.625A3.483 3.483 0 0 1 21 14.5Zm-14-12H3a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-12a1 1 0 0 0-1-1m-1 12H4v-10h2ZM5.015 1.542a3.233 3.233 0 1 0-.057 6.457h.028a3.233 3.233 0 1 0 .029-6.457m-.029 4.457h-.028a1.222 1.222 0 0 1-1.37-1.228c0-.747.56-1.229 1.427-1.229A1.234 1.234 0 0 1 6.41 4.771c0 .746-.56 1.228-1.425 1.228"/></svg></a><a href="https://x.com/simonscholz" rel="noreferrer" target="_blank" class="icon-btn" title="X" data-v-74d3d7c9><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-74d3d7c9 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-852cba11><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m3 21l7.548-7.548M21 3l-7.548 7.548m0 0L8 3H3l7.548 10.452m2.904-2.904L21 21h-5l-5.452-7.548"/></svg></a></section></nav><!--[--><main class="mt-10 md:mx-36 mb-10" data-v-2b18fddf><!--[--><div class="flex flex-col md:ml-10 md:mr-10" data-v-2b18fddf><img src="https://vg09.met.vgwort.de/na/6f076d8ae6c94cabb754f02cab413c70" width="1" height="1" alt data-v-2b18fddf><span class="text-4xl" data-v-2b18fddf>Google Cloud Pub/Sub (emulator) with Spring Boot and Quarkus</span><div class="flex flex-col md:flex-row mt-2" data-v-2b18fddf><span data-v-2b18fddf>Simon Scholz</span><span class="hidden md:block ml-3" data-v-2b18fddf>⚬</span><span class="md:ml-3" data-v-2b18fddf>created 2023-11-11</span><span class="hidden md:block ml-3" data-v-2b18fddf>⚬</span><span class="md:ml-3" data-v-2b18fddf>updated 2024-08-21</span><span class="hidden md:block ml-3" data-v-2b18fddf>⚬</span><span class="md:ml-3" data-v-2b18fddf>11 min read</span><span class="hidden md:block ml-3" data-v-2b18fddf>⚬</span><span class="md:ml-3" data-v-2b18fddf><a href="#comments" data-v-2b18fddf><img src="https://img.shields.io/badge/-Comments%3F%20Feedback%3F%20Requests%3F-gray?logo=github" alt="Comments /Feedback / Requests?" title="Comments /Feedback / Requests?" data-v-2b18fddf></a></span></div><hr data-v-2b18fddf><div class="flex flex-col lg:flex-row gap-4 mt-2" data-v-2b18fddf><nav class="toc flex-1" data-v-2b18fddf data-v-8ef902fb><header class="flex flex-rowitems-center cursor-pointer mb-2" aria-label="Expand the table of contents." data-v-8ef902fb><span class="mb-0 text-2xl align-middle text-gray-600 dark:text-gray-400" data-v-8ef902fb> Table of Contents <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon text-3xl" data-v-8ef902fb style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-852cba11><path fill="currentColor" d="M7.41 8.58L12 13.17l4.59-4.59L18 10l-6 6l-6-6z"/></svg></span></header><ul class="block" data-v-8ef902fb><!--[--><li class="toc-link_2 first:mt-0 mt-2 md:mt-1 ml-3" data-v-8ef902fb><a href="#prerequisites" class="hover:underline text-gray-600 dark:text-gray-400" data-v-8ef902fb>Prerequisites</a></li><li class="toc-link_2 first:mt-0 mt-2 md:mt-1 ml-3" data-v-8ef902fb><a href="#run-the-google-cloud-pubsub-emulator" class="hover:underline text-gray-600 dark:text-gray-400" data-v-8ef902fb>Run the Google Cloud Pub/Sub Emulator</a></li><li class="toc-link_2 first:mt-0 mt-2 md:mt-1 ml-3" data-v-8ef902fb><a href="#publish-to-a-google-cloud-pubsub-topic" class="hover:underline text-gray-600 dark:text-gray-400" data-v-8ef902fb>Publish to a Google Cloud Pub/Sub Topic</a></li><li class="toc-link_2 first:mt-0 mt-2 md:mt-1 ml-3" data-v-8ef902fb><a href="#pull-from-a-google-cloud-pubsub-subscription" class="hover:underline text-gray-600 dark:text-gray-400" data-v-8ef902fb>Pull from a Google Cloud Pub/Sub Subscription</a></li><li class="toc-link_2 first:mt-0 mt-2 md:mt-1 ml-3" data-v-8ef902fb><a href="#spring-boot-project" class="hover:underline text-gray-600 dark:text-gray-400" data-v-8ef902fb>Spring Boot Project</a></li><li class="toc-link_3 first:mt-0 mt-2 md:mt-1 ml-3" data-v-8ef902fb><a href="#configure-application-properties" class="hover:underline text-gray-600 dark:text-gray-400" data-v-8ef902fb>Configure Application Properties</a></li><li class="toc-link_3 first:mt-0 mt-2 md:mt-1 ml-3" data-v-8ef902fb><a href="#general-gcp-configuration" class="hover:underline text-gray-600 dark:text-gray-400" data-v-8ef902fb>General GCP Configuration</a></li><li class="toc-link_3 first:mt-0 mt-2 md:mt-1 ml-3" data-v-8ef902fb><a href="#subscribe-to-a-google-cloud-pubsub-topic" class="hover:underline text-gray-600 dark:text-gray-400" data-v-8ef902fb>Subscribe to a Google Cloud Pub/Sub Topic</a></li><li class="toc-link_4 first:mt-0 mt-2 md:mt-1 ml-3" data-v-8ef902fb><a href="#using-a-messagehandler-bean" class="hover:underline text-gray-600 dark:text-gray-400" data-v-8ef902fb>Using a MessageHandler bean</a></li><li class="toc-link_4 first:mt-0 mt-2 md:mt-1 ml-3" data-v-8ef902fb><a href="#using-a-serviceactivator-with-payload-and-header-annotations" class="hover:underline text-gray-600 dark:text-gray-400" data-v-8ef902fb>Using a @ServiceActivator with @Payload and @Header annotations</a></li><li class="toc-link_4 first:mt-0 mt-2 md:mt-1 ml-3" data-v-8ef902fb><a href="#just-obtain-the-message-payload" class="hover:underline text-gray-600 dark:text-gray-400" data-v-8ef902fb>Just obtain the message payload</a></li><li class="toc-link_3 first:mt-0 mt-2 md:mt-1 ml-3" data-v-8ef902fb><a href="#test-the-subscription" class="hover:underline text-gray-600 dark:text-gray-400" data-v-8ef902fb>Test the Subscription</a></li><li class="toc-link_3 first:mt-0 mt-2 md:mt-1 ml-3" data-v-8ef902fb><a href="#publish-to-a-google-cloud-pubsub-topic-1" class="hover:underline text-gray-600 dark:text-gray-400" data-v-8ef902fb>Publish to a Google Cloud Pub/Sub Topic</a></li><li class="toc-link_3 first:mt-0 mt-2 md:mt-1 ml-3" data-v-8ef902fb><a href="#using-low-level-google-cloud-pubsub-api" class="hover:underline text-gray-600 dark:text-gray-400" data-v-8ef902fb>Using low level Google Cloud Pub/Sub API</a></li><li class="toc-link_2 first:mt-0 mt-2 md:mt-1 ml-3" data-v-8ef902fb><a href="#quarkus-project" class="hover:underline text-gray-600 dark:text-gray-400" data-v-8ef902fb>Quarkus Project</a></li><li class="toc-link_3 first:mt-0 mt-2 md:mt-1 ml-3" data-v-8ef902fb><a href="#creating-the-model-dto-class" class="hover:underline text-gray-600 dark:text-gray-400" data-v-8ef902fb>Creating the model dto class</a></li><li class="toc-link_3 first:mt-0 mt-2 md:mt-1 ml-3" data-v-8ef902fb><a href="#creating-an-event-handler" class="hover:underline text-gray-600 dark:text-gray-400" data-v-8ef902fb>Creating an event handler</a></li><li class="toc-link_3 first:mt-0 mt-2 md:mt-1 ml-3" data-v-8ef902fb><a href="#applicationyml-adjustments-and-env" class="hover:underline text-gray-600 dark:text-gray-400" data-v-8ef902fb>application.yml adjustments and .env</a></li><li class="toc-link_3 first:mt-0 mt-2 md:mt-1 ml-3" data-v-8ef902fb><a href="#start-subscribing-with-quarkuspubsub" class="hover:underline text-gray-600 dark:text-gray-400" data-v-8ef902fb>Start subscribing with QuarkusPubSub</a></li><li class="toc-link_3 first:mt-0 mt-2 md:mt-1 ml-3" data-v-8ef902fb><a href="#send-a-message-and-let-the-quarkus-app-consume-it" class="hover:underline text-gray-600 dark:text-gray-400" data-v-8ef902fb>Send a message and let the Quarkus app consume it</a></li><li class="toc-link_2 first:mt-0 mt-2 md:mt-1 ml-3" data-v-8ef902fb><a href="#putting-it-all-together" class="hover:underline text-gray-600 dark:text-gray-400" data-v-8ef902fb>Putting it all together</a></li><li class="toc-link_2 first:mt-0 mt-2 md:mt-1 ml-3" data-v-8ef902fb><a href="#sources" class="hover:underline text-gray-600 dark:text-gray-400" data-v-8ef902fb>Sources</a></li><!--]--></ul></nav><div data-v-2b18fddf><div class="flex items-center m-6 p-6 bg-gray-100 dark:bg-gray-800 rounded-xl shadow-md transition duration-500 transform ring-4 animate-border-flow" data-v-2b18fddf><div class="flex flex-col justify-center p-4 lg:w-1/2" data-v-2b18fddf><h3 class="text-xl font-semibold" data-v-2b18fddf>Want to dive deeper?</h3><p class="mt-1 text-sm" data-v-2b18fddf>Book a 1:1 session with me to discuss your challenges and get tailored solutions.</p><a href="/contact" class="inline-block self-start mt-3 px-4 py-2 rounded-md bg-cyan-600 text-white transition duration-300 hover:bg-cyan-700 whitespace-nowrap" data-v-2b18fddf> Book a session </a></div><div class="hidden lg:flex justify-center items-center lg:w-1/2" data-v-2b18fddf><img class="h-40 w-40 border-4 border-black dark:border-white rounded-full" src="/assets/me.CaLPVNCV.webp" alt="me" title="me" height="40" width="40" data-v-2b18fddf></div></div></div></div><article class="prose col-span-full md:col-span-7 relative" data-v-2b18fddf><span class="italic absolute -top-8 text-sm leading-sm font-light text-typography_primary/75 dark:text-typography_primary_dark/75" style="display:none;" data-v-2b18fddf>(Updated: )</span><div class="ml-1 mr-1" data-v-2b18fddf><p class="prose-p" data-v-601a33c5><!--[-->In this tutorial, we&#39;ll learn how to use the Google Cloud Pub/Sub with Spring Boot and Quarkus.<!--]--></p><p class="prose-p" data-v-601a33c5><!--[-->Google Cloud Pub/Sub is a fully-managed real-time messaging service that allows you to send and receive messages between independent applications. It is a scalable, durable, and highly available messaging service that can be used to decouple applications and components deployed on Google Cloud.<!--]--></p><h2 id="prerequisites" class="prose-h2" data-v-44bf1123><a aria-current="page" href="/tutorials/spring-quarkus-google-pubsub#prerequisites" class="router-link-active router-link-exact-active" data-v-44bf1123><!--[-->Prerequisites<!--]--><!----></a></h2><ul class="prose-ul" data-v-1bf89264><!--[--><li class="prose-li" data-v-12df340e><!--[-->JDK<!--]--></li><li class="prose-li" data-v-12df340e><!--[-->Kotlin<!--]--></li><li class="prose-li" data-v-12df340e><!--[-->Spring Boot<!--]--></li><li class="prose-li" data-v-12df340e><!--[-->Quarkus<!--]--></li><li class="prose-li" data-v-12df340e><!--[-->Gradle<!--]--></li><li class="prose-li" data-v-12df340e><!--[-->Docker and Docker Compose<!--]--></li><li class="prose-li" data-v-12df340e><!--[-->An Integrated Development Environment (IDE) such as IntelliJ IDEA or Eclipse or VS Code<!--]--></li><!--]--></ul><h2 id="run-the-google-cloud-pubsub-emulator" class="prose-h2" data-v-44bf1123><a aria-current="page" href="/tutorials/spring-quarkus-google-pubsub#run-the-google-cloud-pubsub-emulator" class="router-link-active router-link-exact-active" data-v-44bf1123><!--[-->Run the Google Cloud Pub/Sub Emulator<!--]--><!----></a></h2><p class="prose-p" data-v-601a33c5><!--[-->To run the Google Cloud Pub/Sub Emulator, you can use the following Docker Compose file:<!--]--></p><div class="highlight-yaml prose-code" meta data-v-5dc7e424><span class="filename" data-v-5dc7e424>docker-compose.yml</span><!--[--><pre class="language-yaml shiki shiki-themes github-light github-dark monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672">version</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">: </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&#39;3.9&#39;
</span></span><span class="line" line="2"><span emptylineplaceholder="true">
</span></span><span class="line" line="3"><span style="--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672">services</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">:
</span></span><span class="line" line="4"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">  
</span></span><span class="line" line="5"><span style="--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672">  pubsub-emulator</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">:
</span></span><span class="line" line="6"><span style="--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672">    image</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">: </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">gcr.io/google.com/cloudsdktool/cloud-sdk:488.0.0-emulators
</span></span><span class="line" line="7"><span style="--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672">    container_name</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">: </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">pubsub-emulator
</span></span><span class="line" line="8"><span style="--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672">    ports</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">:
</span></span><span class="line" line="9"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">      - </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;8685:8685&quot;
</span></span><span class="line" line="10"><span style="--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672">    volumes</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">:
</span></span><span class="line" line="11"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">      - </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">./init-pubsub.sh:/init-pubsub.sh
</span></span><span class="line" line="12"><span style="--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672">    entrypoint</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">: [</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;/init-pubsub.sh&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">]
</span></span><span class="line" line="13"><span style="--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672">    restart</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">: </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">always
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-5dc7e424 data-v-5442bd1d><span class="sr-only" data-v-5442bd1d>Copy to clipboard</span><span class="icon-wrapper" data-v-5442bd1d><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-5442bd1d style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-852cba11><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p class="prose-p" data-v-601a33c5><!--[-->The <code class="prose-code-inline" data-v-13448efb><!--[-->init-pubsub.sh<!--]--></code> script is used to start the emulator, create a topic and a subscription:<!--]--></p><div class="highlight-bash prose-code" meta data-v-5dc7e424><span class="filename" data-v-5dc7e424>init-pubsub.sh</span><!--[--><pre class="language-bash shiki shiki-themes github-light github-dark monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#6A737D;--shiki-dark:#6A737D;--shiki-sepia:#88846F">#!/bin/sh
</span></span><span class="line" line="2"><span emptylineplaceholder="true">
</span></span><span class="line" line="3"><span style="--shiki-default:#6A737D;--shiki-dark:#6A737D;--shiki-sepia:#88846F"># Start the Pub/Sub emulator
</span></span><span class="line" line="4"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">gcloud</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> beta</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> emulators</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> pubsub</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> start</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> --host-port</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> 0.0.0.0:8685</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> --project=sample-project-id</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> &amp;
</span></span><span class="line" line="5"><span emptylineplaceholder="true">
</span></span><span class="line" line="6"><span style="--shiki-default:#6A737D;--shiki-dark:#6A737D;--shiki-sepia:#88846F"># Wait for the emulator to start (adjust sleep time as needed)
</span></span><span class="line" line="7"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">sleep</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> 5
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-default:#6A737D;--shiki-dark:#6A737D;--shiki-sepia:#88846F"># Create Pub/Sub topics
</span></span><span class="line" line="10"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">curl</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> -s</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> -X</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> PUT</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> &#39;http://0.0.0.0:8685/v1/projects/sample-project-id/topics/event-topic&#39;
</span></span><span class="line" line="11"><span emptylineplaceholder="true">
</span></span><span class="line" line="12"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">curl</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> -s</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> -X</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> PUT</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> &#39;http://0.0.0.0:8685/v1/projects/sample-project-id/topics/json-topic&#39;
</span></span><span class="line" line="13"><span emptylineplaceholder="true">
</span></span><span class="line" line="14"><span style="--shiki-default:#6A737D;--shiki-dark:#6A737D;--shiki-sepia:#88846F"># Create Pub/Sub subscriptions
</span></span><span class="line" line="15"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">curl</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> -s</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> -X</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> PUT</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> &#39;http://0.0.0.0:8685/v1/projects/sample-project-id/subscriptions/event-topic-sub&#39;</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> \
</span></span><span class="line" line="16"><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF">    -H</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> &#39;Content-Type: application/json&#39;</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> \
</span></span><span class="line" line="17"><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF">    --data</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> &#39;{&quot;topic&quot;:&quot;projects/sample-project-id/topics/event-topic&quot;}&#39;
</span></span><span class="line" line="18"><span emptylineplaceholder="true">
</span></span><span class="line" line="19"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">curl</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> -s</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> -X</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> PUT</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> &#39;http://0.0.0.0:8685/v1/projects/sample-project-id/subscriptions/json-topic-sub&#39;</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> \
</span></span><span class="line" line="20"><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF">    -H</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> &#39;Content-Type: application/json&#39;</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> \
</span></span><span class="line" line="21"><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF">    --data</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> &#39;{&quot;topic&quot;:&quot;projects/sample-project-id/topics/json-topic&quot;}&#39;
</span></span><span class="line" line="22"><span emptylineplaceholder="true">
</span></span><span class="line" line="23"><span style="--shiki-default:#6A737D;--shiki-dark:#6A737D;--shiki-sepia:#88846F"># Keep the script running to keep the container alive
</span></span><span class="line" line="24"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">tail</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> -f</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> /dev/null
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-5dc7e424 data-v-5442bd1d><span class="sr-only" data-v-5442bd1d>Copy to clipboard</span><span class="icon-wrapper" data-v-5442bd1d><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-5442bd1d style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-852cba11><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p class="prose-p" data-v-601a33c5><!--[-->Make sure that the <code class="prose-code-inline" data-v-13448efb><!--[-->init-pubsub.sh<!--]--></code> script is executable:<!--]--></p><div class="highlight-bash prose-code" meta data-v-5dc7e424><!----><!--[--><pre class="language-bash shiki shiki-themes github-light github-dark monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">chmod</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> +x</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> init-pubsub.sh
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-5dc7e424 data-v-5442bd1d><span class="sr-only" data-v-5442bd1d>Copy to clipboard</span><span class="icon-wrapper" data-v-5442bd1d><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-5442bd1d style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-852cba11><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p class="prose-p" data-v-601a33c5><!--[-->The <code class="prose-code-inline" data-v-13448efb><!--[-->&amp;<!--]--></code> at the end of the emulator start command is used to run the emulator in the background. The <code class="prose-code-inline" data-v-13448efb><!--[-->tail -f /dev/null<!--]--></code> command is used to keep the container alive.<!--]--></p><p class="prose-p" data-v-601a33c5><!--[-->Check if topics and subscriptions were created successfully:<!--]--></p><div class="highlight-bash prose-code" meta data-v-5dc7e424><!----><!--[--><pre class="language-bash shiki shiki-themes github-light github-dark monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">curl</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> -X</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> GET</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> &#39;http://0.0.0.0:8685/v1/projects/sample-project-id/topics&#39;
</span></span><span class="line" line="2"><span emptylineplaceholder="true">
</span></span><span class="line" line="3"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">curl</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> -X</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> GET</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> &#39;http://0.0.0.0:8685/v1/projects/sample-project-id/subscriptions&#39;
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-5dc7e424 data-v-5442bd1d><span class="sr-only" data-v-5442bd1d>Copy to clipboard</span><span class="icon-wrapper" data-v-5442bd1d><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-5442bd1d style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-852cba11><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h2 id="publish-to-a-google-cloud-pubsub-topic" class="prose-h2" data-v-44bf1123><a aria-current="page" href="/tutorials/spring-quarkus-google-pubsub#publish-to-a-google-cloud-pubsub-topic" class="router-link-active router-link-exact-active" data-v-44bf1123><!--[-->Publish to a Google Cloud Pub/Sub Topic<!--]--><!----></a></h2><p class="prose-p" data-v-601a33c5><!--[-->To publish to a Google Cloud Pub/Sub topic, you can use the following <code class="prose-code-inline" data-v-13448efb><!--[-->curl<!--]--></code> command:<!--]--></p><div class="highlight-bash prose-code" meta data-v-5dc7e424><!----><!--[--><pre class="language-bash shiki shiki-themes github-light github-dark monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">curl</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> -X</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> POST</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> &quot;http://0.0.0.0:8685/v1/projects/sample-project-id/topics/event-topic:publish&quot;</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> \
</span></span><span class="line" line="2"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">-H </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;Content-Type: application/json&quot;</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> \
</span></span><span class="line" line="3"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">-d </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&#39;{
</span></span><span class="line" line="4"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">  &quot;messages&quot;: [
</span></span><span class="line" line="5"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">    {
</span></span><span class="line" line="6"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">      &quot;attributes&quot;: {
</span></span><span class="line" line="7"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">        &quot;DOMAIN_OBJECT_ID&quot;: &quot;12345&quot;,
</span></span><span class="line" line="8"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">        &quot;anotherKey&quot;: &quot;anotherValue&quot;
</span></span><span class="line" line="9"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">      }
</span></span><span class="line" line="10"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">    }
</span></span><span class="line" line="11"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">  ]
</span></span><span class="line" line="12"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">}&#39;
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-5dc7e424 data-v-5442bd1d><span class="sr-only" data-v-5442bd1d>Copy to clipboard</span><span class="icon-wrapper" data-v-5442bd1d><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-5442bd1d style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-852cba11><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p class="prose-p" data-v-601a33c5><!--[-->Or using json data:<!--]--></p><div class="highlight-bash prose-code" meta data-v-5dc7e424><!----><!--[--><pre class="language-bash shiki shiki-themes github-light github-dark monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">curl</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> -X</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> POST</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> &quot;http://0.0.0.0:8685/v1/projects/sample-project-id/topics/json-topic:publish&quot;</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> \
</span></span><span class="line" line="2"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">-H </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;Content-Type: application/json&quot;</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> \
</span></span><span class="line" line="3"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">-d </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&#39;{
</span></span><span class="line" line="4"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">  &quot;messages&quot;: [
</span></span><span class="line" line="5"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">    {
</span></span><span class="line" line="6"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">      &quot;attributes&quot;: {
</span></span><span class="line" line="7"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">        &quot;DOMAIN_OBJECT_ID&quot;: &quot;12345&quot;,
</span></span><span class="line" line="8"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">        &quot;anotherKey&quot;: &quot;anotherValue&quot;
</span></span><span class="line" line="9"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">      },
</span></span><span class="line" line="10"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">      &quot;data&quot;: &quot;eyJpZCI6ICIxMjM0NSIsICJtZXNzYWdlIjogIkpvaG4gRG9lIn0=&quot;
</span></span><span class="line" line="11"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">    }
</span></span><span class="line" line="12"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">  ]
</span></span><span class="line" line="13"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">}&#39;
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-5dc7e424 data-v-5442bd1d><span class="sr-only" data-v-5442bd1d>Copy to clipboard</span><span class="icon-wrapper" data-v-5442bd1d><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-5442bd1d style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-852cba11><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p class="prose-p" data-v-601a33c5><!--[-->The actual json data is <code class="prose-code-inline" data-v-13448efb><!--[-->{&quot;DOMAIN_OBJECT_ID&quot;: &quot;12345&quot;, &quot;name&quot;: &quot;John Doe&quot;}<!--]--></code>, but it must be base64 encoded.
Also see <a href="https://cloud.google.com/knowledge/kb/publishing-json-message-to-pub-sub-topic-fails-with-400-bad-request-error-000004171" rel="noopener noreferer" target="_blank" class="prose-a" data-v-2f430ac8><!--[-->Publishing json message to PubSub<!--]--></a><!--]--></p><p class="prose-p" data-v-601a33c5><!--[-->The first example does not use the <code class="prose-code-inline" data-v-13448efb><!--[-->data<!--]--></code> property, since it is optional.
You&#39;ll have to use at least one property in <code class="prose-code-inline" data-v-13448efb><!--[-->attributes<!--]--></code> or <code class="prose-code-inline" data-v-13448efb><!--[-->data<!--]--></code> or both.<!--]--></p><p class="prose-p" data-v-601a33c5><!--[-->Later, we&#39;ll use a Spring Boot application and a Quarkus application to publish to a Google Cloud Pub/Sub topic.<!--]--></p><h2 id="pull-from-a-google-cloud-pubsub-subscription" class="prose-h2" data-v-44bf1123><a aria-current="page" href="/tutorials/spring-quarkus-google-pubsub#pull-from-a-google-cloud-pubsub-subscription" class="router-link-active router-link-exact-active" data-v-44bf1123><!--[-->Pull from a Google Cloud Pub/Sub Subscription<!--]--><!----></a></h2><p class="prose-p" data-v-601a33c5><!--[-->To pull from a Google Cloud Pub/Sub subscription, you can use the following <code class="prose-code-inline" data-v-13448efb><!--[-->curl<!--]--></code> command:<!--]--></p><div class="highlight-bash prose-code" meta data-v-5dc7e424><!----><!--[--><pre class="language-bash shiki shiki-themes github-light github-dark monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">curl</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> -X</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> POST</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> &quot;http://0.0.0.0:8685/v1/projects/sample-project-id/subscriptions/event-topic-sub:pull&quot;</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> \
</span></span><span class="line" line="2"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">-H </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;Content-Type: application/json&quot;</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> \
</span></span><span class="line" line="3"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">-d </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&#39;{
</span></span><span class="line" line="4"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">  &quot;maxMessages&quot;: 10
</span></span><span class="line" line="5"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">}&#39;
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-5dc7e424 data-v-5442bd1d><span class="sr-only" data-v-5442bd1d>Copy to clipboard</span><span class="icon-wrapper" data-v-5442bd1d><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-5442bd1d style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-852cba11><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p class="prose-p" data-v-601a33c5><!--[-->Or from the <code class="prose-code-inline" data-v-13448efb><!--[-->user-created-json-topic<!--]--></code> subscription:<!--]--></p><div class="highlight-bash prose-code" meta data-v-5dc7e424><!----><!--[--><pre class="language-bash shiki shiki-themes github-light github-dark monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">curl</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> -X</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> POST</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> &quot;http://0.0.0.0:8685/v1/projects/sample-project-id/subscriptions/json-topic-sub:pull&quot;</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> \
</span></span><span class="line" line="2"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">-H </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;Content-Type: application/json&quot;</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> \
</span></span><span class="line" line="3"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">-d </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&#39;{
</span></span><span class="line" line="4"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">  &quot;maxMessages&quot;: 10
</span></span><span class="line" line="5"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">}&#39;
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-5dc7e424 data-v-5442bd1d><span class="sr-only" data-v-5442bd1d>Copy to clipboard</span><span class="icon-wrapper" data-v-5442bd1d><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-5442bd1d style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-852cba11><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p class="prose-p" data-v-601a33c5><!--[-->When the message is only pulled, PubSub will keep the message, unless it is <code class="prose-code-inline" data-v-13448efb><!--[-->acked<!--]--></code>.
The return value of a pull should look similar to this:<!--]--></p><div class="highlight-json prose-code" meta data-v-5dc7e424><!----><!--[--><pre class="language-json shiki shiki-themes github-light github-dark monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">{
</span></span><span class="line" line="2"><span style="--shiki-default:#005CC5;--shiki-default-font-style:inherit;--shiki-dark:#79B8FF;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic">  &quot;receivedMessages&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">: [{
</span></span><span class="line" line="3"><span style="--shiki-default:#005CC5;--shiki-default-font-style:inherit;--shiki-dark:#79B8FF;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic">    &quot;ackId&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">: </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#CFCFC2">&quot;projects/sample-project-id/subscriptions/json-topic-sub:1&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">,
</span></span><span class="line" line="4"><span style="--shiki-default:#005CC5;--shiki-default-font-style:inherit;--shiki-dark:#79B8FF;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic">    &quot;message&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">: {
</span></span><span class="line" line="5"><span style="--shiki-default:#005CC5;--shiki-default-font-style:inherit;--shiki-dark:#79B8FF;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic">      &quot;attributes&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">: {
</span></span><span class="line" line="6"><span style="--shiki-default:#005CC5;--shiki-default-font-style:inherit;--shiki-dark:#79B8FF;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic">        &quot;DOMAIN_OBJECT_ID&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">: </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#CFCFC2">&quot;12345&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">,
</span></span><span class="line" line="7"><span style="--shiki-default:#005CC5;--shiki-default-font-style:inherit;--shiki-dark:#79B8FF;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic">        &quot;anotherKey&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">: </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#CFCFC2">&quot;anotherValue&quot;
</span></span><span class="line" line="8"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">      },
</span></span><span class="line" line="9"><span style="--shiki-default:#005CC5;--shiki-default-font-style:inherit;--shiki-dark:#79B8FF;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic">      &quot;messageId&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">: </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#CFCFC2">&quot;1&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">,
</span></span><span class="line" line="10"><span style="--shiki-default:#005CC5;--shiki-default-font-style:inherit;--shiki-dark:#79B8FF;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic">      &quot;publishTime&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">: </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#CFCFC2">&quot;2023-11-07T23:04:40.028Z&quot;
</span></span><span class="line" line="11"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">    }
</span></span><span class="line" line="12"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">  }]
</span></span><span class="line" line="13"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">}
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-5dc7e424 data-v-5442bd1d><span class="sr-only" data-v-5442bd1d>Copy to clipboard</span><span class="icon-wrapper" data-v-5442bd1d><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-5442bd1d style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-852cba11><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p class="prose-p" data-v-601a33c5><!--[-->You can acknowledge these messages by using the given <code class="prose-code-inline" data-v-13448efb><!--[-->ackId<!--]--></code> and calling the following:<!--]--></p><div class="highlight-bash prose-code" meta data-v-5dc7e424><!----><!--[--><pre class="language-bash shiki shiki-themes github-light github-dark monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">curl</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> -X</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> POST</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> &quot;http://0.0.0.0:8685/v1/projects/sample-project-id/subscriptions/json-topic-sub:acknowledge&quot;</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> \
</span></span><span class="line" line="2"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">-H </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;Content-Type: application/json&quot;</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> \
</span></span><span class="line" line="3"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">-d </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&#39;{
</span></span><span class="line" line="4"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">  &quot;ackIds&quot;: [
</span></span><span class="line" line="5"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">    &quot;projects/sample-project-id/subscriptions/json-topic-sub:1&quot;
</span></span><span class="line" line="6"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">  ]
</span></span><span class="line" line="7"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">}&#39;
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-5dc7e424 data-v-5442bd1d><span class="sr-only" data-v-5442bd1d>Copy to clipboard</span><span class="icon-wrapper" data-v-5442bd1d><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-5442bd1d style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-852cba11><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p class="prose-p" data-v-601a33c5><!--[-->Later, we&#39;ll use a Spring Boot application and a Quarkus application to pull from a Google Cloud Pub/Sub subscription.<!--]--></p><h2 id="spring-boot-project" class="prose-h2" data-v-44bf1123><a aria-current="page" href="/tutorials/spring-quarkus-google-pubsub#spring-boot-project" class="router-link-active router-link-exact-active" data-v-44bf1123><!--[-->Spring Boot Project<!--]--><!----></a></h2><p class="prose-p" data-v-601a33c5><!--[-->Start by creating a new Spring Boot project. You can use the Spring Initializer (<a href="https://start.spring.io/" rel="noopener noreferer" target="_blank" class="prose-a" data-v-2f430ac8><!--[-->https://start.spring.io/<!--]--></a>) or your IDE to generate a new project.<!--]--></p><p class="prose-p" data-v-601a33c5><!--[--><img src="/tutorials/spring-quarkus-google-pubsub/spring-initializr.png" alt="Spring Initializr" class="prose-img" data-v-8cc281a5><!--]--></p><p class="prose-p" data-v-601a33c5><!--[-->You just need to make sure to add the following dependencies:<!--]--></p><div class="highlight-kotlin prose-code" meta data-v-5dc7e424><span class="filename" data-v-5dc7e424>build.gradle.kts</span><!--[--><pre class="language-kotlin shiki shiki-themes github-light github-dark monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">implementation</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;org.springframework.boot:spring-boot-starter-integration&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="2"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">implementation</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;com.google.cloud:spring-cloud-gcp-starter-pubsub&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="3"><span emptylineplaceholder="true">
</span></span><span class="line" line="4"><span style="--shiki-default:#6A737D;--shiki-dark:#6A737D;--shiki-sepia:#88846F">// optional, but helpful to use rest to test publishing
</span></span><span class="line" line="5"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">implementation</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;org.springframework.boot:spring-boot-starter-webflux&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-5dc7e424 data-v-5442bd1d><span class="sr-only" data-v-5442bd1d>Copy to clipboard</span><span class="icon-wrapper" data-v-5442bd1d><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-5442bd1d style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-852cba11><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h3 id="configure-application-properties" class="prose-h3" data-v-46d20c66><a aria-current="page" href="/tutorials/spring-quarkus-google-pubsub#configure-application-properties" class="router-link-active router-link-exact-active" data-v-46d20c66><!--[-->Configure Application Properties<!--]--><!----></a></h3><p class="prose-p" data-v-601a33c5><!--[-->In the <code class="prose-code-inline" data-v-13448efb><!--[-->application.properties<!--]--></code> or <code class="prose-code-inline" data-v-13448efb><!--[-->application.yml<!--]--></code> file we need to configure the Google Cloud Pub/Sub project ID and the Google Cloud Pub/Sub emulator host:<!--]--></p><div class="highlight-yaml prose-code" meta data-v-5dc7e424><span class="filename" data-v-5dc7e424>application.yml</span><!--[--><pre class="language-yaml shiki shiki-themes github-light github-dark monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2">---
</span></span><span class="line" line="2"><span style="--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672">spring</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">:
</span></span><span class="line" line="3"><span style="--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672">  cloud</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">:
</span></span><span class="line" line="4"><span style="--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672">    gcp</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">:
</span></span><span class="line" line="5"><span style="--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672">      project-id</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">: </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">sample-project-id
</span></span><span class="line" line="6"><span style="--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672">      pubsub</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">:
</span></span><span class="line" line="7"><span style="--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672">        emulator-host</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">: </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;localhost:8685&quot;
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-5dc7e424 data-v-5442bd1d><span class="sr-only" data-v-5442bd1d>Copy to clipboard</span><span class="icon-wrapper" data-v-5442bd1d><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-5442bd1d style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-852cba11><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h3 id="general-gcp-configuration" class="prose-h3" data-v-46d20c66><a aria-current="page" href="/tutorials/spring-quarkus-google-pubsub#general-gcp-configuration" class="router-link-active router-link-exact-active" data-v-46d20c66><!--[-->General GCP Configuration<!--]--><!----></a></h3><p class="prose-p" data-v-601a33c5><!--[-->To configure the Google Cloud project ID and credentials, we need to create a <code class="prose-code-inline" data-v-13448efb><!--[-->@Configuration<!--]--></code> like this:<!--]--></p><div class="highlight-kotlin prose-code" meta data-v-5dc7e424><span class="filename" data-v-5dc7e424>GcpConfig.kt</span><!--[--><pre class="language-kotlin shiki shiki-themes github-light github-dark monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">package</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> dev.simonscholz.pubsub.config
</span></span><span class="line" line="2"><span emptylineplaceholder="true">
</span></span><span class="line" line="3"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> com.google.api.gax.core.CredentialsProvider
</span></span><span class="line" line="4"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> com.google.api.gax.core.NoCredentialsProvider
</span></span><span class="line" line="5"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> com.google.cloud.spring.core.GcpProjectIdProvider
</span></span><span class="line" line="6"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.springframework.beans.factory.annotation.Value
</span></span><span class="line" line="7"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.springframework.context.annotation.Bean
</span></span><span class="line" line="8"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.springframework.context.annotation.Configuration
</span></span><span class="line" line="9"><span emptylineplaceholder="true">
</span></span><span class="line" line="10"><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">@Configuration
</span></span><span class="line" line="11"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">class</span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline"> GcpConfig</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> {
</span></span><span class="line" line="12"><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">    @Bean
</span></span><span class="line" line="13"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">    fun</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"> projectIdProvider</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(
</span></span><span class="line" line="14"><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">        @Value</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF">\$</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">{spring.cloud.gcp.project-id}&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">) projectId: </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">String</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">?,
</span></span><span class="line" line="15"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">    ): </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">GcpProjectIdProvider</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> {
</span></span><span class="line" line="16"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">        return</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"> GcpProjectIdProvider</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> { projectId }
</span></span><span class="line" line="17"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">    }
</span></span><span class="line" line="18"><span emptylineplaceholder="true">
</span></span><span class="line" line="19"><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">    @Bean
</span></span><span class="line" line="20"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">    fun</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"> credentialsProvider</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(): </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">CredentialsProvider</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> {
</span></span><span class="line" line="21"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">        return</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> NoCredentialsProvider.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">create</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">()
</span></span><span class="line" line="22"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">    }
</span></span><span class="line" line="23"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">}
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-5dc7e424 data-v-5442bd1d><span class="sr-only" data-v-5442bd1d>Copy to clipboard</span><span class="icon-wrapper" data-v-5442bd1d><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-5442bd1d style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-852cba11><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p class="prose-p" data-v-601a33c5><!--[-->Of course this only applies for the use of the Google Cloud Pub/Sub emulator.
If you want to use the Google Cloud Pub/Sub in production, you can configure the Google Cloud project ID and credentials differently.
On how to do this with secrets, environment variables and terraform see later sections of this tutorial.<!--]--></p><h3 id="subscribe-to-a-google-cloud-pubsub-topic" class="prose-h3" data-v-46d20c66><a aria-current="page" href="/tutorials/spring-quarkus-google-pubsub#subscribe-to-a-google-cloud-pubsub-topic" class="router-link-active router-link-exact-active" data-v-46d20c66><!--[-->Subscribe to a Google Cloud Pub/Sub Topic<!--]--><!----></a></h3><p class="prose-p" data-v-601a33c5><!--[-->To subscribe to a Google Cloud Pub/Sub topic, we need to create a <code class="prose-code-inline" data-v-13448efb><!--[-->@Configuration<!--]--></code> like this:<!--]--></p><div class="highlight-kotlin prose-code" meta data-v-5dc7e424><span class="filename" data-v-5dc7e424>PubSubConfig.kt</span><!--[--><pre class="language-kotlin shiki shiki-themes github-light github-dark monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">package</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> dev.simonscholz.pubsub
</span></span><span class="line" line="2"><span emptylineplaceholder="true">
</span></span><span class="line" line="3"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> com.google.cloud.spring.pubsub.core.PubSubTemplate
</span></span><span class="line" line="4"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> com.google.cloud.spring.pubsub.integration.AckMode
</span></span><span class="line" line="5"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> com.google.cloud.spring.pubsub.integration.inbound.PubSubInboundChannelAdapter
</span></span><span class="line" line="6"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.springframework.beans.factory.annotation.Qualifier
</span></span><span class="line" line="7"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.springframework.context.annotation.Bean
</span></span><span class="line" line="8"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.springframework.context.annotation.Configuration
</span></span><span class="line" line="9"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.springframework.integration.channel.DirectChannel
</span></span><span class="line" line="10"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.springframework.messaging.MessageChannel
</span></span><span class="line" line="11"><span emptylineplaceholder="true">
</span></span><span class="line" line="12"><span emptylineplaceholder="true">
</span></span><span class="line" line="13"><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">@Configuration
</span></span><span class="line" line="14"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">class</span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline"> PubSubConfig</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> {
</span></span><span class="line" line="15"><span emptylineplaceholder="true">
</span></span><span class="line" line="16"><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">    @Bean
</span></span><span class="line" line="17"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">    fun</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"> messageChannelAdapter</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(
</span></span><span class="line" line="18"><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">        @Qualifier</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;pubsubInputChannel&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">) inputChannel: </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">MessageChannel</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">,
</span></span><span class="line" line="19"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">        pubSubTemplate: </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">PubSubTemplate</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">,
</span></span><span class="line" line="20"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">    ): </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">PubSubInboundChannelAdapter</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"> =
</span></span><span class="line" line="21"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">        PubSubInboundChannelAdapter</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(pubSubTemplate, </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;json-topic-sub&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">).</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">apply</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> {
</span></span><span class="line" line="22"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">            outputChannel </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">=</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> inputChannel
</span></span><span class="line" line="23"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">            setAckMode</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(AckMode.MANUAL)
</span></span><span class="line" line="24"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">        }
</span></span><span class="line" line="25"><span emptylineplaceholder="true">
</span></span><span class="line" line="26"><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">    @Bean
</span></span><span class="line" line="27"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">    fun</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"> pubsubInputChannel</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(): </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">MessageChannel</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"> =</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"> DirectChannel</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">()
</span></span><span class="line" line="28"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">}
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-5dc7e424 data-v-5442bd1d><span class="sr-only" data-v-5442bd1d>Copy to clipboard</span><span class="icon-wrapper" data-v-5442bd1d><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-5442bd1d style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-852cba11><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p class="prose-p" data-v-601a33c5><!--[-->When having the <code class="prose-code-inline" data-v-13448efb><!--[-->PubSubInboundChannelAdapter<!--]--></code> bean and <code class="prose-code-inline" data-v-13448efb><!--[-->MessageChannel<!--]--></code> bean, the <code class="prose-code-inline" data-v-13448efb><!--[-->@ServiceActivator<!--]--></code> bean will be called when a message arrives.<!--]--></p><p class="prose-p" data-v-601a33c5><!--[-->There are many different ways to use a <code class="prose-code-inline" data-v-13448efb><!--[-->@ServiceActivator<!--]--></code>, the following examples will illustrate some of them.<!--]--></p><h4 id="using-a-messagehandler-bean" class="prose-h4" data-v-f5a4431f><a aria-current="page" href="/tutorials/spring-quarkus-google-pubsub#using-a-messagehandler-bean" class="router-link-active router-link-exact-active" data-v-f5a4431f><!--[-->Using a MessageHandler bean<!--]--><!----></a></h4><p class="prose-p" data-v-601a33c5><!--[-->You can use a <code class="prose-code-inline" data-v-13448efb><!--[-->MessageHandler<!--]--></code> instance to subscribe to a Google Cloud Pub/Sub topic:<!--]--></p><div class="highlight-kotlin prose-code" meta data-v-5dc7e424><span class="filename" data-v-5dc7e424>PubSubConfig.kt</span><!--[--><pre class="language-kotlin shiki shiki-themes github-light github-dark monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">package</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> dev.simonscholz.pubsub
</span></span><span class="line" line="2"><span emptylineplaceholder="true">
</span></span><span class="line" line="3"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> com.google.cloud.spring.pubsub.core.PubSubTemplate
</span></span><span class="line" line="4"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> com.google.cloud.spring.pubsub.integration.AckMode
</span></span><span class="line" line="5"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> com.google.cloud.spring.pubsub.integration.inbound.PubSubInboundChannelAdapter
</span></span><span class="line" line="6"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> com.google.cloud.spring.pubsub.support.BasicAcknowledgeablePubsubMessage
</span></span><span class="line" line="7"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> com.google.cloud.spring.pubsub.support.GcpPubSubHeaders
</span></span><span class="line" line="8"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.slf4j.Logger
</span></span><span class="line" line="9"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.slf4j.LoggerFactory
</span></span><span class="line" line="10"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.springframework.beans.factory.annotation.Qualifier
</span></span><span class="line" line="11"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.springframework.context.annotation.Bean
</span></span><span class="line" line="12"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.springframework.context.annotation.Configuration
</span></span><span class="line" line="13"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.springframework.integration.annotation.ServiceActivator
</span></span><span class="line" line="14"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.springframework.integration.channel.DirectChannel
</span></span><span class="line" line="15"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.springframework.messaging.MessageChannel
</span></span><span class="line" line="16"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.springframework.messaging.MessageHandler
</span></span><span class="line" line="17"><span emptylineplaceholder="true">
</span></span><span class="line" line="18"><span emptylineplaceholder="true">
</span></span><span class="line" line="19"><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">@Configuration
</span></span><span class="line" line="20"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">class</span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline"> PubSubConfig</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> {
</span></span><span class="line" line="21"><span emptylineplaceholder="true">
</span></span><span class="line" line="22"><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">    @Bean
</span></span><span class="line" line="23"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">    fun</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"> messageChannelAdapter</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(
</span></span><span class="line" line="24"><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">        @Qualifier</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;pubsubInputChannel&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">) inputChannel: </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">MessageChannel</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">,
</span></span><span class="line" line="25"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">        pubSubTemplate: </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">PubSubTemplate</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">,
</span></span><span class="line" line="26"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">    ): </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">PubSubInboundChannelAdapter</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"> =
</span></span><span class="line" line="27"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">        PubSubInboundChannelAdapter</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(pubSubTemplate, </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;json-topic-sub&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">).</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">apply</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> {
</span></span><span class="line" line="28"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">            outputChannel </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">=</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> inputChannel
</span></span><span class="line" line="29"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">            setAckMode</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(AckMode.MANUAL)
</span></span><span class="line" line="30"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">        }
</span></span><span class="line" line="31"><span emptylineplaceholder="true">
</span></span><span class="line" line="32"><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">    @Bean
</span></span><span class="line" line="33"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">    fun</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"> pubsubInputChannel</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(): </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">MessageChannel</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"> =</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"> DirectChannel</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">()
</span></span><span class="line" line="34"><span emptylineplaceholder="true">
</span></span><span class="line" line="35"><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">    @Bean
</span></span><span class="line" line="36"><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">    @ServiceActivator</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(inputChannel </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">=</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> &quot;pubsubInputChannel&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="37"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">    fun</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"> messageReceiver</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(): </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">MessageHandler</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"> =
</span></span><span class="line" line="38"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">        MessageHandler</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> { message </span><span style="--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic">-&gt;
</span></span><span class="line" line="39"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">            LOGGER.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">info</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;Message arrived! Payload: </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672">${</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">String</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F8F8F2">((message.payload </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">as</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F8F8F2"> ByteArray))</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672">}</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="40"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">            LOGGER.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">info</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;Headers: </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672">${</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F8F8F2">message.headers</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672">}</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="41"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">            val</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> originalMessage: </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">BasicAcknowledgeablePubsubMessage</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">? </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">=</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> message.headers.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">get</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(GcpPubSubHeaders.ORIGINAL_MESSAGE, BasicAcknowledgeablePubsubMessage::</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">class</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">.java)
</span></span><span class="line" line="42"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">            LOGGER.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">info</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;Data: </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672">${</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F8F8F2">originalMessage?.pubsubMessage?.</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">data</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F8F8F2">?.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">toStringUtf8</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F8F8F2">()</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672">}</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="43"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">            LOGGER.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">info</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;Attributes: </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672">${</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F8F8F2">originalMessage?.pubsubMessage?.attributesMap</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672">}</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="44"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">            originalMessage?.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">ack</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">()
</span></span><span class="line" line="45"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">        }
</span></span><span class="line" line="46"><span emptylineplaceholder="true">
</span></span><span class="line" line="47"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">    companion</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"> object</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> {
</span></span><span class="line" line="48"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">        private</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"> val</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> LOGGER: </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">Logger</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"> =</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> LoggerFactory.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">getLogger</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(PubSubConfig::</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">class</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">.java)
</span></span><span class="line" line="49"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">    }
</span></span><span class="line" line="50"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">}
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-5dc7e424 data-v-5442bd1d><span class="sr-only" data-v-5442bd1d>Copy to clipboard</span><span class="icon-wrapper" data-v-5442bd1d><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-5442bd1d style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-852cba11><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h4 id="using-a-serviceactivator-with-payload-and-header-annotations" class="prose-h4" data-v-f5a4431f><a aria-current="page" href="/tutorials/spring-quarkus-google-pubsub#using-a-serviceactivator-with-payload-and-header-annotations" class="router-link-active router-link-exact-active" data-v-f5a4431f><!--[-->Using a <code class="prose-code-inline" data-v-13448efb><!--[-->@ServiceActivator<!--]--></code> with <code class="prose-code-inline" data-v-13448efb><!--[-->@Payload<!--]--></code> and <code class="prose-code-inline" data-v-13448efb><!--[-->@Header<!--]--></code> annotations<!--]--><!----></a></h4><p class="prose-p" data-v-601a33c5><!--[-->You can use a <code class="prose-code-inline" data-v-13448efb><!--[-->@ServiceActivator<!--]--></code> with <code class="prose-code-inline" data-v-13448efb><!--[-->@Payload<!--]--></code> and <code class="prose-code-inline" data-v-13448efb><!--[-->@Header<!--]--></code> annotations to subscribe to a Google Cloud Pub/Sub topic:<!--]--></p><div class="highlight-kotlin prose-code" meta data-v-5dc7e424><span class="filename" data-v-5dc7e424>Receiver.kt</span><!--[--><pre class="language-kotlin shiki shiki-themes github-light github-dark monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">package</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> dev.simonscholz.pubsub
</span></span><span class="line" line="2"><span emptylineplaceholder="true">
</span></span><span class="line" line="3"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> com.google.cloud.spring.pubsub.support.BasicAcknowledgeablePubsubMessage
</span></span><span class="line" line="4"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> com.google.cloud.spring.pubsub.support.GcpPubSubHeaders
</span></span><span class="line" line="5"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.slf4j.LoggerFactory
</span></span><span class="line" line="6"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.springframework.integration.annotation.ServiceActivator
</span></span><span class="line" line="7"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.springframework.messaging.handler.annotation.Header
</span></span><span class="line" line="8"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.springframework.messaging.handler.annotation.Payload
</span></span><span class="line" line="9"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.springframework.stereotype.Component
</span></span><span class="line" line="10"><span emptylineplaceholder="true">
</span></span><span class="line" line="11"><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">@Component
</span></span><span class="line" line="12"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">class</span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline"> Receiver</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> {
</span></span><span class="line" line="13"><span emptylineplaceholder="true">
</span></span><span class="line" line="14"><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">    @ServiceActivator</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(inputChannel </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">=</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> &quot;pubsubInputChannel&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="15"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">    fun</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"> messageReceiver</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(
</span></span><span class="line" line="16"><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">        @Header</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(GcpPubSubHeaders.ORIGINAL_MESSAGE) message: </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">BasicAcknowledgeablePubsubMessage</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">,
</span></span><span class="line" line="17"><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">        @Header</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;DOMAIN_OBJECT_ID&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">) domainObjectId: </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">String</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">,
</span></span><span class="line" line="18"><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">        @Payload</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> payload: </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">String</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">,
</span></span><span class="line" line="19"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">    ) {
</span></span><span class="line" line="20"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">        LOGGER.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">info</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;Message arrived! ORIGINAL_MESSAGE: </span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2">$message</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="21"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">        LOGGER.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">info</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;DOMAIN_OBJECT_ID: </span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2">$domainObjectId</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="22"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">        LOGGER.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">info</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;Payload: </span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2">$payload</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="23"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">        message.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">ack</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">()
</span></span><span class="line" line="24"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">    }
</span></span><span class="line" line="25"><span emptylineplaceholder="true">
</span></span><span class="line" line="26"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">    companion</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"> object</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> {
</span></span><span class="line" line="27"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">        private</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"> val</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> LOGGER </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">=</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> LoggerFactory.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">getLogger</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(Receiver::</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">class</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">.java)
</span></span><span class="line" line="28"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">    }
</span></span><span class="line" line="29"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">}
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-5dc7e424 data-v-5442bd1d><span class="sr-only" data-v-5442bd1d>Copy to clipboard</span><span class="icon-wrapper" data-v-5442bd1d><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-5442bd1d style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-852cba11><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p class="prose-p" data-v-601a33c5><!--[-->It is convenient to use the <code class="prose-code-inline" data-v-13448efb><!--[-->@Header<!--]--></code> and <code class="prose-code-inline" data-v-13448efb><!--[-->@Payload<!--]--></code> annotations to obtain the message payload and headers.
There this is my preferred way to use the <code class="prose-code-inline" data-v-13448efb><!--[-->@ServiceActivator<!--]--></code> annotation.<!--]--></p><h4 id="just-obtain-the-message-payload" class="prose-h4" data-v-f5a4431f><a aria-current="page" href="/tutorials/spring-quarkus-google-pubsub#just-obtain-the-message-payload" class="router-link-active router-link-exact-active" data-v-f5a4431f><!--[-->Just obtain the message payload<!--]--><!----></a></h4><p class="prose-p" data-v-601a33c5><!--[-->You can even just obtain the message payload in the <code class="prose-code-inline" data-v-13448efb><!--[-->@ServiceActivator<!--]--></code> method:<!--]--></p><div class="highlight-kotlin prose-code" meta data-v-5dc7e424><span class="filename" data-v-5dc7e424>Receiver.kt</span><!--[--><pre class="language-kotlin shiki shiki-themes github-light github-dark monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">package</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> dev.simonscholz.pubsub
</span></span><span class="line" line="2"><span emptylineplaceholder="true">
</span></span><span class="line" line="3"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.slf4j.LoggerFactory
</span></span><span class="line" line="4"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.springframework.integration.annotation.ServiceActivator
</span></span><span class="line" line="5"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.springframework.stereotype.Component
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">@Component
</span></span><span class="line" line="8"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">class</span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline"> Receiver</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> {
</span></span><span class="line" line="9"><span emptylineplaceholder="true">
</span></span><span class="line" line="10"><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">    @ServiceActivator</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(inputChannel </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">=</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> &quot;pubsubInputChannel&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="11"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">    fun</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"> messageReceiver</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(payload: </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">String</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">) {
</span></span><span class="line" line="12"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">        LOGGER.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">info</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;Message arrived! Payload: </span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2">$payload</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="13"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">    }
</span></span><span class="line" line="14"><span emptylineplaceholder="true">
</span></span><span class="line" line="15"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">    companion</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"> object</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> {
</span></span><span class="line" line="16"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">        private</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"> val</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> LOGGER </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">=</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> LoggerFactory.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">getLogger</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(Receiver::</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">class</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">.java)
</span></span><span class="line" line="17"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">    }
</span></span><span class="line" line="18"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">}
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-5dc7e424 data-v-5442bd1d><span class="sr-only" data-v-5442bd1d>Copy to clipboard</span><span class="icon-wrapper" data-v-5442bd1d><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-5442bd1d style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-852cba11><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p class="prose-p" data-v-601a33c5><!--[-->This is less explicit, but it is possible to obtain the message payload directly without using the <code class="prose-code-inline" data-v-13448efb><!--[-->@Header<!--]--></code> and <code class="prose-code-inline" data-v-13448efb><!--[-->@Payload<!--]--></code> annotations.<!--]--></p><h3 id="test-the-subscription" class="prose-h3" data-v-46d20c66><a aria-current="page" href="/tutorials/spring-quarkus-google-pubsub#test-the-subscription" class="router-link-active router-link-exact-active" data-v-46d20c66><!--[-->Test the Subscription<!--]--><!----></a></h3><p class="prose-p" data-v-601a33c5><!--[-->To test the subscription, you can use the following <code class="prose-code-inline" data-v-13448efb><!--[-->curl<!--]--></code> command:<!--]--></p><div class="highlight-bash prose-code" meta data-v-5dc7e424><!----><!--[--><pre class="language-bash shiki shiki-themes github-light github-dark monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">curl</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> -X</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> POST</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> &quot;http://0.0.0.0:8685/v1/projects/sample-project-id/topics/json-topic:publish&quot;</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> -H</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> &quot;Content-Type: application/json&quot;</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> -d</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> &#39;{
</span></span><span class="line" line="2"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">  &quot;messages&quot;: [
</span></span><span class="line" line="3"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">    {
</span></span><span class="line" line="4"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">      &quot;attributes&quot;: {
</span></span><span class="line" line="5"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">        &quot;DOMAIN_OBJECT_ID&quot;: &quot;12345&quot;,
</span></span><span class="line" line="6"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">        &quot;anotherKey&quot;: &quot;anotherValue&quot;
</span></span><span class="line" line="7"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">      },
</span></span><span class="line" line="8"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">      &quot;data&quot;: &quot;eyJpZCI6ICIxMjM0NSIsICJtZXNzYWdlIjogIkpvaG4gRG9lIn0=&quot;
</span></span><span class="line" line="9"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">    }
</span></span><span class="line" line="10"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">  ]
</span></span><span class="line" line="11"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">}&#39;
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-5dc7e424 data-v-5442bd1d><span class="sr-only" data-v-5442bd1d>Copy to clipboard</span><span class="icon-wrapper" data-v-5442bd1d><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-5442bd1d style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-852cba11><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p class="prose-p" data-v-601a33c5><!--[-->Watch the logs of the Spring Boot application to see the message being received.<!--]--></p><h3 id="publish-to-a-google-cloud-pubsub-topic-1" class="prose-h3" data-v-46d20c66><a aria-current="page" href="/tutorials/spring-quarkus-google-pubsub#publish-to-a-google-cloud-pubsub-topic-1" class="router-link-active router-link-exact-active" data-v-46d20c66><!--[-->Publish to a Google Cloud Pub/Sub Topic<!--]--><!----></a></h3><p class="prose-p" data-v-601a33c5><!--[-->The <code class="prose-code-inline" data-v-13448efb><!--[-->PubSubConfig<!--]--></code> can be adjusted to also provide a <code class="prose-code-inline" data-v-13448efb><!--[-->MessageHandler<!--]--></code> instance for outgoing messages:<!--]--></p><div class="highlight-kotlin prose-code" meta data-v-5dc7e424><span class="filename" data-v-5dc7e424>PubSubConfig.kt</span><!--[--><pre class="language-kotlin shiki shiki-themes github-light github-dark monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">  
</span></span><span class="line" line="2"><span style="--shiki-default:#6A737D;--shiki-dark:#6A737D;--shiki-sepia:#88846F">  // ... other existing code
</span></span><span class="line" line="3"><span emptylineplaceholder="true">
</span></span><span class="line" line="4"><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">  @Bean
</span></span><span class="line" line="5"><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">  @ServiceActivator</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(inputChannel </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">=</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> &quot;pubsubOutputChannel&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="6"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">  fun</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"> messageSender</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(pubsubTemplate: </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">PubSubTemplate</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">): </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">MessageHandler</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> {
</span></span><span class="line" line="7"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">      return</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"> PubSubMessageHandler</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(pubsubTemplate, </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;json-topic&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="8"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">  }
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-5dc7e424 data-v-5442bd1d><span class="sr-only" data-v-5442bd1d>Copy to clipboard</span><span class="icon-wrapper" data-v-5442bd1d><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-5442bd1d style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-852cba11><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p class="prose-p" data-v-601a33c5><!--[-->This <code class="prose-code-inline" data-v-13448efb><!--[-->pubsubOutputChannel<!--]--></code> can then be used by a <code class="prose-code-inline" data-v-13448efb><!--[-->MessagingGateway<!--]--></code> interface:<!--]--></p><div class="highlight-kotlin prose-code" meta data-v-5dc7e424><span class="filename" data-v-5dc7e424>PubsubOutboundGateway.kt</span><!--[--><pre class="language-kotlin shiki shiki-themes github-light github-dark monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">package</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> dev.simonscholz.pubsub
</span></span><span class="line" line="2"><span emptylineplaceholder="true">
</span></span><span class="line" line="3"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.springframework.integration.annotation.MessagingGateway
</span></span><span class="line" line="4"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.springframework.messaging.handler.annotation.Header
</span></span><span class="line" line="5"><span emptylineplaceholder="true">
</span></span><span class="line" line="6"><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">@MessagingGateway</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(defaultRequestChannel </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">=</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> &quot;pubsubOutputChannel&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="7"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">interface</span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline"> PubsubOutboundGateway</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> {
</span></span><span class="line" line="8"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">    fun</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"> sendToPubsub</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(text: </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">String</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">, </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">@Header</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;DOMAIN_OBJECT_ID&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">) domainObjectId: </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">String</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="9"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">}
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-5dc7e424 data-v-5442bd1d><span class="sr-only" data-v-5442bd1d>Copy to clipboard</span><span class="icon-wrapper" data-v-5442bd1d><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-5442bd1d style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-852cba11><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p class="prose-p" data-v-601a33c5><!--[-->Note that instead of using plain text and <code class="prose-code-inline" data-v-13448efb><!--[-->@Header<!--]--></code> domainObjectId as parameters, you can also use a <code class="prose-code-inline" data-v-13448efb><!--[-->import org.springframework.messaging.Message<!--]--></code> object as parameter to get more fine grained control over the message being sent.<!--]--></p><p class="prose-p" data-v-601a33c5><!--[-->The <code class="prose-code-inline" data-v-13448efb><!--[-->PubsubOutboundGateway<!--]--></code> can then be injected into a <code class="prose-code-inline" data-v-13448efb><!--[-->@Service<!--]--></code> or <code class="prose-code-inline" data-v-13448efb><!--[-->@RestController<!--]--></code>, so that it can be used to send messages to the Google Cloud Pub/Sub topic:<!--]--></p><div class="highlight-kotlin prose-code" meta data-v-5dc7e424><span class="filename" data-v-5dc7e424>SampleRestController.kt</span><!--[--><pre class="language-kotlin shiki shiki-themes github-light github-dark monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">package</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> dev.simonscholz.pubsub
</span></span><span class="line" line="2"><span emptylineplaceholder="true">
</span></span><span class="line" line="3"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.springframework.web.bind.annotation.PostMapping
</span></span><span class="line" line="4"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.springframework.web.bind.annotation.RestController
</span></span><span class="line" line="5"><span emptylineplaceholder="true">
</span></span><span class="line" line="6"><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">@RestController
</span></span><span class="line" line="7"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">class</span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline"> SampleRestController</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(
</span></span><span class="line" line="8"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">    private</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"> val</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> pubsubOutboundGateway: </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">PubsubOutboundGateway</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">,
</span></span><span class="line" line="9"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">) {
</span></span><span class="line" line="10"><span emptylineplaceholder="true">
</span></span><span class="line" line="11"><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">    @PostMapping</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;/send&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="12"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">    fun</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"> sendToPubsub</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">() {
</span></span><span class="line" line="13"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">        pubsubOutboundGateway.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">sendToPubsub</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(
</span></span><span class="line" line="14"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">            text </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">=</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> &quot;{</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF">\&quot;</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">DOMAIN_OBJECT_ID</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF">\&quot;</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">: </span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF">\&quot;</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">12345</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF">\&quot;</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">, </span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF">\&quot;</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">name</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF">\&quot;</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">: </span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF">\&quot;</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">John Doe</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF">\&quot;</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">}&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">,
</span></span><span class="line" line="15"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">            domainObjectId </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">=</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> &quot;12345&quot;
</span></span><span class="line" line="16"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">        )
</span></span><span class="line" line="17"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">    }
</span></span><span class="line" line="18"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">}
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-5dc7e424 data-v-5442bd1d><span class="sr-only" data-v-5442bd1d>Copy to clipboard</span><span class="icon-wrapper" data-v-5442bd1d><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-5442bd1d style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-852cba11><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p class="prose-p" data-v-601a33c5><!--[-->The following <code class="prose-code-inline" data-v-13448efb><!--[-->curl<!--]--></code> command can be used to test the <code class="prose-code-inline" data-v-13448efb><!--[-->SampleRestController<!--]--></code>:<!--]--></p><div class="highlight-bash prose-code" meta data-v-5dc7e424><!----><!--[--><pre class="language-bash shiki shiki-themes github-light github-dark monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">curl</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> -X</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> POST</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> -H</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> &quot;Content-Type: application/json&quot;</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> --data</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> &#39;{&quot;DOMAIN_OBJECT_ID&quot;: &quot;12345&quot;, &quot;name&quot;: &quot;John Doe&quot;}&#39;</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> http://localhost:8080/send
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-5dc7e424 data-v-5442bd1d><span class="sr-only" data-v-5442bd1d>Copy to clipboard</span><span class="icon-wrapper" data-v-5442bd1d><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-5442bd1d style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-852cba11><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p class="prose-p" data-v-601a33c5><!--[-->This will then send a message to the Google Cloud Pub/Sub topic and the former created <code class="prose-code-inline" data-v-13448efb><!--[-->@ServiceActivator<!--]--></code> will receive the message.<!--]--></p><h3 id="using-low-level-google-cloud-pubsub-api" class="prose-h3" data-v-46d20c66><a aria-current="page" href="/tutorials/spring-quarkus-google-pubsub#using-low-level-google-cloud-pubsub-api" class="router-link-active router-link-exact-active" data-v-46d20c66><!--[-->Using low level Google Cloud Pub/Sub API<!--]--><!----></a></h3><p class="prose-p" data-v-601a33c5><!--[-->If you want to use the low level Google Cloud Pub/Sub API, you can use the <code class="prose-code-inline" data-v-13448efb><!--[-->PubSubTemplate<!--]--></code> bean to publish messages to a Google Cloud Pub/Sub topic:<!--]--></p><div class="highlight-kotlin prose-code" meta data-v-5dc7e424><span class="filename" data-v-5dc7e424>Publisher.kt</span><!--[--><pre class="language-kotlin shiki shiki-themes github-light github-dark monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">package</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> dev.simonscholz.pubsub
</span></span><span class="line" line="2"><span emptylineplaceholder="true">
</span></span><span class="line" line="3"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> com.google.api.core.ApiFutureCallback
</span></span><span class="line" line="4"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> com.google.api.core.ApiFutures
</span></span><span class="line" line="5"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> com.google.api.gax.core.CredentialsProvider
</span></span><span class="line" line="6"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> com.google.api.gax.rpc.TransportChannelProvider
</span></span><span class="line" line="7"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> com.google.cloud.pubsub.v1.Publisher
</span></span><span class="line" line="8"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> com.google.cloud.spring.core.GcpProjectIdProvider
</span></span><span class="line" line="9"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> com.google.common.util.concurrent.MoreExecutors
</span></span><span class="line" line="10"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> com.google.pubsub.v1.ProjectTopicName
</span></span><span class="line" line="11"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> com.google.pubsub.v1.PubsubMessage
</span></span><span class="line" line="12"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.slf4j.LoggerFactory
</span></span><span class="line" line="13"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.springframework.stereotype.Component
</span></span><span class="line" line="14"><span emptylineplaceholder="true">
</span></span><span class="line" line="15"><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">@Component
</span></span><span class="line" line="16"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">class</span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline"> Publisher</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(
</span></span><span class="line" line="17"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">    gcpProjectIdProvider: </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">GcpProjectIdProvider</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">,
</span></span><span class="line" line="18"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">    credentialsProvider: </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">CredentialsProvider</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">,
</span></span><span class="line" line="19"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">    publisherTransportChannelProvider: </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">TransportChannelProvider</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">,
</span></span><span class="line" line="20"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">) {
</span></span><span class="line" line="21"><span emptylineplaceholder="true">
</span></span><span class="line" line="22"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">    private</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"> val</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> publisher </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">=</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> Publisher.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">newBuilder</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(
</span></span><span class="line" line="23"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">        ProjectTopicName.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">ofProjectTopicName</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(
</span></span><span class="line" line="24"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">            gcpProjectIdProvider.projectId,
</span></span><span class="line" line="25"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">            &quot;json-topic&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">,
</span></span><span class="line" line="26"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">        )
</span></span><span class="line" line="27"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">    )
</span></span><span class="line" line="28"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">        .</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">setChannelProvider</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(publisherTransportChannelProvider)
</span></span><span class="line" line="29"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">        .</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">setCredentialsProvider</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(credentialsProvider)
</span></span><span class="line" line="30"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">        .</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">build</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">()
</span></span><span class="line" line="31"><span emptylineplaceholder="true">
</span></span><span class="line" line="32"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">    fun</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"> publishUserCreated</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">() {
</span></span><span class="line" line="33"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">        val</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> pubsubMessage </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">=</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> PubsubMessage.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">newBuilder</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">()
</span></span><span class="line" line="34"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">            .</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">putAttributes</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;DOMAIN_OBJECT_ID&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">, </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;12345&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="35"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">            .</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">setData</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(ByteString.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">copyFrom</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;{</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF">\&quot;</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">DOMAIN_OBJECT_ID</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF">\&quot;</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">: </span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF">\&quot;</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">12345</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF">\&quot;</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">, </span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF">\&quot;</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">name</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF">\&quot;</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">: </span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF">\&quot;</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">John Doe</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF">\&quot;</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">}&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">toByteArray</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">()))
</span></span><span class="line" line="36"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">            .</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">build</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">()
</span></span><span class="line" line="37"><span emptylineplaceholder="true">
</span></span><span class="line" line="38"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">        val</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> apiFuture </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">=</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> publisher.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">publish</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(pubsubMessage)
</span></span><span class="line" line="39"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">        ApiFutures.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">addCallback</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(
</span></span><span class="line" line="40"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">            apiFuture,
</span></span><span class="line" line="41"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">            object</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> : </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">ApiFutureCallback</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">&lt;</span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">String</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">?&gt; {
</span></span><span class="line" line="42"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">                override</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"> fun</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"> onFailure</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(throwable: </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">Throwable</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">) {
</span></span><span class="line" line="43"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">                    LOGGER.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">error</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;Error publishing user created event: </span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2">$pubsubMessage</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">, throwable)
</span></span><span class="line" line="44"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">                }
</span></span><span class="line" line="45"><span emptylineplaceholder="true">
</span></span><span class="line" line="46"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">                override</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"> fun</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"> onSuccess</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(messageId: </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">String</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">?) {
</span></span><span class="line" line="47"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">                    LOGGER.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">trace</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;Published user created event, messageId: </span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2">$messageId</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">, PubSub-Message: </span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2">$pubsubMessage</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="48"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">                }
</span></span><span class="line" line="49"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">            },
</span></span><span class="line" line="50"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">            MoreExecutors.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">directExecutor</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(),
</span></span><span class="line" line="51"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">        )
</span></span><span class="line" line="52"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">    }
</span></span><span class="line" line="53"><span emptylineplaceholder="true">
</span></span><span class="line" line="54"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">    companion</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"> object</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> {
</span></span><span class="line" line="55"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">        private</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"> val</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> LOGGER </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">=</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> LoggerFactory.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">getLogger</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(Publisher::</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">class</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">.java)
</span></span><span class="line" line="56"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">    }
</span></span><span class="line" line="57"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">}
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-5dc7e424 data-v-5442bd1d><span class="sr-only" data-v-5442bd1d>Copy to clipboard</span><span class="icon-wrapper" data-v-5442bd1d><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-5442bd1d style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-852cba11><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h2 id="quarkus-project" class="prose-h2" data-v-44bf1123><a aria-current="page" href="/tutorials/spring-quarkus-google-pubsub#quarkus-project" class="router-link-active router-link-exact-active" data-v-44bf1123><!--[-->Quarkus Project<!--]--><!----></a></h2><p class="prose-p" data-v-601a33c5><!--[-->Start by creating a new Quarkus project. You can use the Quarkus Initializer (<a href="https://code.quarkus.io/" rel="noopener noreferer" target="_blank" class="prose-a" data-v-2f430ac8><!--[-->https://code.quarkus.io/<!--]--></a>) or your IDE to generate a new project.<!--]--></p><p class="prose-p" data-v-601a33c5><!--[--><img src="/tutorials/spring-quarkus-google-pubsub/code-quarkus-generator.png" alt="Quarkus Code Generator" class="prose-img" data-v-8cc281a5><!--]--></p><p class="prose-p" data-v-601a33c5><!--[-->This will then have the following dependencies in your <code class="prose-code-inline" data-v-13448efb><!--[-->build.gradle.kts<!--]--></code> file:<!--]--></p><div class="highlight-kotlin prose-code" meta data-v-5dc7e424><span class="filename" data-v-5dc7e424>build.gradle.kts</span><!--[--><pre class="language-kotlin shiki shiki-themes github-light github-dark monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">dependencies</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> {
</span></span><span class="line" line="2"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">    implementation</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">enforcedPlatform</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672">${</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F8F8F2">quarkusPlatformGroupId</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672">}</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">:</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672">${</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F8F8F2">quarkusPlatformArtifactId</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672">}</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">:</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672">${</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F8F8F2">quarkusPlatformVersion</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672">}</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">))
</span></span><span class="line" line="3"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">    implementation</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">enforcedPlatform</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672">${</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F8F8F2">quarkusPlatformGroupId</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672">}</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">:quarkus-google-cloud-services-bom:</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672">${</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F8F8F2">quarkusPlatformVersion</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672">}</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">))
</span></span><span class="line" line="4"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">    implementation</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;io.quarkus:quarkus-kotlin&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="5"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">    implementation</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;io.quarkiverse.googlecloudservices:quarkus-google-cloud-pubsub&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="6"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">    implementation</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;io.quarkus:quarkus-config-yaml&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="7"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">    implementation</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;io.quarkus:quarkus-rest-kotlin-serialization&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="8"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">    implementation</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="9"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">    implementation</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;io.quarkus:quarkus-arc&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="10"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">    implementation</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;io.quarkus:quarkus-rest&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="11"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">    implementation</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;dev.oshai:kotlin-logging-jvm:7.0.0&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="12"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">    testImplementation</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;io.quarkus:quarkus-junit5&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="13"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">    testImplementation</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;io.rest-assured:rest-assured&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="14"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">}
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-5dc7e424 data-v-5442bd1d><span class="sr-only" data-v-5442bd1d>Copy to clipboard</span><span class="icon-wrapper" data-v-5442bd1d><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-5442bd1d style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-852cba11><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p class="prose-p" data-v-601a33c5><!--[-->NOTE: I´ve added <code class="prose-code-inline" data-v-13448efb><!--[-->implementation(&quot;dev.oshai:kotlin-logging-jvm:7.0.0&quot;)<!--]--></code> to also have logging in place.<!--]--></p><h3 id="creating-the-model-dto-class" class="prose-h3" data-v-46d20c66><a aria-current="page" href="/tutorials/spring-quarkus-google-pubsub#creating-the-model-dto-class" class="router-link-active router-link-exact-active" data-v-46d20c66><!--[-->Creating the model dto class<!--]--><!----></a></h3><p class="prose-p" data-v-601a33c5><!--[-->In order to pass around data let´s reuse the <code class="prose-code-inline" data-v-13448efb><!--[-->Event<!--]--></code> class from the Spring Boot example:<!--]--></p><div class="highlight-kotlin prose-code" meta data-v-5dc7e424><span class="filename" data-v-5dc7e424>Event.kt</span><!--[--><pre class="language-kotlin shiki shiki-themes github-light github-dark monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">package</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> dev.simonscholz.model
</span></span><span class="line" line="2"><span emptylineplaceholder="true">
</span></span><span class="line" line="3"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">data</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"> class</span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline"> Event</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">val</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> id: </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">String</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">, </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">val</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> message: </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">String</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-5dc7e424 data-v-5442bd1d><span class="sr-only" data-v-5442bd1d>Copy to clipboard</span><span class="icon-wrapper" data-v-5442bd1d><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-5442bd1d style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-852cba11><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h3 id="creating-an-event-handler" class="prose-h3" data-v-46d20c66><a aria-current="page" href="/tutorials/spring-quarkus-google-pubsub#creating-an-event-handler" class="router-link-active router-link-exact-active" data-v-46d20c66><!--[-->Creating an event handler<!--]--><!----></a></h3><p class="prose-p" data-v-601a33c5><!--[-->In order to have proper separation of concerns, let´s create a dedicated <code class="prose-code-inline" data-v-13448efb><!--[-->UserEventHandler<!--]--></code> class:<!--]--></p><div class="highlight-kotlin prose-code" meta data-v-5dc7e424><span class="filename" data-v-5dc7e424>UserEventHandler.kt</span><!--[--><pre class="language-kotlin shiki shiki-themes github-light github-dark monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">package</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> dev.simonscholz
</span></span><span class="line" line="2"><span emptylineplaceholder="true">
</span></span><span class="line" line="3"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> dev.simonscholz.model.Event
</span></span><span class="line" line="4"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> dev.oshai.kotlinlogging.KotlinLogging
</span></span><span class="line" line="5"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> jakarta.enterprise.context.ApplicationScoped
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">@ApplicationScoped
</span></span><span class="line" line="8"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">class</span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline"> UserEventHandler</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> {
</span></span><span class="line" line="9"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">    private</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"> val</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> logger </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">=</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> KotlinLogging.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">logger</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> {}
</span></span><span class="line" line="10"><span emptylineplaceholder="true">
</span></span><span class="line" line="11"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">    fun</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"> handleUserEvent</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(event: </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">Event</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">) {
</span></span><span class="line" line="12"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">        logger.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">info</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> { </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;Event: </span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2">$event</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> }
</span></span><span class="line" line="13"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">    }
</span></span><span class="line" line="14"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">}
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-5dc7e424 data-v-5442bd1d><span class="sr-only" data-v-5442bd1d>Copy to clipboard</span><span class="icon-wrapper" data-v-5442bd1d><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-5442bd1d style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-852cba11><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h3 id="applicationyml-adjustments-and-env" class="prose-h3" data-v-46d20c66><a aria-current="page" href="/tutorials/spring-quarkus-google-pubsub#applicationyml-adjustments-and-env" class="router-link-active router-link-exact-active" data-v-46d20c66><!--[-->application.yml adjustments and .env<!--]--><!----></a></h3><p class="prose-p" data-v-601a33c5><!--[-->By default all google cloud extensions provided by quarkus share the <code class="prose-code-inline" data-v-13448efb><!--[-->quarkus.google.cloud.project-id<!--]--></code> property and can utilize this under the hood.
Also see <a href="https://docs.quarkiverse.io/quarkus-google-cloud-services/main/index.html" rel="noopener noreferer" target="_blank" class="prose-a" data-v-2f430ac8><!--[-->https://docs.quarkiverse.io/quarkus-google-cloud-services/main/index.html<!--]--></a><!--]--></p><div class="highlight-yaml prose-code" meta data-v-5dc7e424><span class="filename" data-v-5dc7e424>application.yml</span><!--[--><pre class="language-yaml shiki shiki-themes github-light github-dark monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672">quarkus</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">:
</span></span><span class="line" line="2"><span style="--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672">  google</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">:
</span></span><span class="line" line="3"><span style="--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672">    cloud</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">:
</span></span><span class="line" line="4"><span style="--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672">      project-id</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">: </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">${GCP_PROJECT_ID}
</span></span><span class="line" line="5"><span emptylineplaceholder="true">
</span></span><span class="line" line="6"><span style="--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672">pubsub</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">:
</span></span><span class="line" line="7"><span style="--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672">  user</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">:
</span></span><span class="line" line="8"><span style="--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672">    subscription-id</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">: </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">${PUBSUB_USER_SUBSCRIPTION_ID}
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-5dc7e424 data-v-5442bd1d><span class="sr-only" data-v-5442bd1d>Copy to clipboard</span><span class="icon-wrapper" data-v-5442bd1d><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-5442bd1d style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-852cba11><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p class="prose-p" data-v-601a33c5><!--[-->The <code class="prose-code-inline" data-v-13448efb><!--[-->pubsub.user.subscription-id<!--]--></code> is a custom property in order to declaratively define the desired subscription-id.<!--]--></p><p class="prose-p" data-v-601a33c5><!--[-->In the root folder of the project a <code class="prose-code-inline" data-v-13448efb><!--[-->.env<!--]--></code> file can be created and provide the <code class="prose-code-inline" data-v-13448efb><!--[-->GCP_PROJECT_ID<!--]--></code> and <code class="prose-code-inline" data-v-13448efb><!--[-->PUBSUB_USER_SUBSCRIPTION_ID<!--]--></code> environment variables.<!--]--></p><div class="highlight-shell prose-code" meta data-v-5dc7e424><span class="filename" data-v-5dc7e424>.env</span><!--[--><pre class="language-shell shiki shiki-themes github-light github-dark monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">GCP_PROJECT_ID</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">=</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">sample-project-id
</span></span><span class="line" line="2"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">PUBSUB_USER_SUBSCRIPTION_ID</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">=</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">json-topic-sub
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-5dc7e424 data-v-5442bd1d><span class="sr-only" data-v-5442bd1d>Copy to clipboard</span><span class="icon-wrapper" data-v-5442bd1d><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-5442bd1d style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-852cba11><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h3 id="start-subscribing-with-quarkuspubsub" class="prose-h3" data-v-46d20c66><a aria-current="page" href="/tutorials/spring-quarkus-google-pubsub#start-subscribing-with-quarkuspubsub" class="router-link-active router-link-exact-active" data-v-46d20c66><!--[-->Start subscribing with QuarkusPubSub<!--]--><!----></a></h3><p class="prose-p" data-v-601a33c5><!--[-->In order to initialize the PubSub subscription the startup event is observed:<!--]--></p><div class="highlight-kotlin prose-code" meta data-v-5dc7e424><span class="filename" data-v-5dc7e424>PubSubInitializer.kt</span><!--[--><pre class="language-kotlin shiki shiki-themes github-light github-dark monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">package</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> dev.simonscholz
</span></span><span class="line" line="2"><span emptylineplaceholder="true">
</span></span><span class="line" line="3"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> com.google.cloud.pubsub.v1.AckReplyConsumer
</span></span><span class="line" line="4"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> com.google.cloud.pubsub.v1.MessageReceiver
</span></span><span class="line" line="5"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> com.google.cloud.pubsub.v1.Subscriber
</span></span><span class="line" line="6"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> com.google.pubsub.v1.PubsubMessage
</span></span><span class="line" line="7"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> dev.simonscholz.model.Event
</span></span><span class="line" line="8"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> dev.oshai.kotlinlogging.KotlinLogging
</span></span><span class="line" line="9"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> io.quarkiverse.googlecloudservices.pubsub.QuarkusPubSub
</span></span><span class="line" line="10"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> io.quarkus.runtime.ShutdownEvent
</span></span><span class="line" line="11"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> io.quarkus.runtime.StartupEvent
</span></span><span class="line" line="12"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> jakarta.enterprise.event.Observes
</span></span><span class="line" line="13"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> jakarta.inject.Singleton
</span></span><span class="line" line="14"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> kotlinx.serialization.json.Json
</span></span><span class="line" line="15"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">import</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2"> org.eclipse.microprofile.config.inject.ConfigProperty
</span></span><span class="line" line="16"><span emptylineplaceholder="true">
</span></span><span class="line" line="17"><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">@Singleton
</span></span><span class="line" line="18"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">class</span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline"> PubSubInitializer</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(
</span></span><span class="line" line="19"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">    private</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"> val</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> userEventHandler: </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">UserEventHandler</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">,
</span></span><span class="line" line="20"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">    private</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"> val</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> quarkusPubSub: </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">QuarkusPubSub</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">,
</span></span><span class="line" line="21"><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">    @ConfigProperty</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(name </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">=</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> &quot;pubsub.user.subscription-id&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="22"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">    private</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"> val</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> gcpSubscriptionId: </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">String</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">,
</span></span><span class="line" line="23"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">) {
</span></span><span class="line" line="24"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">    private</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"> val</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> logger </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">=</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> KotlinLogging.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">logger</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> {}
</span></span><span class="line" line="25"><span emptylineplaceholder="true">
</span></span><span class="line" line="26"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">    private</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"> lateinit</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"> var</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> subscriber: </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">Subscriber
</span></span><span class="line" line="27"><span emptylineplaceholder="true">
</span></span><span class="line" line="28"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">    fun</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"> onStart</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">@Observes</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> ev: </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">StartupEvent</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">) {
</span></span><span class="line" line="29"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">        val</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> receiver </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">=</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"> MessageReceiver</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> { message: </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">PubsubMessage</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">, consumer: </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">AckReplyConsumer</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> -&gt;
</span></span><span class="line" line="30"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">            runCatching</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> {
</span></span><span class="line" line="31"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">                logger.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">debug</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> { </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;Data: &quot;</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"> +</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> message.</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">data</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">toStringUtf8</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">() }
</span></span><span class="line" line="32"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">                logger.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">debug</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> { </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;Attributes: &quot;</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672"> +</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> message.attributesMap }
</span></span><span class="line" line="33"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">                val</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> eventObject </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">=</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> Json.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">decodeFromString</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">&lt;</span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">Event</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">&gt;(message.</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">data</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">toStringUtf8</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">())
</span></span><span class="line" line="34"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">                logger.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">debug</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> { </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;event: </span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2">$eventObject</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> }
</span></span><span class="line" line="35"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">                userEventHandler.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">handleUserEvent</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(eventObject)
</span></span><span class="line" line="36"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">            }.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">onSuccess</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> {
</span></span><span class="line" line="37"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">                consumer.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">ack</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">()
</span></span><span class="line" line="38"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">                logger.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">debug</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> { </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;Successfully processed pubsub event </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672">${</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F8F8F2">message.messageId</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672">}</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> }
</span></span><span class="line" line="39"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">            }.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">onFailure</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> {
</span></span><span class="line" line="40"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">                logger.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">error</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(it) { </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;Failed to process pubsub event </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672">${</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F8F8F2">message.messageId</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672">}</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">. Message data: </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672">${</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F8F8F2">message.</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">data</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F8F8F2">.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">toStringUtf8</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F8F8F2">()</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672">}</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> }
</span></span><span class="line" line="41"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">                consumer.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">nack</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">()
</span></span><span class="line" line="42"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">            }
</span></span><span class="line" line="43"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">        }
</span></span><span class="line" line="44"><span emptylineplaceholder="true">
</span></span><span class="line" line="45"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">        runCatching</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> {
</span></span><span class="line" line="46"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">            subscriber </span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">=</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> quarkusPubSub.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">subscriber</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(gcpSubscriptionId, receiver)
</span></span><span class="line" line="47"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">            subscriber.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">startAsync</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">().</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">awaitRunning</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">()
</span></span><span class="line" line="48"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">        }.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">onFailure</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> {
</span></span><span class="line" line="49"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">            logger.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">error</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(it) { </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;Subscribing to </span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2">$gcpSubscriptionId</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> failed.&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> }
</span></span><span class="line" line="50"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">        }
</span></span><span class="line" line="51"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">    }
</span></span><span class="line" line="52"><span emptylineplaceholder="true">
</span></span><span class="line" line="53"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672">    fun</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"> onShutdown</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">@Observes</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"> ev: </span><span style="--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline">ShutdownEvent</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">) {
</span></span><span class="line" line="54"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">        subscriber.</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">stopAsync</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">()
</span></span><span class="line" line="55"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">    }
</span></span><span class="line" line="56"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">}
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-5dc7e424 data-v-5442bd1d><span class="sr-only" data-v-5442bd1d>Copy to clipboard</span><span class="icon-wrapper" data-v-5442bd1d><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-5442bd1d style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-852cba11><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p class="prose-p" data-v-601a33c5><!--[-->Here the <code class="prose-code-inline" data-v-13448efb><!--[-->UserEventHandler<!--]--></code>, <code class="prose-code-inline" data-v-13448efb><!--[-->QuarkusPubSub<!--]--></code> and the <code class="prose-code-inline" data-v-13448efb><!--[-->gcpSubscriptionId<!--]--></code> is injected.<!--]--></p><p class="prose-p" data-v-601a33c5><!--[-->Within the onStart method a <code class="prose-code-inline" data-v-13448efb><!--[-->MessageReceiver<!--]--></code> instance is created, which will receive the <code class="prose-code-inline" data-v-13448efb><!--[-->PubsubMessage<!--]--></code> and <code class="prose-code-inline" data-v-13448efb><!--[-->AckReplyConsumer<!--]--></code>.<!--]--></p><p class="prose-p" data-v-601a33c5><!--[-->The <code class="prose-code-inline" data-v-13448efb><!--[-->PubsubMessage<!--]--></code> consists of the data being send and Kotlinx Serialization is being used to parse the json object, which is then passed to the <code class="prose-code-inline" data-v-13448efb><!--[-->UserEventHandler<!--]--></code>, which is supposed to cover the business logic of handling the event.<!--]--></p><p class="prose-p" data-v-601a33c5><!--[-->If this is successful the <code class="prose-code-inline" data-v-13448efb><!--[-->AckReplyConsumer<!--]--></code> can be used to <code class="prose-code-inline" data-v-13448efb><!--[-->ack<!--]--></code> the massage.<!--]--></p><p class="prose-p" data-v-601a33c5><!--[-->On failure the <code class="prose-code-inline" data-v-13448efb><!--[-->nack<!--]--></code> function of the <code class="prose-code-inline" data-v-13448efb><!--[-->AckReplyConsumer<!--]--></code> is called, which indicates an error,
which will then usually trigger Google PubSub to retry delivering the message.
The allowed amount of <code class="prose-code-inline" data-v-13448efb><!--[-->nacks<!--]--></code> can be individually configured and even a dead letter queue can be added for massages, that cannot be delivered for later recovery. Sometimes it is also applicable to just also <code class="prose-code-inline" data-v-13448efb><!--[-->ack<!--]--></code> on failure and by that kind of &quot;throw away&quot; the message.<!--]--></p><h3 id="send-a-message-and-let-the-quarkus-app-consume-it" class="prose-h3" data-v-46d20c66><a aria-current="page" href="/tutorials/spring-quarkus-google-pubsub#send-a-message-and-let-the-quarkus-app-consume-it" class="router-link-active router-link-exact-active" data-v-46d20c66><!--[-->Send a message and let the Quarkus app consume it<!--]--><!----></a></h3><p class="prose-p" data-v-601a33c5><!--[-->Like in the Spring Example from above the same <code class="prose-code-inline" data-v-13448efb><!--[-->curl<!--]--></code> can be used:<!--]--></p><div class="highlight-bash prose-code" meta data-v-5dc7e424><!----><!--[--><pre class="language-bash shiki shiki-themes github-light github-dark monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E">curl</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> -X</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> POST</span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"> &quot;http://0.0.0.0:8685/v1/projects/sample-project-id/topics/json-topic:publish&quot;</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> \
</span></span><span class="line" line="2"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">-H </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&quot;Content-Type: application/json&quot;</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"> \
</span></span><span class="line" line="3"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2">-d </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">&#39;{
</span></span><span class="line" line="4"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">  &quot;messages&quot;: [
</span></span><span class="line" line="5"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">    {
</span></span><span class="line" line="6"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">      &quot;attributes&quot;: {
</span></span><span class="line" line="7"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">        &quot;DOMAIN_OBJECT_ID&quot;: &quot;12345&quot;,
</span></span><span class="line" line="8"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">        &quot;anotherKey&quot;: &quot;anotherValue&quot;
</span></span><span class="line" line="9"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">      },
</span></span><span class="line" line="10"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">      &quot;data&quot;: &quot;eyJpZCI6ICIxMjM0NSIsICJtZXNzYWdlIjogIkpvaG4gRG9lIn0=&quot;
</span></span><span class="line" line="11"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">    }
</span></span><span class="line" line="12"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">  ]
</span></span><span class="line" line="13"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74">}&#39;
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-5dc7e424 data-v-5442bd1d><span class="sr-only" data-v-5442bd1d>Copy to clipboard</span><span class="icon-wrapper" data-v-5442bd1d><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-5442bd1d style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-852cba11><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p class="prose-p" data-v-601a33c5><!--[-->This should then log the message data and attributes.<!--]--></p><h2 id="putting-it-all-together" class="prose-h2" data-v-44bf1123><a aria-current="page" href="/tutorials/spring-quarkus-google-pubsub#putting-it-all-together" class="router-link-active router-link-exact-active" data-v-44bf1123><!--[-->Putting it all together<!--]--><!----></a></h2><p class="prose-p" data-v-601a33c5><!--[-->Please feel free to play around and let the Spring app send messages to the Quarkus app and the other way round.<!--]--></p><h2 id="sources" class="prose-h2" data-v-44bf1123><a aria-current="page" href="/tutorials/spring-quarkus-google-pubsub#sources" class="router-link-active router-link-exact-active" data-v-44bf1123><!--[-->Sources<!--]--><!----></a></h2><ul class="prose-ul" data-v-1bf89264><!--[--><li class="prose-li" data-v-12df340e><!--[--><a href="https://cloud.google.com/pubsub/docs/publisher#rest" rel="noopener noreferer" target="_blank" class="prose-a" data-v-2f430ac8><!--[-->https://cloud.google.com/pubsub/docs/publisher#rest<!--]--></a><!--]--></li><li class="prose-li" data-v-12df340e><!--[--><a href="https://cloud.google.com/pubsub/docs/emulator" rel="noopener noreferer" target="_blank" class="prose-a" data-v-2f430ac8><!--[-->https://cloud.google.com/pubsub/docs/emulator<!--]--></a><!--]--></li><li class="prose-li" data-v-12df340e><!--[--><a href="https://cloud.google.com/pubsub/docs/reference/rest/v1/projects.topics" rel="noopener noreferer" target="_blank" class="prose-a" data-v-2f430ac8><!--[-->https://cloud.google.com/pubsub/docs/reference/rest/v1/projects.topics<!--]--></a><!--]--></li><li class="prose-li" data-v-12df340e><!--[--><a href="https://cloud.google.com/pubsub/docs/reference/rest/v1/projects.subscriptions" rel="noopener noreferer" target="_blank" class="prose-a" data-v-2f430ac8><!--[-->https://cloud.google.com/pubsub/docs/reference/rest/v1/projects.subscriptions<!--]--></a><!--]--></li><li class="prose-li" data-v-12df340e><!--[--><a href="https://spring.io/guides/gs/messaging-gcp-pubsub/" rel="noopener noreferer" target="_blank" class="prose-a" data-v-2f430ac8><!--[-->https://spring.io/guides/gs/messaging-gcp-pubsub/<!--]--></a><!--]--></li><li class="prose-li" data-v-12df340e><!--[--><a href="https://docs.quarkiverse.io/quarkus-google-cloud-services/main/pubsub.html" rel="noopener noreferer" target="_blank" class="prose-a" data-v-2f430ac8><!--[-->https://docs.quarkiverse.io/quarkus-google-cloud-services/main/pubsub.html<!--]--></a><!--]--></li><!--]--></ul><style>html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}</style></div></article><div class="w-2/3 mx-auto" id="comments" data-v-2b18fddf><script src="https://giscus.app/client.js" data-repo="simonscholz/simonscholz.github.io" data-repo-id="MDEwOlJlcG9zaXRvcnkyODI5NzQ0OTU=" data-category="Announcements" data-category-id="DIC_kwDOEN3ZH84CiJ8Y" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="bottom" data-theme="preferred_color_scheme" data-lang="en" crossorigin="anonymous" async>
          </script></div></div><!--]--></main><!--]--><nav class="print:hidden"><section class="fixed bottom-0 right-10 mb-5 transition duration-500 hover:duration-500 hover:text-cyan-700 dark:hover:text-cyan-700"><a class="text-xl hover:cursor-pointer" title="⬆️ UP"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" style="" width="1em" height="1em" viewBox="0 0 32 32" data-v-852cba11><path fill="currentColor" d="M16 14L6 24l1.4 1.4l8.6-8.6l8.6 8.6L26 24zM4 8h24v2H4z"/></svg></a></section><footer class="container flex flex-col md:flex-row md:justify-between mx-auto border-t-2 sticky bottom-0"><span class="block md:flex-grow ml-4 text-gray-800 dark:text-gray-300">© Simon Scholz 2020 - 2026</span><div class="block ml-4"><a href="/contact" class="block mt-4 md:inline-block md:mt-0 text-gray-800 dark:text-gray-300 hover:text-black dark:hover:text-white mr-4"> Contact </a><a href="/legal" class="block mt-4 md:inline-block md:mt-0 text-gray-800 dark:text-gray-300 hover:text-black dark:hover:text-white mr-4"> Legal </a><a href="/privacy-policy" class="block mt-4 md:inline-block md:mt-0 text-gray-800 dark:text-gray-300 hover:text-black dark:hover:text-white mr-4"> Privacy Policy </a></div></footer></nav></div></div><div id="teleports"></div><script type="application/json" data-nuxt-data="nuxt-app" data-ssr="true" id="__NUXT_DATA__">[["ShallowReactive",1],{"prerenderedAt":2,"data":3,"state":8715,"once":8753,"_errors":8754,"serverRendered":145,"path":6},1772146526419,["ShallowReactive",4],{"content-query-Bh64HQphJN":5},{"_path":6,"_dir":7,"_draft":8,"_partial":8,"_locale":9,"title":10,"description":11,"id":12,"path":6,"created":13,"updated":14,"author":15,"tags":16,"vgWort":25,"readingTime":26,"body":31,"_type":8709,"_id":8710,"_source":8711,"_file":8712,"_stem":8713,"_extension":8714},"/tutorials/spring-quarkus-google-pubsub","tutorials",false,"","Google Cloud Pub/Sub (emulator) with Spring Boot and Quarkus","Make use of the Google Cloud Pub/Sub (emulator) with Spring Boot and Quarkus","spring-quarkus-google-pubsub","2023-11-11","2024-08-21","Simon Scholz",[17,18,19,20,21,22,23,24],"kotlin","jvm","Spring Boot","Spring","Quarkus","Google Cloud","Pub/Sub","PubSub","vg09.met.vgwort.de/na/6f076d8ae6c94cabb754f02cab413c70",{"text":27,"minutes":28,"time":29,"words":30},"11 min read",10.105,606300,2021,{"type":32,"children":33,"toc":8681},"root",[34,42,47,54,92,98,103,316,329,694,706,731,751,756,811,817,829,963,968,1097,1121,1149,1154,1160,1171,1243,1256,1327,1340,1525,1538,1625,1630,1636,1649,1658,1663,1750,1757,1777,1875,1881,1894,2216,2221,2227,2238,2621,2648,2660,2667,2680,3563,3592,3615,4077,4102,4108,4120,4375,4393,4399,4410,4526,4531,4536,4555,4687,4708,4863,4883,4910,5214,5234,5279,5291,5297,5309,6285,6291,6303,6311,6323,6691,6704,6710,6723,6806,6812,6825,7036,7042,7061,7168,7180,7208,7248,7254,7259,8331,8357,8382,8400,8419,8453,8459,8471,8596,8601,8607,8612,8618,8675],{"type":35,"tag":36,"props":37,"children":38},"element","p",{},[39],{"type":40,"value":41},"text","In this tutorial, we'll learn how to use the Google Cloud Pub/Sub with Spring Boot and Quarkus.",{"type":35,"tag":36,"props":43,"children":44},{},[45],{"type":40,"value":46},"Google Cloud Pub/Sub is a fully-managed real-time messaging service that allows you to send and receive messages between independent applications. It is a scalable, durable, and highly available messaging service that can be used to decouple applications and components deployed on Google Cloud.",{"type":35,"tag":48,"props":49,"children":51},"h2",{"id":50},"prerequisites",[52],{"type":40,"value":53},"Prerequisites",{"type":35,"tag":55,"props":56,"children":57},"ul",{},[58,64,69,73,77,82,87],{"type":35,"tag":59,"props":60,"children":61},"li",{},[62],{"type":40,"value":63},"JDK",{"type":35,"tag":59,"props":65,"children":66},{},[67],{"type":40,"value":68},"Kotlin",{"type":35,"tag":59,"props":70,"children":71},{},[72],{"type":40,"value":19},{"type":35,"tag":59,"props":74,"children":75},{},[76],{"type":40,"value":21},{"type":35,"tag":59,"props":78,"children":79},{},[80],{"type":40,"value":81},"Gradle",{"type":35,"tag":59,"props":83,"children":84},{},[85],{"type":40,"value":86},"Docker and Docker Compose",{"type":35,"tag":59,"props":88,"children":89},{},[90],{"type":40,"value":91},"An Integrated Development Environment (IDE) such as IntelliJ IDEA or Eclipse or VS Code",{"type":35,"tag":48,"props":93,"children":95},{"id":94},"run-the-google-cloud-pubsub-emulator",[96],{"type":40,"value":97},"Run the Google Cloud Pub/Sub Emulator",{"type":35,"tag":36,"props":99,"children":100},{},[101],{"type":40,"value":102},"To run the Google Cloud Pub/Sub Emulator, you can use the following Docker Compose file:",{"type":35,"tag":104,"props":105,"children":110},"pre",{"className":106,"code":107,"filename":108,"language":109,"meta":9,"style":9},"language-yaml shiki shiki-themes github-light github-dark monokai","version: '3.9'\n\nservices:\n  \n  pubsub-emulator:\n    image: gcr.io/google.com/cloudsdktool/cloud-sdk:488.0.0-emulators\n    container_name: pubsub-emulator\n    ports:\n      - \"8685:8685\"\n    volumes:\n      - ./init-pubsub.sh:/init-pubsub.sh\n    entrypoint: [\"/init-pubsub.sh\"]\n    restart: always\n","docker-compose.yml","yaml",[111],{"type":35,"tag":112,"props":113,"children":114},"code",{"__ignoreMap":9},[115,139,149,163,172,185,203,221,234,248,261,274,298],{"type":35,"tag":116,"props":117,"children":120},"span",{"class":118,"line":119},"line",1,[121,127,133],{"type":35,"tag":116,"props":122,"children":124},{"style":123},"--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672",[125],{"type":40,"value":126},"version",{"type":35,"tag":116,"props":128,"children":130},{"style":129},"--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[131],{"type":40,"value":132},": ",{"type":35,"tag":116,"props":134,"children":136},{"style":135},"--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[137],{"type":40,"value":138},"'3.9'\n",{"type":35,"tag":116,"props":140,"children":142},{"class":118,"line":141},2,[143],{"type":35,"tag":116,"props":144,"children":146},{"emptyLinePlaceholder":145},true,[147],{"type":40,"value":148},"\n",{"type":35,"tag":116,"props":150,"children":152},{"class":118,"line":151},3,[153,158],{"type":35,"tag":116,"props":154,"children":155},{"style":123},[156],{"type":40,"value":157},"services",{"type":35,"tag":116,"props":159,"children":160},{"style":129},[161],{"type":40,"value":162},":\n",{"type":35,"tag":116,"props":164,"children":166},{"class":118,"line":165},4,[167],{"type":35,"tag":116,"props":168,"children":169},{"style":129},[170],{"type":40,"value":171},"  \n",{"type":35,"tag":116,"props":173,"children":175},{"class":118,"line":174},5,[176,181],{"type":35,"tag":116,"props":177,"children":178},{"style":123},[179],{"type":40,"value":180},"  pubsub-emulator",{"type":35,"tag":116,"props":182,"children":183},{"style":129},[184],{"type":40,"value":162},{"type":35,"tag":116,"props":186,"children":188},{"class":118,"line":187},6,[189,194,198],{"type":35,"tag":116,"props":190,"children":191},{"style":123},[192],{"type":40,"value":193},"    image",{"type":35,"tag":116,"props":195,"children":196},{"style":129},[197],{"type":40,"value":132},{"type":35,"tag":116,"props":199,"children":200},{"style":135},[201],{"type":40,"value":202},"gcr.io/google.com/cloudsdktool/cloud-sdk:488.0.0-emulators\n",{"type":35,"tag":116,"props":204,"children":206},{"class":118,"line":205},7,[207,212,216],{"type":35,"tag":116,"props":208,"children":209},{"style":123},[210],{"type":40,"value":211},"    container_name",{"type":35,"tag":116,"props":213,"children":214},{"style":129},[215],{"type":40,"value":132},{"type":35,"tag":116,"props":217,"children":218},{"style":135},[219],{"type":40,"value":220},"pubsub-emulator\n",{"type":35,"tag":116,"props":222,"children":224},{"class":118,"line":223},8,[225,230],{"type":35,"tag":116,"props":226,"children":227},{"style":123},[228],{"type":40,"value":229},"    ports",{"type":35,"tag":116,"props":231,"children":232},{"style":129},[233],{"type":40,"value":162},{"type":35,"tag":116,"props":235,"children":237},{"class":118,"line":236},9,[238,243],{"type":35,"tag":116,"props":239,"children":240},{"style":129},[241],{"type":40,"value":242},"      - ",{"type":35,"tag":116,"props":244,"children":245},{"style":135},[246],{"type":40,"value":247},"\"8685:8685\"\n",{"type":35,"tag":116,"props":249,"children":251},{"class":118,"line":250},10,[252,257],{"type":35,"tag":116,"props":253,"children":254},{"style":123},[255],{"type":40,"value":256},"    volumes",{"type":35,"tag":116,"props":258,"children":259},{"style":129},[260],{"type":40,"value":162},{"type":35,"tag":116,"props":262,"children":264},{"class":118,"line":263},11,[265,269],{"type":35,"tag":116,"props":266,"children":267},{"style":129},[268],{"type":40,"value":242},{"type":35,"tag":116,"props":270,"children":271},{"style":135},[272],{"type":40,"value":273},"./init-pubsub.sh:/init-pubsub.sh\n",{"type":35,"tag":116,"props":275,"children":277},{"class":118,"line":276},12,[278,283,288,293],{"type":35,"tag":116,"props":279,"children":280},{"style":123},[281],{"type":40,"value":282},"    entrypoint",{"type":35,"tag":116,"props":284,"children":285},{"style":129},[286],{"type":40,"value":287},": [",{"type":35,"tag":116,"props":289,"children":290},{"style":135},[291],{"type":40,"value":292},"\"/init-pubsub.sh\"",{"type":35,"tag":116,"props":294,"children":295},{"style":129},[296],{"type":40,"value":297},"]\n",{"type":35,"tag":116,"props":299,"children":301},{"class":118,"line":300},13,[302,307,311],{"type":35,"tag":116,"props":303,"children":304},{"style":123},[305],{"type":40,"value":306},"    restart",{"type":35,"tag":116,"props":308,"children":309},{"style":129},[310],{"type":40,"value":132},{"type":35,"tag":116,"props":312,"children":313},{"style":135},[314],{"type":40,"value":315},"always\n",{"type":35,"tag":36,"props":317,"children":318},{},[319,321,327],{"type":40,"value":320},"The ",{"type":35,"tag":112,"props":322,"children":324},{"className":323},[],[325],{"type":40,"value":326},"init-pubsub.sh",{"type":40,"value":328}," script is used to start the emulator, create a topic and a subscription:",{"type":35,"tag":104,"props":330,"children":334},{"className":331,"code":332,"filename":326,"language":333,"meta":9,"style":9},"language-bash shiki shiki-themes github-light github-dark monokai","#!/bin/sh\n\n# Start the Pub/Sub emulator\ngcloud beta emulators pubsub start --host-port 0.0.0.0:8685 --project=sample-project-id &\n\n# Wait for the emulator to start (adjust sleep time as needed)\nsleep 5\n\n# Create Pub/Sub topics\ncurl -s -X PUT 'http://0.0.0.0:8685/v1/projects/sample-project-id/topics/event-topic'\n\ncurl -s -X PUT 'http://0.0.0.0:8685/v1/projects/sample-project-id/topics/json-topic'\n\n# Create Pub/Sub subscriptions\ncurl -s -X PUT 'http://0.0.0.0:8685/v1/projects/sample-project-id/subscriptions/event-topic-sub' \\\n    -H 'Content-Type: application/json' \\\n    --data '{\"topic\":\"projects/sample-project-id/topics/event-topic\"}'\n\ncurl -s -X PUT 'http://0.0.0.0:8685/v1/projects/sample-project-id/subscriptions/json-topic-sub' \\\n    -H 'Content-Type: application/json' \\\n    --data '{\"topic\":\"projects/sample-project-id/topics/json-topic\"}'\n\n# Keep the script running to keep the container alive\ntail -f /dev/null\n","bash",[335],{"type":35,"tag":112,"props":336,"children":337},{"__ignoreMap":9},[338,347,354,362,412,419,427,440,447,455,483,490,514,521,530,560,578,592,600,629,645,658,666,675],{"type":35,"tag":116,"props":339,"children":340},{"class":118,"line":119},[341],{"type":35,"tag":116,"props":342,"children":344},{"style":343},"--shiki-default:#6A737D;--shiki-dark:#6A737D;--shiki-sepia:#88846F",[345],{"type":40,"value":346},"#!/bin/sh\n",{"type":35,"tag":116,"props":348,"children":349},{"class":118,"line":141},[350],{"type":35,"tag":116,"props":351,"children":352},{"emptyLinePlaceholder":145},[353],{"type":40,"value":148},{"type":35,"tag":116,"props":355,"children":356},{"class":118,"line":151},[357],{"type":35,"tag":116,"props":358,"children":359},{"style":343},[360],{"type":40,"value":361},"# Start the Pub/Sub emulator\n",{"type":35,"tag":116,"props":363,"children":364},{"class":118,"line":165},[365,371,376,381,386,391,397,402,407],{"type":35,"tag":116,"props":366,"children":368},{"style":367},"--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[369],{"type":40,"value":370},"gcloud",{"type":35,"tag":116,"props":372,"children":373},{"style":135},[374],{"type":40,"value":375}," beta",{"type":35,"tag":116,"props":377,"children":378},{"style":135},[379],{"type":40,"value":380}," emulators",{"type":35,"tag":116,"props":382,"children":383},{"style":135},[384],{"type":40,"value":385}," pubsub",{"type":35,"tag":116,"props":387,"children":388},{"style":135},[389],{"type":40,"value":390}," start",{"type":35,"tag":116,"props":392,"children":394},{"style":393},"--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[395],{"type":40,"value":396}," --host-port",{"type":35,"tag":116,"props":398,"children":399},{"style":135},[400],{"type":40,"value":401}," 0.0.0.0:8685",{"type":35,"tag":116,"props":403,"children":404},{"style":393},[405],{"type":40,"value":406}," --project=sample-project-id",{"type":35,"tag":116,"props":408,"children":409},{"style":129},[410],{"type":40,"value":411}," &\n",{"type":35,"tag":116,"props":413,"children":414},{"class":118,"line":174},[415],{"type":35,"tag":116,"props":416,"children":417},{"emptyLinePlaceholder":145},[418],{"type":40,"value":148},{"type":35,"tag":116,"props":420,"children":421},{"class":118,"line":187},[422],{"type":35,"tag":116,"props":423,"children":424},{"style":343},[425],{"type":40,"value":426},"# Wait for the emulator to start (adjust sleep time as needed)\n",{"type":35,"tag":116,"props":428,"children":429},{"class":118,"line":205},[430,435],{"type":35,"tag":116,"props":431,"children":432},{"style":367},[433],{"type":40,"value":434},"sleep",{"type":35,"tag":116,"props":436,"children":437},{"style":393},[438],{"type":40,"value":439}," 5\n",{"type":35,"tag":116,"props":441,"children":442},{"class":118,"line":223},[443],{"type":35,"tag":116,"props":444,"children":445},{"emptyLinePlaceholder":145},[446],{"type":40,"value":148},{"type":35,"tag":116,"props":448,"children":449},{"class":118,"line":236},[450],{"type":35,"tag":116,"props":451,"children":452},{"style":343},[453],{"type":40,"value":454},"# Create Pub/Sub topics\n",{"type":35,"tag":116,"props":456,"children":457},{"class":118,"line":250},[458,463,468,473,478],{"type":35,"tag":116,"props":459,"children":460},{"style":367},[461],{"type":40,"value":462},"curl",{"type":35,"tag":116,"props":464,"children":465},{"style":393},[466],{"type":40,"value":467}," -s",{"type":35,"tag":116,"props":469,"children":470},{"style":393},[471],{"type":40,"value":472}," -X",{"type":35,"tag":116,"props":474,"children":475},{"style":135},[476],{"type":40,"value":477}," PUT",{"type":35,"tag":116,"props":479,"children":480},{"style":135},[481],{"type":40,"value":482}," 'http://0.0.0.0:8685/v1/projects/sample-project-id/topics/event-topic'\n",{"type":35,"tag":116,"props":484,"children":485},{"class":118,"line":263},[486],{"type":35,"tag":116,"props":487,"children":488},{"emptyLinePlaceholder":145},[489],{"type":40,"value":148},{"type":35,"tag":116,"props":491,"children":492},{"class":118,"line":276},[493,497,501,505,509],{"type":35,"tag":116,"props":494,"children":495},{"style":367},[496],{"type":40,"value":462},{"type":35,"tag":116,"props":498,"children":499},{"style":393},[500],{"type":40,"value":467},{"type":35,"tag":116,"props":502,"children":503},{"style":393},[504],{"type":40,"value":472},{"type":35,"tag":116,"props":506,"children":507},{"style":135},[508],{"type":40,"value":477},{"type":35,"tag":116,"props":510,"children":511},{"style":135},[512],{"type":40,"value":513}," 'http://0.0.0.0:8685/v1/projects/sample-project-id/topics/json-topic'\n",{"type":35,"tag":116,"props":515,"children":516},{"class":118,"line":300},[517],{"type":35,"tag":116,"props":518,"children":519},{"emptyLinePlaceholder":145},[520],{"type":40,"value":148},{"type":35,"tag":116,"props":522,"children":524},{"class":118,"line":523},14,[525],{"type":35,"tag":116,"props":526,"children":527},{"style":343},[528],{"type":40,"value":529},"# Create Pub/Sub subscriptions\n",{"type":35,"tag":116,"props":531,"children":533},{"class":118,"line":532},15,[534,538,542,546,550,555],{"type":35,"tag":116,"props":535,"children":536},{"style":367},[537],{"type":40,"value":462},{"type":35,"tag":116,"props":539,"children":540},{"style":393},[541],{"type":40,"value":467},{"type":35,"tag":116,"props":543,"children":544},{"style":393},[545],{"type":40,"value":472},{"type":35,"tag":116,"props":547,"children":548},{"style":135},[549],{"type":40,"value":477},{"type":35,"tag":116,"props":551,"children":552},{"style":135},[553],{"type":40,"value":554}," 'http://0.0.0.0:8685/v1/projects/sample-project-id/subscriptions/event-topic-sub'",{"type":35,"tag":116,"props":556,"children":557},{"style":393},[558],{"type":40,"value":559}," \\\n",{"type":35,"tag":116,"props":561,"children":563},{"class":118,"line":562},16,[564,569,574],{"type":35,"tag":116,"props":565,"children":566},{"style":393},[567],{"type":40,"value":568},"    -H",{"type":35,"tag":116,"props":570,"children":571},{"style":135},[572],{"type":40,"value":573}," 'Content-Type: application/json'",{"type":35,"tag":116,"props":575,"children":576},{"style":393},[577],{"type":40,"value":559},{"type":35,"tag":116,"props":579,"children":581},{"class":118,"line":580},17,[582,587],{"type":35,"tag":116,"props":583,"children":584},{"style":393},[585],{"type":40,"value":586},"    --data",{"type":35,"tag":116,"props":588,"children":589},{"style":135},[590],{"type":40,"value":591}," '{\"topic\":\"projects/sample-project-id/topics/event-topic\"}'\n",{"type":35,"tag":116,"props":593,"children":595},{"class":118,"line":594},18,[596],{"type":35,"tag":116,"props":597,"children":598},{"emptyLinePlaceholder":145},[599],{"type":40,"value":148},{"type":35,"tag":116,"props":601,"children":603},{"class":118,"line":602},19,[604,608,612,616,620,625],{"type":35,"tag":116,"props":605,"children":606},{"style":367},[607],{"type":40,"value":462},{"type":35,"tag":116,"props":609,"children":610},{"style":393},[611],{"type":40,"value":467},{"type":35,"tag":116,"props":613,"children":614},{"style":393},[615],{"type":40,"value":472},{"type":35,"tag":116,"props":617,"children":618},{"style":135},[619],{"type":40,"value":477},{"type":35,"tag":116,"props":621,"children":622},{"style":135},[623],{"type":40,"value":624}," 'http://0.0.0.0:8685/v1/projects/sample-project-id/subscriptions/json-topic-sub'",{"type":35,"tag":116,"props":626,"children":627},{"style":393},[628],{"type":40,"value":559},{"type":35,"tag":116,"props":630,"children":632},{"class":118,"line":631},20,[633,637,641],{"type":35,"tag":116,"props":634,"children":635},{"style":393},[636],{"type":40,"value":568},{"type":35,"tag":116,"props":638,"children":639},{"style":135},[640],{"type":40,"value":573},{"type":35,"tag":116,"props":642,"children":643},{"style":393},[644],{"type":40,"value":559},{"type":35,"tag":116,"props":646,"children":648},{"class":118,"line":647},21,[649,653],{"type":35,"tag":116,"props":650,"children":651},{"style":393},[652],{"type":40,"value":586},{"type":35,"tag":116,"props":654,"children":655},{"style":135},[656],{"type":40,"value":657}," '{\"topic\":\"projects/sample-project-id/topics/json-topic\"}'\n",{"type":35,"tag":116,"props":659,"children":661},{"class":118,"line":660},22,[662],{"type":35,"tag":116,"props":663,"children":664},{"emptyLinePlaceholder":145},[665],{"type":40,"value":148},{"type":35,"tag":116,"props":667,"children":669},{"class":118,"line":668},23,[670],{"type":35,"tag":116,"props":671,"children":672},{"style":343},[673],{"type":40,"value":674},"# Keep the script running to keep the container alive\n",{"type":35,"tag":116,"props":676,"children":678},{"class":118,"line":677},24,[679,684,689],{"type":35,"tag":116,"props":680,"children":681},{"style":367},[682],{"type":40,"value":683},"tail",{"type":35,"tag":116,"props":685,"children":686},{"style":393},[687],{"type":40,"value":688}," -f",{"type":35,"tag":116,"props":690,"children":691},{"style":135},[692],{"type":40,"value":693}," /dev/null\n",{"type":35,"tag":36,"props":695,"children":696},{},[697,699,704],{"type":40,"value":698},"Make sure that the ",{"type":35,"tag":112,"props":700,"children":702},{"className":701},[],[703],{"type":40,"value":326},{"type":40,"value":705}," script is executable:",{"type":35,"tag":104,"props":707,"children":709},{"className":331,"code":708,"language":333,"meta":9,"style":9},"chmod +x init-pubsub.sh\n",[710],{"type":35,"tag":112,"props":711,"children":712},{"__ignoreMap":9},[713],{"type":35,"tag":116,"props":714,"children":715},{"class":118,"line":119},[716,721,726],{"type":35,"tag":116,"props":717,"children":718},{"style":367},[719],{"type":40,"value":720},"chmod",{"type":35,"tag":116,"props":722,"children":723},{"style":135},[724],{"type":40,"value":725}," +x",{"type":35,"tag":116,"props":727,"children":728},{"style":135},[729],{"type":40,"value":730}," init-pubsub.sh\n",{"type":35,"tag":36,"props":732,"children":733},{},[734,735,741,743,749],{"type":40,"value":320},{"type":35,"tag":112,"props":736,"children":738},{"className":737},[],[739],{"type":40,"value":740},"&",{"type":40,"value":742}," at the end of the emulator start command is used to run the emulator in the background. The ",{"type":35,"tag":112,"props":744,"children":746},{"className":745},[],[747],{"type":40,"value":748},"tail -f /dev/null",{"type":40,"value":750}," command is used to keep the container alive.",{"type":35,"tag":36,"props":752,"children":753},{},[754],{"type":40,"value":755},"Check if topics and subscriptions were created successfully:",{"type":35,"tag":104,"props":757,"children":759},{"className":331,"code":758,"language":333,"meta":9,"style":9},"curl -X GET 'http://0.0.0.0:8685/v1/projects/sample-project-id/topics'\n\ncurl -X GET 'http://0.0.0.0:8685/v1/projects/sample-project-id/subscriptions'\n",[760],{"type":35,"tag":112,"props":761,"children":762},{"__ignoreMap":9},[763,784,791],{"type":35,"tag":116,"props":764,"children":765},{"class":118,"line":119},[766,770,774,779],{"type":35,"tag":116,"props":767,"children":768},{"style":367},[769],{"type":40,"value":462},{"type":35,"tag":116,"props":771,"children":772},{"style":393},[773],{"type":40,"value":472},{"type":35,"tag":116,"props":775,"children":776},{"style":135},[777],{"type":40,"value":778}," GET",{"type":35,"tag":116,"props":780,"children":781},{"style":135},[782],{"type":40,"value":783}," 'http://0.0.0.0:8685/v1/projects/sample-project-id/topics'\n",{"type":35,"tag":116,"props":785,"children":786},{"class":118,"line":141},[787],{"type":35,"tag":116,"props":788,"children":789},{"emptyLinePlaceholder":145},[790],{"type":40,"value":148},{"type":35,"tag":116,"props":792,"children":793},{"class":118,"line":151},[794,798,802,806],{"type":35,"tag":116,"props":795,"children":796},{"style":367},[797],{"type":40,"value":462},{"type":35,"tag":116,"props":799,"children":800},{"style":393},[801],{"type":40,"value":472},{"type":35,"tag":116,"props":803,"children":804},{"style":135},[805],{"type":40,"value":778},{"type":35,"tag":116,"props":807,"children":808},{"style":135},[809],{"type":40,"value":810}," 'http://0.0.0.0:8685/v1/projects/sample-project-id/subscriptions'\n",{"type":35,"tag":48,"props":812,"children":814},{"id":813},"publish-to-a-google-cloud-pubsub-topic",[815],{"type":40,"value":816},"Publish to a Google Cloud Pub/Sub Topic",{"type":35,"tag":36,"props":818,"children":819},{},[820,822,827],{"type":40,"value":821},"To publish to a Google Cloud Pub/Sub topic, you can use the following ",{"type":35,"tag":112,"props":823,"children":825},{"className":824},[],[826],{"type":40,"value":462},{"type":40,"value":828}," command:",{"type":35,"tag":104,"props":830,"children":832},{"className":331,"code":831,"language":333,"meta":9,"style":9},"curl -X POST \"http://0.0.0.0:8685/v1/projects/sample-project-id/topics/event-topic:publish\" \\\n-H \"Content-Type: application/json\" \\\n-d '{\n  \"messages\": [\n    {\n      \"attributes\": {\n        \"DOMAIN_OBJECT_ID\": \"12345\",\n        \"anotherKey\": \"anotherValue\"\n      }\n    }\n  ]\n}'\n",[833],{"type":35,"tag":112,"props":834,"children":835},{"__ignoreMap":9},[836,861,878,891,899,907,915,923,931,939,947,955],{"type":35,"tag":116,"props":837,"children":838},{"class":118,"line":119},[839,843,847,852,857],{"type":35,"tag":116,"props":840,"children":841},{"style":367},[842],{"type":40,"value":462},{"type":35,"tag":116,"props":844,"children":845},{"style":393},[846],{"type":40,"value":472},{"type":35,"tag":116,"props":848,"children":849},{"style":135},[850],{"type":40,"value":851}," POST",{"type":35,"tag":116,"props":853,"children":854},{"style":135},[855],{"type":40,"value":856}," \"http://0.0.0.0:8685/v1/projects/sample-project-id/topics/event-topic:publish\"",{"type":35,"tag":116,"props":858,"children":859},{"style":393},[860],{"type":40,"value":559},{"type":35,"tag":116,"props":862,"children":863},{"class":118,"line":141},[864,869,874],{"type":35,"tag":116,"props":865,"children":866},{"style":129},[867],{"type":40,"value":868},"-H ",{"type":35,"tag":116,"props":870,"children":871},{"style":135},[872],{"type":40,"value":873},"\"Content-Type: application/json\"",{"type":35,"tag":116,"props":875,"children":876},{"style":393},[877],{"type":40,"value":559},{"type":35,"tag":116,"props":879,"children":880},{"class":118,"line":151},[881,886],{"type":35,"tag":116,"props":882,"children":883},{"style":129},[884],{"type":40,"value":885},"-d ",{"type":35,"tag":116,"props":887,"children":888},{"style":135},[889],{"type":40,"value":890},"'{\n",{"type":35,"tag":116,"props":892,"children":893},{"class":118,"line":165},[894],{"type":35,"tag":116,"props":895,"children":896},{"style":135},[897],{"type":40,"value":898},"  \"messages\": [\n",{"type":35,"tag":116,"props":900,"children":901},{"class":118,"line":174},[902],{"type":35,"tag":116,"props":903,"children":904},{"style":135},[905],{"type":40,"value":906},"    {\n",{"type":35,"tag":116,"props":908,"children":909},{"class":118,"line":187},[910],{"type":35,"tag":116,"props":911,"children":912},{"style":135},[913],{"type":40,"value":914},"      \"attributes\": {\n",{"type":35,"tag":116,"props":916,"children":917},{"class":118,"line":205},[918],{"type":35,"tag":116,"props":919,"children":920},{"style":135},[921],{"type":40,"value":922},"        \"DOMAIN_OBJECT_ID\": \"12345\",\n",{"type":35,"tag":116,"props":924,"children":925},{"class":118,"line":223},[926],{"type":35,"tag":116,"props":927,"children":928},{"style":135},[929],{"type":40,"value":930},"        \"anotherKey\": \"anotherValue\"\n",{"type":35,"tag":116,"props":932,"children":933},{"class":118,"line":236},[934],{"type":35,"tag":116,"props":935,"children":936},{"style":135},[937],{"type":40,"value":938},"      }\n",{"type":35,"tag":116,"props":940,"children":941},{"class":118,"line":250},[942],{"type":35,"tag":116,"props":943,"children":944},{"style":135},[945],{"type":40,"value":946},"    }\n",{"type":35,"tag":116,"props":948,"children":949},{"class":118,"line":263},[950],{"type":35,"tag":116,"props":951,"children":952},{"style":135},[953],{"type":40,"value":954},"  ]\n",{"type":35,"tag":116,"props":956,"children":957},{"class":118,"line":276},[958],{"type":35,"tag":116,"props":959,"children":960},{"style":135},[961],{"type":40,"value":962},"}'\n",{"type":35,"tag":36,"props":964,"children":965},{},[966],{"type":40,"value":967},"Or using json data:",{"type":35,"tag":104,"props":969,"children":971},{"className":331,"code":970,"language":333,"meta":9,"style":9},"curl -X POST \"http://0.0.0.0:8685/v1/projects/sample-project-id/topics/json-topic:publish\" \\\n-H \"Content-Type: application/json\" \\\n-d '{\n  \"messages\": [\n    {\n      \"attributes\": {\n        \"DOMAIN_OBJECT_ID\": \"12345\",\n        \"anotherKey\": \"anotherValue\"\n      },\n      \"data\": \"eyJpZCI6ICIxMjM0NSIsICJtZXNzYWdlIjogIkpvaG4gRG9lIn0=\"\n    }\n  ]\n}'\n",[972],{"type":35,"tag":112,"props":973,"children":974},{"__ignoreMap":9},[975,999,1014,1025,1032,1039,1046,1053,1060,1068,1076,1083,1090],{"type":35,"tag":116,"props":976,"children":977},{"class":118,"line":119},[978,982,986,990,995],{"type":35,"tag":116,"props":979,"children":980},{"style":367},[981],{"type":40,"value":462},{"type":35,"tag":116,"props":983,"children":984},{"style":393},[985],{"type":40,"value":472},{"type":35,"tag":116,"props":987,"children":988},{"style":135},[989],{"type":40,"value":851},{"type":35,"tag":116,"props":991,"children":992},{"style":135},[993],{"type":40,"value":994}," \"http://0.0.0.0:8685/v1/projects/sample-project-id/topics/json-topic:publish\"",{"type":35,"tag":116,"props":996,"children":997},{"style":393},[998],{"type":40,"value":559},{"type":35,"tag":116,"props":1000,"children":1001},{"class":118,"line":141},[1002,1006,1010],{"type":35,"tag":116,"props":1003,"children":1004},{"style":129},[1005],{"type":40,"value":868},{"type":35,"tag":116,"props":1007,"children":1008},{"style":135},[1009],{"type":40,"value":873},{"type":35,"tag":116,"props":1011,"children":1012},{"style":393},[1013],{"type":40,"value":559},{"type":35,"tag":116,"props":1015,"children":1016},{"class":118,"line":151},[1017,1021],{"type":35,"tag":116,"props":1018,"children":1019},{"style":129},[1020],{"type":40,"value":885},{"type":35,"tag":116,"props":1022,"children":1023},{"style":135},[1024],{"type":40,"value":890},{"type":35,"tag":116,"props":1026,"children":1027},{"class":118,"line":165},[1028],{"type":35,"tag":116,"props":1029,"children":1030},{"style":135},[1031],{"type":40,"value":898},{"type":35,"tag":116,"props":1033,"children":1034},{"class":118,"line":174},[1035],{"type":35,"tag":116,"props":1036,"children":1037},{"style":135},[1038],{"type":40,"value":906},{"type":35,"tag":116,"props":1040,"children":1041},{"class":118,"line":187},[1042],{"type":35,"tag":116,"props":1043,"children":1044},{"style":135},[1045],{"type":40,"value":914},{"type":35,"tag":116,"props":1047,"children":1048},{"class":118,"line":205},[1049],{"type":35,"tag":116,"props":1050,"children":1051},{"style":135},[1052],{"type":40,"value":922},{"type":35,"tag":116,"props":1054,"children":1055},{"class":118,"line":223},[1056],{"type":35,"tag":116,"props":1057,"children":1058},{"style":135},[1059],{"type":40,"value":930},{"type":35,"tag":116,"props":1061,"children":1062},{"class":118,"line":236},[1063],{"type":35,"tag":116,"props":1064,"children":1065},{"style":135},[1066],{"type":40,"value":1067},"      },\n",{"type":35,"tag":116,"props":1069,"children":1070},{"class":118,"line":250},[1071],{"type":35,"tag":116,"props":1072,"children":1073},{"style":135},[1074],{"type":40,"value":1075},"      \"data\": \"eyJpZCI6ICIxMjM0NSIsICJtZXNzYWdlIjogIkpvaG4gRG9lIn0=\"\n",{"type":35,"tag":116,"props":1077,"children":1078},{"class":118,"line":263},[1079],{"type":35,"tag":116,"props":1080,"children":1081},{"style":135},[1082],{"type":40,"value":946},{"type":35,"tag":116,"props":1084,"children":1085},{"class":118,"line":276},[1086],{"type":35,"tag":116,"props":1087,"children":1088},{"style":135},[1089],{"type":40,"value":954},{"type":35,"tag":116,"props":1091,"children":1092},{"class":118,"line":300},[1093],{"type":35,"tag":116,"props":1094,"children":1095},{"style":135},[1096],{"type":40,"value":962},{"type":35,"tag":36,"props":1098,"children":1099},{},[1100,1102,1108,1110],{"type":40,"value":1101},"The actual json data is ",{"type":35,"tag":112,"props":1103,"children":1105},{"className":1104},[],[1106],{"type":40,"value":1107},"{\"DOMAIN_OBJECT_ID\": \"12345\", \"name\": \"John Doe\"}",{"type":40,"value":1109},", but it must be base64 encoded.\nAlso see ",{"type":35,"tag":1111,"props":1112,"children":1118},"a",{"href":1113,"rel":1114,"target":1117},"https://cloud.google.com/knowledge/kb/publishing-json-message-to-pub-sub-topic-fails-with-400-bad-request-error-000004171",[1115,1116],"noopener","noreferer","_blank",[1119],{"type":40,"value":1120},"Publishing json message to PubSub",{"type":35,"tag":36,"props":1122,"children":1123},{},[1124,1126,1132,1134,1140,1142,1147],{"type":40,"value":1125},"The first example does not use the ",{"type":35,"tag":112,"props":1127,"children":1129},{"className":1128},[],[1130],{"type":40,"value":1131},"data",{"type":40,"value":1133}," property, since it is optional.\nYou'll have to use at least one property in ",{"type":35,"tag":112,"props":1135,"children":1137},{"className":1136},[],[1138],{"type":40,"value":1139},"attributes",{"type":40,"value":1141}," or ",{"type":35,"tag":112,"props":1143,"children":1145},{"className":1144},[],[1146],{"type":40,"value":1131},{"type":40,"value":1148}," or both.",{"type":35,"tag":36,"props":1150,"children":1151},{},[1152],{"type":40,"value":1153},"Later, we'll use a Spring Boot application and a Quarkus application to publish to a Google Cloud Pub/Sub topic.",{"type":35,"tag":48,"props":1155,"children":1157},{"id":1156},"pull-from-a-google-cloud-pubsub-subscription",[1158],{"type":40,"value":1159},"Pull from a Google Cloud Pub/Sub Subscription",{"type":35,"tag":36,"props":1161,"children":1162},{},[1163,1165,1170],{"type":40,"value":1164},"To pull from a Google Cloud Pub/Sub subscription, you can use the following ",{"type":35,"tag":112,"props":1166,"children":1168},{"className":1167},[],[1169],{"type":40,"value":462},{"type":40,"value":828},{"type":35,"tag":104,"props":1172,"children":1174},{"className":331,"code":1173,"language":333,"meta":9,"style":9},"curl -X POST \"http://0.0.0.0:8685/v1/projects/sample-project-id/subscriptions/event-topic-sub:pull\" \\\n-H \"Content-Type: application/json\" \\\n-d '{\n  \"maxMessages\": 10\n}'\n",[1175],{"type":35,"tag":112,"props":1176,"children":1177},{"__ignoreMap":9},[1178,1202,1217,1228,1236],{"type":35,"tag":116,"props":1179,"children":1180},{"class":118,"line":119},[1181,1185,1189,1193,1198],{"type":35,"tag":116,"props":1182,"children":1183},{"style":367},[1184],{"type":40,"value":462},{"type":35,"tag":116,"props":1186,"children":1187},{"style":393},[1188],{"type":40,"value":472},{"type":35,"tag":116,"props":1190,"children":1191},{"style":135},[1192],{"type":40,"value":851},{"type":35,"tag":116,"props":1194,"children":1195},{"style":135},[1196],{"type":40,"value":1197}," \"http://0.0.0.0:8685/v1/projects/sample-project-id/subscriptions/event-topic-sub:pull\"",{"type":35,"tag":116,"props":1199,"children":1200},{"style":393},[1201],{"type":40,"value":559},{"type":35,"tag":116,"props":1203,"children":1204},{"class":118,"line":141},[1205,1209,1213],{"type":35,"tag":116,"props":1206,"children":1207},{"style":129},[1208],{"type":40,"value":868},{"type":35,"tag":116,"props":1210,"children":1211},{"style":135},[1212],{"type":40,"value":873},{"type":35,"tag":116,"props":1214,"children":1215},{"style":393},[1216],{"type":40,"value":559},{"type":35,"tag":116,"props":1218,"children":1219},{"class":118,"line":151},[1220,1224],{"type":35,"tag":116,"props":1221,"children":1222},{"style":129},[1223],{"type":40,"value":885},{"type":35,"tag":116,"props":1225,"children":1226},{"style":135},[1227],{"type":40,"value":890},{"type":35,"tag":116,"props":1229,"children":1230},{"class":118,"line":165},[1231],{"type":35,"tag":116,"props":1232,"children":1233},{"style":135},[1234],{"type":40,"value":1235},"  \"maxMessages\": 10\n",{"type":35,"tag":116,"props":1237,"children":1238},{"class":118,"line":174},[1239],{"type":35,"tag":116,"props":1240,"children":1241},{"style":135},[1242],{"type":40,"value":962},{"type":35,"tag":36,"props":1244,"children":1245},{},[1246,1248,1254],{"type":40,"value":1247},"Or from the ",{"type":35,"tag":112,"props":1249,"children":1251},{"className":1250},[],[1252],{"type":40,"value":1253},"user-created-json-topic",{"type":40,"value":1255}," subscription:",{"type":35,"tag":104,"props":1257,"children":1259},{"className":331,"code":1258,"language":333,"meta":9,"style":9},"curl -X POST \"http://0.0.0.0:8685/v1/projects/sample-project-id/subscriptions/json-topic-sub:pull\" \\\n-H \"Content-Type: application/json\" \\\n-d '{\n  \"maxMessages\": 10\n}'\n",[1260],{"type":35,"tag":112,"props":1261,"children":1262},{"__ignoreMap":9},[1263,1287,1302,1313,1320],{"type":35,"tag":116,"props":1264,"children":1265},{"class":118,"line":119},[1266,1270,1274,1278,1283],{"type":35,"tag":116,"props":1267,"children":1268},{"style":367},[1269],{"type":40,"value":462},{"type":35,"tag":116,"props":1271,"children":1272},{"style":393},[1273],{"type":40,"value":472},{"type":35,"tag":116,"props":1275,"children":1276},{"style":135},[1277],{"type":40,"value":851},{"type":35,"tag":116,"props":1279,"children":1280},{"style":135},[1281],{"type":40,"value":1282}," \"http://0.0.0.0:8685/v1/projects/sample-project-id/subscriptions/json-topic-sub:pull\"",{"type":35,"tag":116,"props":1284,"children":1285},{"style":393},[1286],{"type":40,"value":559},{"type":35,"tag":116,"props":1288,"children":1289},{"class":118,"line":141},[1290,1294,1298],{"type":35,"tag":116,"props":1291,"children":1292},{"style":129},[1293],{"type":40,"value":868},{"type":35,"tag":116,"props":1295,"children":1296},{"style":135},[1297],{"type":40,"value":873},{"type":35,"tag":116,"props":1299,"children":1300},{"style":393},[1301],{"type":40,"value":559},{"type":35,"tag":116,"props":1303,"children":1304},{"class":118,"line":151},[1305,1309],{"type":35,"tag":116,"props":1306,"children":1307},{"style":129},[1308],{"type":40,"value":885},{"type":35,"tag":116,"props":1310,"children":1311},{"style":135},[1312],{"type":40,"value":890},{"type":35,"tag":116,"props":1314,"children":1315},{"class":118,"line":165},[1316],{"type":35,"tag":116,"props":1317,"children":1318},{"style":135},[1319],{"type":40,"value":1235},{"type":35,"tag":116,"props":1321,"children":1322},{"class":118,"line":174},[1323],{"type":35,"tag":116,"props":1324,"children":1325},{"style":135},[1326],{"type":40,"value":962},{"type":35,"tag":36,"props":1328,"children":1329},{},[1330,1332,1338],{"type":40,"value":1331},"When the message is only pulled, PubSub will keep the message, unless it is ",{"type":35,"tag":112,"props":1333,"children":1335},{"className":1334},[],[1336],{"type":40,"value":1337},"acked",{"type":40,"value":1339},".\nThe return value of a pull should look similar to this:",{"type":35,"tag":104,"props":1341,"children":1345},{"className":1342,"code":1343,"language":1344,"meta":9,"style":9},"language-json shiki shiki-themes github-light github-dark monokai","{\n  \"receivedMessages\": [{\n    \"ackId\": \"projects/sample-project-id/subscriptions/json-topic-sub:1\",\n    \"message\": {\n      \"attributes\": {\n        \"DOMAIN_OBJECT_ID\": \"12345\",\n        \"anotherKey\": \"anotherValue\"\n      },\n      \"messageId\": \"1\",\n      \"publishTime\": \"2023-11-07T23:04:40.028Z\"\n    }\n  }]\n}\n","json",[1346],{"type":35,"tag":112,"props":1347,"children":1348},{"__ignoreMap":9},[1349,1357,1371,1394,1407,1419,1440,1457,1464,1485,1502,1509,1517],{"type":35,"tag":116,"props":1350,"children":1351},{"class":118,"line":119},[1352],{"type":35,"tag":116,"props":1353,"children":1354},{"style":129},[1355],{"type":40,"value":1356},"{\n",{"type":35,"tag":116,"props":1358,"children":1359},{"class":118,"line":141},[1360,1366],{"type":35,"tag":116,"props":1361,"children":1363},{"style":1362},"--shiki-default:#005CC5;--shiki-default-font-style:inherit;--shiki-dark:#79B8FF;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[1364],{"type":40,"value":1365},"  \"receivedMessages\"",{"type":35,"tag":116,"props":1367,"children":1368},{"style":129},[1369],{"type":40,"value":1370},": [{\n",{"type":35,"tag":116,"props":1372,"children":1373},{"class":118,"line":151},[1374,1379,1383,1389],{"type":35,"tag":116,"props":1375,"children":1376},{"style":1362},[1377],{"type":40,"value":1378},"    \"ackId\"",{"type":35,"tag":116,"props":1380,"children":1381},{"style":129},[1382],{"type":40,"value":132},{"type":35,"tag":116,"props":1384,"children":1386},{"style":1385},"--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#CFCFC2",[1387],{"type":40,"value":1388},"\"projects/sample-project-id/subscriptions/json-topic-sub:1\"",{"type":35,"tag":116,"props":1390,"children":1391},{"style":129},[1392],{"type":40,"value":1393},",\n",{"type":35,"tag":116,"props":1395,"children":1396},{"class":118,"line":165},[1397,1402],{"type":35,"tag":116,"props":1398,"children":1399},{"style":1362},[1400],{"type":40,"value":1401},"    \"message\"",{"type":35,"tag":116,"props":1403,"children":1404},{"style":129},[1405],{"type":40,"value":1406},": {\n",{"type":35,"tag":116,"props":1408,"children":1409},{"class":118,"line":174},[1410,1415],{"type":35,"tag":116,"props":1411,"children":1412},{"style":1362},[1413],{"type":40,"value":1414},"      \"attributes\"",{"type":35,"tag":116,"props":1416,"children":1417},{"style":129},[1418],{"type":40,"value":1406},{"type":35,"tag":116,"props":1420,"children":1421},{"class":118,"line":187},[1422,1427,1431,1436],{"type":35,"tag":116,"props":1423,"children":1424},{"style":1362},[1425],{"type":40,"value":1426},"        \"DOMAIN_OBJECT_ID\"",{"type":35,"tag":116,"props":1428,"children":1429},{"style":129},[1430],{"type":40,"value":132},{"type":35,"tag":116,"props":1432,"children":1433},{"style":1385},[1434],{"type":40,"value":1435},"\"12345\"",{"type":35,"tag":116,"props":1437,"children":1438},{"style":129},[1439],{"type":40,"value":1393},{"type":35,"tag":116,"props":1441,"children":1442},{"class":118,"line":205},[1443,1448,1452],{"type":35,"tag":116,"props":1444,"children":1445},{"style":1362},[1446],{"type":40,"value":1447},"        \"anotherKey\"",{"type":35,"tag":116,"props":1449,"children":1450},{"style":129},[1451],{"type":40,"value":132},{"type":35,"tag":116,"props":1453,"children":1454},{"style":1385},[1455],{"type":40,"value":1456},"\"anotherValue\"\n",{"type":35,"tag":116,"props":1458,"children":1459},{"class":118,"line":223},[1460],{"type":35,"tag":116,"props":1461,"children":1462},{"style":129},[1463],{"type":40,"value":1067},{"type":35,"tag":116,"props":1465,"children":1466},{"class":118,"line":236},[1467,1472,1476,1481],{"type":35,"tag":116,"props":1468,"children":1469},{"style":1362},[1470],{"type":40,"value":1471},"      \"messageId\"",{"type":35,"tag":116,"props":1473,"children":1474},{"style":129},[1475],{"type":40,"value":132},{"type":35,"tag":116,"props":1477,"children":1478},{"style":1385},[1479],{"type":40,"value":1480},"\"1\"",{"type":35,"tag":116,"props":1482,"children":1483},{"style":129},[1484],{"type":40,"value":1393},{"type":35,"tag":116,"props":1486,"children":1487},{"class":118,"line":250},[1488,1493,1497],{"type":35,"tag":116,"props":1489,"children":1490},{"style":1362},[1491],{"type":40,"value":1492},"      \"publishTime\"",{"type":35,"tag":116,"props":1494,"children":1495},{"style":129},[1496],{"type":40,"value":132},{"type":35,"tag":116,"props":1498,"children":1499},{"style":1385},[1500],{"type":40,"value":1501},"\"2023-11-07T23:04:40.028Z\"\n",{"type":35,"tag":116,"props":1503,"children":1504},{"class":118,"line":263},[1505],{"type":35,"tag":116,"props":1506,"children":1507},{"style":129},[1508],{"type":40,"value":946},{"type":35,"tag":116,"props":1510,"children":1511},{"class":118,"line":276},[1512],{"type":35,"tag":116,"props":1513,"children":1514},{"style":129},[1515],{"type":40,"value":1516},"  }]\n",{"type":35,"tag":116,"props":1518,"children":1519},{"class":118,"line":300},[1520],{"type":35,"tag":116,"props":1521,"children":1522},{"style":129},[1523],{"type":40,"value":1524},"}\n",{"type":35,"tag":36,"props":1526,"children":1527},{},[1528,1530,1536],{"type":40,"value":1529},"You can acknowledge these messages by using the given ",{"type":35,"tag":112,"props":1531,"children":1533},{"className":1532},[],[1534],{"type":40,"value":1535},"ackId",{"type":40,"value":1537}," and calling the following:",{"type":35,"tag":104,"props":1539,"children":1541},{"className":331,"code":1540,"language":333,"meta":9,"style":9},"curl -X POST \"http://0.0.0.0:8685/v1/projects/sample-project-id/subscriptions/json-topic-sub:acknowledge\" \\\n-H \"Content-Type: application/json\" \\\n-d '{\n  \"ackIds\": [\n    \"projects/sample-project-id/subscriptions/json-topic-sub:1\"\n  ]\n}'\n",[1542],{"type":35,"tag":112,"props":1543,"children":1544},{"__ignoreMap":9},[1545,1569,1584,1595,1603,1611,1618],{"type":35,"tag":116,"props":1546,"children":1547},{"class":118,"line":119},[1548,1552,1556,1560,1565],{"type":35,"tag":116,"props":1549,"children":1550},{"style":367},[1551],{"type":40,"value":462},{"type":35,"tag":116,"props":1553,"children":1554},{"style":393},[1555],{"type":40,"value":472},{"type":35,"tag":116,"props":1557,"children":1558},{"style":135},[1559],{"type":40,"value":851},{"type":35,"tag":116,"props":1561,"children":1562},{"style":135},[1563],{"type":40,"value":1564}," \"http://0.0.0.0:8685/v1/projects/sample-project-id/subscriptions/json-topic-sub:acknowledge\"",{"type":35,"tag":116,"props":1566,"children":1567},{"style":393},[1568],{"type":40,"value":559},{"type":35,"tag":116,"props":1570,"children":1571},{"class":118,"line":141},[1572,1576,1580],{"type":35,"tag":116,"props":1573,"children":1574},{"style":129},[1575],{"type":40,"value":868},{"type":35,"tag":116,"props":1577,"children":1578},{"style":135},[1579],{"type":40,"value":873},{"type":35,"tag":116,"props":1581,"children":1582},{"style":393},[1583],{"type":40,"value":559},{"type":35,"tag":116,"props":1585,"children":1586},{"class":118,"line":151},[1587,1591],{"type":35,"tag":116,"props":1588,"children":1589},{"style":129},[1590],{"type":40,"value":885},{"type":35,"tag":116,"props":1592,"children":1593},{"style":135},[1594],{"type":40,"value":890},{"type":35,"tag":116,"props":1596,"children":1597},{"class":118,"line":165},[1598],{"type":35,"tag":116,"props":1599,"children":1600},{"style":135},[1601],{"type":40,"value":1602},"  \"ackIds\": [\n",{"type":35,"tag":116,"props":1604,"children":1605},{"class":118,"line":174},[1606],{"type":35,"tag":116,"props":1607,"children":1608},{"style":135},[1609],{"type":40,"value":1610},"    \"projects/sample-project-id/subscriptions/json-topic-sub:1\"\n",{"type":35,"tag":116,"props":1612,"children":1613},{"class":118,"line":187},[1614],{"type":35,"tag":116,"props":1615,"children":1616},{"style":135},[1617],{"type":40,"value":954},{"type":35,"tag":116,"props":1619,"children":1620},{"class":118,"line":205},[1621],{"type":35,"tag":116,"props":1622,"children":1623},{"style":135},[1624],{"type":40,"value":962},{"type":35,"tag":36,"props":1626,"children":1627},{},[1628],{"type":40,"value":1629},"Later, we'll use a Spring Boot application and a Quarkus application to pull from a Google Cloud Pub/Sub subscription.",{"type":35,"tag":48,"props":1631,"children":1633},{"id":1632},"spring-boot-project",[1634],{"type":40,"value":1635},"Spring Boot Project",{"type":35,"tag":36,"props":1637,"children":1638},{},[1639,1641,1647],{"type":40,"value":1640},"Start by creating a new Spring Boot project. You can use the Spring Initializer (",{"type":35,"tag":1111,"props":1642,"children":1645},{"href":1643,"rel":1644,"target":1117},"https://start.spring.io/",[1115,1116],[1646],{"type":40,"value":1643},{"type":40,"value":1648},") or your IDE to generate a new project.",{"type":35,"tag":36,"props":1650,"children":1651},{},[1652],{"type":35,"tag":1653,"props":1654,"children":1657},"img",{"alt":1655,"src":1656},"Spring Initializr","/tutorials/spring-quarkus-google-pubsub/spring-initializr.png",[],{"type":35,"tag":36,"props":1659,"children":1660},{},[1661],{"type":40,"value":1662},"You just need to make sure to add the following dependencies:",{"type":35,"tag":104,"props":1664,"children":1668},{"className":1665,"code":1666,"filename":1667,"language":17,"meta":9,"style":9},"language-kotlin shiki shiki-themes github-light github-dark monokai","implementation(\"org.springframework.boot:spring-boot-starter-integration\")\nimplementation(\"com.google.cloud:spring-cloud-gcp-starter-pubsub\")\n\n// optional, but helpful to use rest to test publishing\nimplementation(\"org.springframework.boot:spring-boot-starter-webflux\")\n","build.gradle.kts",[1669],{"type":35,"tag":112,"props":1670,"children":1671},{"__ignoreMap":9},[1672,1695,1715,1722,1730],{"type":35,"tag":116,"props":1673,"children":1674},{"class":118,"line":119},[1675,1680,1685,1690],{"type":35,"tag":116,"props":1676,"children":1677},{"style":367},[1678],{"type":40,"value":1679},"implementation",{"type":35,"tag":116,"props":1681,"children":1682},{"style":129},[1683],{"type":40,"value":1684},"(",{"type":35,"tag":116,"props":1686,"children":1687},{"style":135},[1688],{"type":40,"value":1689},"\"org.springframework.boot:spring-boot-starter-integration\"",{"type":35,"tag":116,"props":1691,"children":1692},{"style":129},[1693],{"type":40,"value":1694},")\n",{"type":35,"tag":116,"props":1696,"children":1697},{"class":118,"line":141},[1698,1702,1706,1711],{"type":35,"tag":116,"props":1699,"children":1700},{"style":367},[1701],{"type":40,"value":1679},{"type":35,"tag":116,"props":1703,"children":1704},{"style":129},[1705],{"type":40,"value":1684},{"type":35,"tag":116,"props":1707,"children":1708},{"style":135},[1709],{"type":40,"value":1710},"\"com.google.cloud:spring-cloud-gcp-starter-pubsub\"",{"type":35,"tag":116,"props":1712,"children":1713},{"style":129},[1714],{"type":40,"value":1694},{"type":35,"tag":116,"props":1716,"children":1717},{"class":118,"line":151},[1718],{"type":35,"tag":116,"props":1719,"children":1720},{"emptyLinePlaceholder":145},[1721],{"type":40,"value":148},{"type":35,"tag":116,"props":1723,"children":1724},{"class":118,"line":165},[1725],{"type":35,"tag":116,"props":1726,"children":1727},{"style":343},[1728],{"type":40,"value":1729},"// optional, but helpful to use rest to test publishing\n",{"type":35,"tag":116,"props":1731,"children":1732},{"class":118,"line":174},[1733,1737,1741,1746],{"type":35,"tag":116,"props":1734,"children":1735},{"style":367},[1736],{"type":40,"value":1679},{"type":35,"tag":116,"props":1738,"children":1739},{"style":129},[1740],{"type":40,"value":1684},{"type":35,"tag":116,"props":1742,"children":1743},{"style":135},[1744],{"type":40,"value":1745},"\"org.springframework.boot:spring-boot-starter-webflux\"",{"type":35,"tag":116,"props":1747,"children":1748},{"style":129},[1749],{"type":40,"value":1694},{"type":35,"tag":1751,"props":1752,"children":1754},"h3",{"id":1753},"configure-application-properties",[1755],{"type":40,"value":1756},"Configure Application Properties",{"type":35,"tag":36,"props":1758,"children":1759},{},[1760,1762,1768,1769,1775],{"type":40,"value":1761},"In the ",{"type":35,"tag":112,"props":1763,"children":1765},{"className":1764},[],[1766],{"type":40,"value":1767},"application.properties",{"type":40,"value":1141},{"type":35,"tag":112,"props":1770,"children":1772},{"className":1771},[],[1773],{"type":40,"value":1774},"application.yml",{"type":40,"value":1776}," file we need to configure the Google Cloud Pub/Sub project ID and the Google Cloud Pub/Sub emulator host:",{"type":35,"tag":104,"props":1778,"children":1780},{"className":106,"code":1779,"filename":1774,"language":109,"meta":9,"style":9},"---\nspring:\n  cloud:\n    gcp:\n      project-id: sample-project-id\n      pubsub:\n        emulator-host: \"localhost:8685\"\n",[1781],{"type":35,"tag":112,"props":1782,"children":1783},{"__ignoreMap":9},[1784,1793,1805,1817,1829,1846,1858],{"type":35,"tag":116,"props":1785,"children":1786},{"class":118,"line":119},[1787],{"type":35,"tag":116,"props":1788,"children":1790},{"style":1789},"--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#F8F8F2",[1791],{"type":40,"value":1792},"---\n",{"type":35,"tag":116,"props":1794,"children":1795},{"class":118,"line":141},[1796,1801],{"type":35,"tag":116,"props":1797,"children":1798},{"style":123},[1799],{"type":40,"value":1800},"spring",{"type":35,"tag":116,"props":1802,"children":1803},{"style":129},[1804],{"type":40,"value":162},{"type":35,"tag":116,"props":1806,"children":1807},{"class":118,"line":151},[1808,1813],{"type":35,"tag":116,"props":1809,"children":1810},{"style":123},[1811],{"type":40,"value":1812},"  cloud",{"type":35,"tag":116,"props":1814,"children":1815},{"style":129},[1816],{"type":40,"value":162},{"type":35,"tag":116,"props":1818,"children":1819},{"class":118,"line":165},[1820,1825],{"type":35,"tag":116,"props":1821,"children":1822},{"style":123},[1823],{"type":40,"value":1824},"    gcp",{"type":35,"tag":116,"props":1826,"children":1827},{"style":129},[1828],{"type":40,"value":162},{"type":35,"tag":116,"props":1830,"children":1831},{"class":118,"line":174},[1832,1837,1841],{"type":35,"tag":116,"props":1833,"children":1834},{"style":123},[1835],{"type":40,"value":1836},"      project-id",{"type":35,"tag":116,"props":1838,"children":1839},{"style":129},[1840],{"type":40,"value":132},{"type":35,"tag":116,"props":1842,"children":1843},{"style":135},[1844],{"type":40,"value":1845},"sample-project-id\n",{"type":35,"tag":116,"props":1847,"children":1848},{"class":118,"line":187},[1849,1854],{"type":35,"tag":116,"props":1850,"children":1851},{"style":123},[1852],{"type":40,"value":1853},"      pubsub",{"type":35,"tag":116,"props":1855,"children":1856},{"style":129},[1857],{"type":40,"value":162},{"type":35,"tag":116,"props":1859,"children":1860},{"class":118,"line":205},[1861,1866,1870],{"type":35,"tag":116,"props":1862,"children":1863},{"style":123},[1864],{"type":40,"value":1865},"        emulator-host",{"type":35,"tag":116,"props":1867,"children":1868},{"style":129},[1869],{"type":40,"value":132},{"type":35,"tag":116,"props":1871,"children":1872},{"style":135},[1873],{"type":40,"value":1874},"\"localhost:8685\"\n",{"type":35,"tag":1751,"props":1876,"children":1878},{"id":1877},"general-gcp-configuration",[1879],{"type":40,"value":1880},"General GCP Configuration",{"type":35,"tag":36,"props":1882,"children":1883},{},[1884,1886,1892],{"type":40,"value":1885},"To configure the Google Cloud project ID and credentials, we need to create a ",{"type":35,"tag":112,"props":1887,"children":1889},{"className":1888},[],[1890],{"type":40,"value":1891},"@Configuration",{"type":40,"value":1893}," like this:",{"type":35,"tag":104,"props":1895,"children":1898},{"className":1665,"code":1896,"filename":1897,"language":17,"meta":9,"style":9},"package dev.simonscholz.pubsub.config\n\nimport com.google.api.gax.core.CredentialsProvider\nimport com.google.api.gax.core.NoCredentialsProvider\nimport com.google.cloud.spring.core.GcpProjectIdProvider\nimport org.springframework.beans.factory.annotation.Value\nimport org.springframework.context.annotation.Bean\nimport org.springframework.context.annotation.Configuration\n\n@Configuration\nclass GcpConfig {\n    @Bean\n    fun projectIdProvider(\n        @Value(\"\\${spring.cloud.gcp.project-id}\") projectId: String?,\n    ): GcpProjectIdProvider {\n        return GcpProjectIdProvider { projectId }\n    }\n\n    @Bean\n    fun credentialsProvider(): CredentialsProvider {\n        return NoCredentialsProvider.create()\n    }\n}\n","GcpConfig.kt",[1899],{"type":35,"tag":112,"props":1900,"children":1901},{"__ignoreMap":9},[1902,1916,1923,1936,1948,1960,1972,1984,1996,2003,2012,2030,2038,2056,2098,2115,2133,2140,2147,2154,2180,2202,2209],{"type":35,"tag":116,"props":1903,"children":1904},{"class":118,"line":119},[1905,1911],{"type":35,"tag":116,"props":1906,"children":1908},{"style":1907},"--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[1909],{"type":40,"value":1910},"package",{"type":35,"tag":116,"props":1912,"children":1913},{"style":1789},[1914],{"type":40,"value":1915}," dev.simonscholz.pubsub.config\n",{"type":35,"tag":116,"props":1917,"children":1918},{"class":118,"line":141},[1919],{"type":35,"tag":116,"props":1920,"children":1921},{"emptyLinePlaceholder":145},[1922],{"type":40,"value":148},{"type":35,"tag":116,"props":1924,"children":1925},{"class":118,"line":151},[1926,1931],{"type":35,"tag":116,"props":1927,"children":1928},{"style":1907},[1929],{"type":40,"value":1930},"import",{"type":35,"tag":116,"props":1932,"children":1933},{"style":1789},[1934],{"type":40,"value":1935}," com.google.api.gax.core.CredentialsProvider\n",{"type":35,"tag":116,"props":1937,"children":1938},{"class":118,"line":165},[1939,1943],{"type":35,"tag":116,"props":1940,"children":1941},{"style":1907},[1942],{"type":40,"value":1930},{"type":35,"tag":116,"props":1944,"children":1945},{"style":1789},[1946],{"type":40,"value":1947}," com.google.api.gax.core.NoCredentialsProvider\n",{"type":35,"tag":116,"props":1949,"children":1950},{"class":118,"line":174},[1951,1955],{"type":35,"tag":116,"props":1952,"children":1953},{"style":1907},[1954],{"type":40,"value":1930},{"type":35,"tag":116,"props":1956,"children":1957},{"style":1789},[1958],{"type":40,"value":1959}," com.google.cloud.spring.core.GcpProjectIdProvider\n",{"type":35,"tag":116,"props":1961,"children":1962},{"class":118,"line":187},[1963,1967],{"type":35,"tag":116,"props":1964,"children":1965},{"style":1907},[1966],{"type":40,"value":1930},{"type":35,"tag":116,"props":1968,"children":1969},{"style":1789},[1970],{"type":40,"value":1971}," org.springframework.beans.factory.annotation.Value\n",{"type":35,"tag":116,"props":1973,"children":1974},{"class":118,"line":205},[1975,1979],{"type":35,"tag":116,"props":1976,"children":1977},{"style":1907},[1978],{"type":40,"value":1930},{"type":35,"tag":116,"props":1980,"children":1981},{"style":1789},[1982],{"type":40,"value":1983}," org.springframework.context.annotation.Bean\n",{"type":35,"tag":116,"props":1985,"children":1986},{"class":118,"line":223},[1987,1991],{"type":35,"tag":116,"props":1988,"children":1989},{"style":1907},[1990],{"type":40,"value":1930},{"type":35,"tag":116,"props":1992,"children":1993},{"style":1789},[1994],{"type":40,"value":1995}," org.springframework.context.annotation.Configuration\n",{"type":35,"tag":116,"props":1997,"children":1998},{"class":118,"line":236},[1999],{"type":35,"tag":116,"props":2000,"children":2001},{"emptyLinePlaceholder":145},[2002],{"type":40,"value":148},{"type":35,"tag":116,"props":2004,"children":2005},{"class":118,"line":250},[2006],{"type":35,"tag":116,"props":2007,"children":2009},{"style":2008},"--shiki-default:#6F42C1;--shiki-default-text-decoration:inherit;--shiki-dark:#B392F0;--shiki-dark-text-decoration:inherit;--shiki-sepia:#A6E22E;--shiki-sepia-text-decoration:underline",[2010],{"type":40,"value":2011},"@Configuration\n",{"type":35,"tag":116,"props":2013,"children":2014},{"class":118,"line":263},[2015,2020,2025],{"type":35,"tag":116,"props":2016,"children":2017},{"style":1907},[2018],{"type":40,"value":2019},"class",{"type":35,"tag":116,"props":2021,"children":2022},{"style":2008},[2023],{"type":40,"value":2024}," GcpConfig",{"type":35,"tag":116,"props":2026,"children":2027},{"style":129},[2028],{"type":40,"value":2029}," {\n",{"type":35,"tag":116,"props":2031,"children":2032},{"class":118,"line":276},[2033],{"type":35,"tag":116,"props":2034,"children":2035},{"style":2008},[2036],{"type":40,"value":2037},"    @Bean\n",{"type":35,"tag":116,"props":2039,"children":2040},{"class":118,"line":300},[2041,2046,2051],{"type":35,"tag":116,"props":2042,"children":2043},{"style":1907},[2044],{"type":40,"value":2045},"    fun",{"type":35,"tag":116,"props":2047,"children":2048},{"style":367},[2049],{"type":40,"value":2050}," projectIdProvider",{"type":35,"tag":116,"props":2052,"children":2053},{"style":129},[2054],{"type":40,"value":2055},"(\n",{"type":35,"tag":116,"props":2057,"children":2058},{"class":118,"line":523},[2059,2064,2068,2073,2078,2083,2088,2093],{"type":35,"tag":116,"props":2060,"children":2061},{"style":2008},[2062],{"type":40,"value":2063},"        @Value",{"type":35,"tag":116,"props":2065,"children":2066},{"style":129},[2067],{"type":40,"value":1684},{"type":35,"tag":116,"props":2069,"children":2070},{"style":135},[2071],{"type":40,"value":2072},"\"",{"type":35,"tag":116,"props":2074,"children":2075},{"style":393},[2076],{"type":40,"value":2077},"\\$",{"type":35,"tag":116,"props":2079,"children":2080},{"style":135},[2081],{"type":40,"value":2082},"{spring.cloud.gcp.project-id}\"",{"type":35,"tag":116,"props":2084,"children":2085},{"style":129},[2086],{"type":40,"value":2087},") projectId: ",{"type":35,"tag":116,"props":2089,"children":2090},{"style":2008},[2091],{"type":40,"value":2092},"String",{"type":35,"tag":116,"props":2094,"children":2095},{"style":129},[2096],{"type":40,"value":2097},"?,\n",{"type":35,"tag":116,"props":2099,"children":2100},{"class":118,"line":532},[2101,2106,2111],{"type":35,"tag":116,"props":2102,"children":2103},{"style":129},[2104],{"type":40,"value":2105},"    ): ",{"type":35,"tag":116,"props":2107,"children":2108},{"style":2008},[2109],{"type":40,"value":2110},"GcpProjectIdProvider",{"type":35,"tag":116,"props":2112,"children":2113},{"style":129},[2114],{"type":40,"value":2029},{"type":35,"tag":116,"props":2116,"children":2117},{"class":118,"line":562},[2118,2123,2128],{"type":35,"tag":116,"props":2119,"children":2120},{"style":1907},[2121],{"type":40,"value":2122},"        return",{"type":35,"tag":116,"props":2124,"children":2125},{"style":367},[2126],{"type":40,"value":2127}," GcpProjectIdProvider",{"type":35,"tag":116,"props":2129,"children":2130},{"style":129},[2131],{"type":40,"value":2132}," { projectId }\n",{"type":35,"tag":116,"props":2134,"children":2135},{"class":118,"line":580},[2136],{"type":35,"tag":116,"props":2137,"children":2138},{"style":129},[2139],{"type":40,"value":946},{"type":35,"tag":116,"props":2141,"children":2142},{"class":118,"line":594},[2143],{"type":35,"tag":116,"props":2144,"children":2145},{"emptyLinePlaceholder":145},[2146],{"type":40,"value":148},{"type":35,"tag":116,"props":2148,"children":2149},{"class":118,"line":602},[2150],{"type":35,"tag":116,"props":2151,"children":2152},{"style":2008},[2153],{"type":40,"value":2037},{"type":35,"tag":116,"props":2155,"children":2156},{"class":118,"line":631},[2157,2161,2166,2171,2176],{"type":35,"tag":116,"props":2158,"children":2159},{"style":1907},[2160],{"type":40,"value":2045},{"type":35,"tag":116,"props":2162,"children":2163},{"style":367},[2164],{"type":40,"value":2165}," credentialsProvider",{"type":35,"tag":116,"props":2167,"children":2168},{"style":129},[2169],{"type":40,"value":2170},"(): ",{"type":35,"tag":116,"props":2172,"children":2173},{"style":2008},[2174],{"type":40,"value":2175},"CredentialsProvider",{"type":35,"tag":116,"props":2177,"children":2178},{"style":129},[2179],{"type":40,"value":2029},{"type":35,"tag":116,"props":2181,"children":2182},{"class":118,"line":647},[2183,2187,2192,2197],{"type":35,"tag":116,"props":2184,"children":2185},{"style":1907},[2186],{"type":40,"value":2122},{"type":35,"tag":116,"props":2188,"children":2189},{"style":129},[2190],{"type":40,"value":2191}," NoCredentialsProvider.",{"type":35,"tag":116,"props":2193,"children":2194},{"style":367},[2195],{"type":40,"value":2196},"create",{"type":35,"tag":116,"props":2198,"children":2199},{"style":129},[2200],{"type":40,"value":2201},"()\n",{"type":35,"tag":116,"props":2203,"children":2204},{"class":118,"line":660},[2205],{"type":35,"tag":116,"props":2206,"children":2207},{"style":129},[2208],{"type":40,"value":946},{"type":35,"tag":116,"props":2210,"children":2211},{"class":118,"line":668},[2212],{"type":35,"tag":116,"props":2213,"children":2214},{"style":129},[2215],{"type":40,"value":1524},{"type":35,"tag":36,"props":2217,"children":2218},{},[2219],{"type":40,"value":2220},"Of course this only applies for the use of the Google Cloud Pub/Sub emulator.\nIf you want to use the Google Cloud Pub/Sub in production, you can configure the Google Cloud project ID and credentials differently.\nOn how to do this with secrets, environment variables and terraform see later sections of this tutorial.",{"type":35,"tag":1751,"props":2222,"children":2224},{"id":2223},"subscribe-to-a-google-cloud-pubsub-topic",[2225],{"type":40,"value":2226},"Subscribe to a Google Cloud Pub/Sub Topic",{"type":35,"tag":36,"props":2228,"children":2229},{},[2230,2232,2237],{"type":40,"value":2231},"To subscribe to a Google Cloud Pub/Sub topic, we need to create a ",{"type":35,"tag":112,"props":2233,"children":2235},{"className":2234},[],[2236],{"type":40,"value":1891},{"type":40,"value":1893},{"type":35,"tag":104,"props":2239,"children":2242},{"className":1665,"code":2240,"filename":2241,"language":17,"meta":9,"style":9},"package dev.simonscholz.pubsub\n\nimport com.google.cloud.spring.pubsub.core.PubSubTemplate\nimport com.google.cloud.spring.pubsub.integration.AckMode\nimport com.google.cloud.spring.pubsub.integration.inbound.PubSubInboundChannelAdapter\nimport org.springframework.beans.factory.annotation.Qualifier\nimport org.springframework.context.annotation.Bean\nimport org.springframework.context.annotation.Configuration\nimport org.springframework.integration.channel.DirectChannel\nimport org.springframework.messaging.MessageChannel\n\n\n@Configuration\nclass PubSubConfig {\n\n    @Bean\n    fun messageChannelAdapter(\n        @Qualifier(\"pubsubInputChannel\") inputChannel: MessageChannel,\n        pubSubTemplate: PubSubTemplate,\n    ): PubSubInboundChannelAdapter =\n        PubSubInboundChannelAdapter(pubSubTemplate, \"json-topic-sub\").apply {\n            outputChannel = inputChannel\n            setAckMode(AckMode.MANUAL)\n        }\n\n    @Bean\n    fun pubsubInputChannel(): MessageChannel = DirectChannel()\n}\n","PubSubConfig.kt",[2243],{"type":35,"tag":112,"props":2244,"children":2245},{"__ignoreMap":9},[2246,2258,2265,2277,2289,2301,2313,2324,2335,2347,2359,2366,2373,2380,2396,2403,2410,2426,2457,2474,2491,2523,2541,2554,2562,2570,2578,2613],{"type":35,"tag":116,"props":2247,"children":2248},{"class":118,"line":119},[2249,2253],{"type":35,"tag":116,"props":2250,"children":2251},{"style":1907},[2252],{"type":40,"value":1910},{"type":35,"tag":116,"props":2254,"children":2255},{"style":1789},[2256],{"type":40,"value":2257}," dev.simonscholz.pubsub\n",{"type":35,"tag":116,"props":2259,"children":2260},{"class":118,"line":141},[2261],{"type":35,"tag":116,"props":2262,"children":2263},{"emptyLinePlaceholder":145},[2264],{"type":40,"value":148},{"type":35,"tag":116,"props":2266,"children":2267},{"class":118,"line":151},[2268,2272],{"type":35,"tag":116,"props":2269,"children":2270},{"style":1907},[2271],{"type":40,"value":1930},{"type":35,"tag":116,"props":2273,"children":2274},{"style":1789},[2275],{"type":40,"value":2276}," com.google.cloud.spring.pubsub.core.PubSubTemplate\n",{"type":35,"tag":116,"props":2278,"children":2279},{"class":118,"line":165},[2280,2284],{"type":35,"tag":116,"props":2281,"children":2282},{"style":1907},[2283],{"type":40,"value":1930},{"type":35,"tag":116,"props":2285,"children":2286},{"style":1789},[2287],{"type":40,"value":2288}," com.google.cloud.spring.pubsub.integration.AckMode\n",{"type":35,"tag":116,"props":2290,"children":2291},{"class":118,"line":174},[2292,2296],{"type":35,"tag":116,"props":2293,"children":2294},{"style":1907},[2295],{"type":40,"value":1930},{"type":35,"tag":116,"props":2297,"children":2298},{"style":1789},[2299],{"type":40,"value":2300}," com.google.cloud.spring.pubsub.integration.inbound.PubSubInboundChannelAdapter\n",{"type":35,"tag":116,"props":2302,"children":2303},{"class":118,"line":187},[2304,2308],{"type":35,"tag":116,"props":2305,"children":2306},{"style":1907},[2307],{"type":40,"value":1930},{"type":35,"tag":116,"props":2309,"children":2310},{"style":1789},[2311],{"type":40,"value":2312}," org.springframework.beans.factory.annotation.Qualifier\n",{"type":35,"tag":116,"props":2314,"children":2315},{"class":118,"line":205},[2316,2320],{"type":35,"tag":116,"props":2317,"children":2318},{"style":1907},[2319],{"type":40,"value":1930},{"type":35,"tag":116,"props":2321,"children":2322},{"style":1789},[2323],{"type":40,"value":1983},{"type":35,"tag":116,"props":2325,"children":2326},{"class":118,"line":223},[2327,2331],{"type":35,"tag":116,"props":2328,"children":2329},{"style":1907},[2330],{"type":40,"value":1930},{"type":35,"tag":116,"props":2332,"children":2333},{"style":1789},[2334],{"type":40,"value":1995},{"type":35,"tag":116,"props":2336,"children":2337},{"class":118,"line":236},[2338,2342],{"type":35,"tag":116,"props":2339,"children":2340},{"style":1907},[2341],{"type":40,"value":1930},{"type":35,"tag":116,"props":2343,"children":2344},{"style":1789},[2345],{"type":40,"value":2346}," org.springframework.integration.channel.DirectChannel\n",{"type":35,"tag":116,"props":2348,"children":2349},{"class":118,"line":250},[2350,2354],{"type":35,"tag":116,"props":2351,"children":2352},{"style":1907},[2353],{"type":40,"value":1930},{"type":35,"tag":116,"props":2355,"children":2356},{"style":1789},[2357],{"type":40,"value":2358}," org.springframework.messaging.MessageChannel\n",{"type":35,"tag":116,"props":2360,"children":2361},{"class":118,"line":263},[2362],{"type":35,"tag":116,"props":2363,"children":2364},{"emptyLinePlaceholder":145},[2365],{"type":40,"value":148},{"type":35,"tag":116,"props":2367,"children":2368},{"class":118,"line":276},[2369],{"type":35,"tag":116,"props":2370,"children":2371},{"emptyLinePlaceholder":145},[2372],{"type":40,"value":148},{"type":35,"tag":116,"props":2374,"children":2375},{"class":118,"line":300},[2376],{"type":35,"tag":116,"props":2377,"children":2378},{"style":2008},[2379],{"type":40,"value":2011},{"type":35,"tag":116,"props":2381,"children":2382},{"class":118,"line":523},[2383,2387,2392],{"type":35,"tag":116,"props":2384,"children":2385},{"style":1907},[2386],{"type":40,"value":2019},{"type":35,"tag":116,"props":2388,"children":2389},{"style":2008},[2390],{"type":40,"value":2391}," PubSubConfig",{"type":35,"tag":116,"props":2393,"children":2394},{"style":129},[2395],{"type":40,"value":2029},{"type":35,"tag":116,"props":2397,"children":2398},{"class":118,"line":532},[2399],{"type":35,"tag":116,"props":2400,"children":2401},{"emptyLinePlaceholder":145},[2402],{"type":40,"value":148},{"type":35,"tag":116,"props":2404,"children":2405},{"class":118,"line":562},[2406],{"type":35,"tag":116,"props":2407,"children":2408},{"style":2008},[2409],{"type":40,"value":2037},{"type":35,"tag":116,"props":2411,"children":2412},{"class":118,"line":580},[2413,2417,2422],{"type":35,"tag":116,"props":2414,"children":2415},{"style":1907},[2416],{"type":40,"value":2045},{"type":35,"tag":116,"props":2418,"children":2419},{"style":367},[2420],{"type":40,"value":2421}," messageChannelAdapter",{"type":35,"tag":116,"props":2423,"children":2424},{"style":129},[2425],{"type":40,"value":2055},{"type":35,"tag":116,"props":2427,"children":2428},{"class":118,"line":594},[2429,2434,2438,2443,2448,2453],{"type":35,"tag":116,"props":2430,"children":2431},{"style":2008},[2432],{"type":40,"value":2433},"        @Qualifier",{"type":35,"tag":116,"props":2435,"children":2436},{"style":129},[2437],{"type":40,"value":1684},{"type":35,"tag":116,"props":2439,"children":2440},{"style":135},[2441],{"type":40,"value":2442},"\"pubsubInputChannel\"",{"type":35,"tag":116,"props":2444,"children":2445},{"style":129},[2446],{"type":40,"value":2447},") inputChannel: ",{"type":35,"tag":116,"props":2449,"children":2450},{"style":2008},[2451],{"type":40,"value":2452},"MessageChannel",{"type":35,"tag":116,"props":2454,"children":2455},{"style":129},[2456],{"type":40,"value":1393},{"type":35,"tag":116,"props":2458,"children":2459},{"class":118,"line":602},[2460,2465,2470],{"type":35,"tag":116,"props":2461,"children":2462},{"style":129},[2463],{"type":40,"value":2464},"        pubSubTemplate: ",{"type":35,"tag":116,"props":2466,"children":2467},{"style":2008},[2468],{"type":40,"value":2469},"PubSubTemplate",{"type":35,"tag":116,"props":2471,"children":2472},{"style":129},[2473],{"type":40,"value":1393},{"type":35,"tag":116,"props":2475,"children":2476},{"class":118,"line":631},[2477,2481,2486],{"type":35,"tag":116,"props":2478,"children":2479},{"style":129},[2480],{"type":40,"value":2105},{"type":35,"tag":116,"props":2482,"children":2483},{"style":2008},[2484],{"type":40,"value":2485},"PubSubInboundChannelAdapter",{"type":35,"tag":116,"props":2487,"children":2488},{"style":1907},[2489],{"type":40,"value":2490}," =\n",{"type":35,"tag":116,"props":2492,"children":2493},{"class":118,"line":647},[2494,2499,2504,2509,2514,2519],{"type":35,"tag":116,"props":2495,"children":2496},{"style":367},[2497],{"type":40,"value":2498},"        PubSubInboundChannelAdapter",{"type":35,"tag":116,"props":2500,"children":2501},{"style":129},[2502],{"type":40,"value":2503},"(pubSubTemplate, ",{"type":35,"tag":116,"props":2505,"children":2506},{"style":135},[2507],{"type":40,"value":2508},"\"json-topic-sub\"",{"type":35,"tag":116,"props":2510,"children":2511},{"style":129},[2512],{"type":40,"value":2513},").",{"type":35,"tag":116,"props":2515,"children":2516},{"style":367},[2517],{"type":40,"value":2518},"apply",{"type":35,"tag":116,"props":2520,"children":2521},{"style":129},[2522],{"type":40,"value":2029},{"type":35,"tag":116,"props":2524,"children":2525},{"class":118,"line":660},[2526,2531,2536],{"type":35,"tag":116,"props":2527,"children":2528},{"style":129},[2529],{"type":40,"value":2530},"            outputChannel ",{"type":35,"tag":116,"props":2532,"children":2533},{"style":1907},[2534],{"type":40,"value":2535},"=",{"type":35,"tag":116,"props":2537,"children":2538},{"style":129},[2539],{"type":40,"value":2540}," inputChannel\n",{"type":35,"tag":116,"props":2542,"children":2543},{"class":118,"line":668},[2544,2549],{"type":35,"tag":116,"props":2545,"children":2546},{"style":367},[2547],{"type":40,"value":2548},"            setAckMode",{"type":35,"tag":116,"props":2550,"children":2551},{"style":129},[2552],{"type":40,"value":2553},"(AckMode.MANUAL)\n",{"type":35,"tag":116,"props":2555,"children":2556},{"class":118,"line":677},[2557],{"type":35,"tag":116,"props":2558,"children":2559},{"style":129},[2560],{"type":40,"value":2561},"        }\n",{"type":35,"tag":116,"props":2563,"children":2565},{"class":118,"line":2564},25,[2566],{"type":35,"tag":116,"props":2567,"children":2568},{"emptyLinePlaceholder":145},[2569],{"type":40,"value":148},{"type":35,"tag":116,"props":2571,"children":2573},{"class":118,"line":2572},26,[2574],{"type":35,"tag":116,"props":2575,"children":2576},{"style":2008},[2577],{"type":40,"value":2037},{"type":35,"tag":116,"props":2579,"children":2581},{"class":118,"line":2580},27,[2582,2586,2591,2595,2599,2604,2609],{"type":35,"tag":116,"props":2583,"children":2584},{"style":1907},[2585],{"type":40,"value":2045},{"type":35,"tag":116,"props":2587,"children":2588},{"style":367},[2589],{"type":40,"value":2590}," pubsubInputChannel",{"type":35,"tag":116,"props":2592,"children":2593},{"style":129},[2594],{"type":40,"value":2170},{"type":35,"tag":116,"props":2596,"children":2597},{"style":2008},[2598],{"type":40,"value":2452},{"type":35,"tag":116,"props":2600,"children":2601},{"style":1907},[2602],{"type":40,"value":2603}," =",{"type":35,"tag":116,"props":2605,"children":2606},{"style":367},[2607],{"type":40,"value":2608}," DirectChannel",{"type":35,"tag":116,"props":2610,"children":2611},{"style":129},[2612],{"type":40,"value":2201},{"type":35,"tag":116,"props":2614,"children":2616},{"class":118,"line":2615},28,[2617],{"type":35,"tag":116,"props":2618,"children":2619},{"style":129},[2620],{"type":40,"value":1524},{"type":35,"tag":36,"props":2622,"children":2623},{},[2624,2626,2631,2633,2638,2640,2646],{"type":40,"value":2625},"When having the ",{"type":35,"tag":112,"props":2627,"children":2629},{"className":2628},[],[2630],{"type":40,"value":2485},{"type":40,"value":2632}," bean and ",{"type":35,"tag":112,"props":2634,"children":2636},{"className":2635},[],[2637],{"type":40,"value":2452},{"type":40,"value":2639}," bean, the ",{"type":35,"tag":112,"props":2641,"children":2643},{"className":2642},[],[2644],{"type":40,"value":2645},"@ServiceActivator",{"type":40,"value":2647}," bean will be called when a message arrives.",{"type":35,"tag":36,"props":2649,"children":2650},{},[2651,2653,2658],{"type":40,"value":2652},"There are many different ways to use a ",{"type":35,"tag":112,"props":2654,"children":2656},{"className":2655},[],[2657],{"type":40,"value":2645},{"type":40,"value":2659},", the following examples will illustrate some of them.",{"type":35,"tag":2661,"props":2662,"children":2664},"h4",{"id":2663},"using-a-messagehandler-bean",[2665],{"type":40,"value":2666},"Using a MessageHandler bean",{"type":35,"tag":36,"props":2668,"children":2669},{},[2670,2672,2678],{"type":40,"value":2671},"You can use a ",{"type":35,"tag":112,"props":2673,"children":2675},{"className":2674},[],[2676],{"type":40,"value":2677},"MessageHandler",{"type":40,"value":2679}," instance to subscribe to a Google Cloud Pub/Sub topic:",{"type":35,"tag":104,"props":2681,"children":2683},{"className":1665,"code":2682,"filename":2241,"language":17,"meta":9,"style":9},"package dev.simonscholz.pubsub\n\nimport com.google.cloud.spring.pubsub.core.PubSubTemplate\nimport com.google.cloud.spring.pubsub.integration.AckMode\nimport com.google.cloud.spring.pubsub.integration.inbound.PubSubInboundChannelAdapter\nimport com.google.cloud.spring.pubsub.support.BasicAcknowledgeablePubsubMessage\nimport com.google.cloud.spring.pubsub.support.GcpPubSubHeaders\nimport org.slf4j.Logger\nimport org.slf4j.LoggerFactory\nimport org.springframework.beans.factory.annotation.Qualifier\nimport org.springframework.context.annotation.Bean\nimport org.springframework.context.annotation.Configuration\nimport org.springframework.integration.annotation.ServiceActivator\nimport org.springframework.integration.channel.DirectChannel\nimport org.springframework.messaging.MessageChannel\nimport org.springframework.messaging.MessageHandler\n\n\n@Configuration\nclass PubSubConfig {\n\n    @Bean\n    fun messageChannelAdapter(\n        @Qualifier(\"pubsubInputChannel\") inputChannel: MessageChannel,\n        pubSubTemplate: PubSubTemplate,\n    ): PubSubInboundChannelAdapter =\n        PubSubInboundChannelAdapter(pubSubTemplate, \"json-topic-sub\").apply {\n            outputChannel = inputChannel\n            setAckMode(AckMode.MANUAL)\n        }\n\n    @Bean\n    fun pubsubInputChannel(): MessageChannel = DirectChannel()\n\n    @Bean\n    @ServiceActivator(inputChannel = \"pubsubInputChannel\")\n    fun messageReceiver(): MessageHandler =\n        MessageHandler { message ->\n            LOGGER.info(\"Message arrived! Payload: ${String((message.payload as ByteArray))}\")\n            LOGGER.info(\"Headers: ${message.headers}\")\n            val originalMessage: BasicAcknowledgeablePubsubMessage? = message.headers.get(GcpPubSubHeaders.ORIGINAL_MESSAGE, BasicAcknowledgeablePubsubMessage::class.java)\n            LOGGER.info(\"Data: ${originalMessage?.pubsubMessage?.data?.toStringUtf8()}\")\n            LOGGER.info(\"Attributes: ${originalMessage?.pubsubMessage?.attributesMap}\")\n            originalMessage?.ack()\n        }\n\n    companion object {\n        private val LOGGER: Logger = LoggerFactory.getLogger(PubSubConfig::class.java)\n    }\n}\n",[2684],{"type":35,"tag":112,"props":2685,"children":2686},{"__ignoreMap":9},[2687,2698,2705,2716,2727,2738,2750,2762,2774,2786,2797,2808,2819,2831,2842,2853,2865,2872,2879,2886,2901,2908,2915,2930,2957,2972,2987,3014,3029,3041,3049,3057,3065,3097,3105,3113,3140,3165,3185,3247,3289,3341,3402,3444,3462,3470,3478,3496,3547,3555],{"type":35,"tag":116,"props":2688,"children":2689},{"class":118,"line":119},[2690,2694],{"type":35,"tag":116,"props":2691,"children":2692},{"style":1907},[2693],{"type":40,"value":1910},{"type":35,"tag":116,"props":2695,"children":2696},{"style":1789},[2697],{"type":40,"value":2257},{"type":35,"tag":116,"props":2699,"children":2700},{"class":118,"line":141},[2701],{"type":35,"tag":116,"props":2702,"children":2703},{"emptyLinePlaceholder":145},[2704],{"type":40,"value":148},{"type":35,"tag":116,"props":2706,"children":2707},{"class":118,"line":151},[2708,2712],{"type":35,"tag":116,"props":2709,"children":2710},{"style":1907},[2711],{"type":40,"value":1930},{"type":35,"tag":116,"props":2713,"children":2714},{"style":1789},[2715],{"type":40,"value":2276},{"type":35,"tag":116,"props":2717,"children":2718},{"class":118,"line":165},[2719,2723],{"type":35,"tag":116,"props":2720,"children":2721},{"style":1907},[2722],{"type":40,"value":1930},{"type":35,"tag":116,"props":2724,"children":2725},{"style":1789},[2726],{"type":40,"value":2288},{"type":35,"tag":116,"props":2728,"children":2729},{"class":118,"line":174},[2730,2734],{"type":35,"tag":116,"props":2731,"children":2732},{"style":1907},[2733],{"type":40,"value":1930},{"type":35,"tag":116,"props":2735,"children":2736},{"style":1789},[2737],{"type":40,"value":2300},{"type":35,"tag":116,"props":2739,"children":2740},{"class":118,"line":187},[2741,2745],{"type":35,"tag":116,"props":2742,"children":2743},{"style":1907},[2744],{"type":40,"value":1930},{"type":35,"tag":116,"props":2746,"children":2747},{"style":1789},[2748],{"type":40,"value":2749}," com.google.cloud.spring.pubsub.support.BasicAcknowledgeablePubsubMessage\n",{"type":35,"tag":116,"props":2751,"children":2752},{"class":118,"line":205},[2753,2757],{"type":35,"tag":116,"props":2754,"children":2755},{"style":1907},[2756],{"type":40,"value":1930},{"type":35,"tag":116,"props":2758,"children":2759},{"style":1789},[2760],{"type":40,"value":2761}," com.google.cloud.spring.pubsub.support.GcpPubSubHeaders\n",{"type":35,"tag":116,"props":2763,"children":2764},{"class":118,"line":223},[2765,2769],{"type":35,"tag":116,"props":2766,"children":2767},{"style":1907},[2768],{"type":40,"value":1930},{"type":35,"tag":116,"props":2770,"children":2771},{"style":1789},[2772],{"type":40,"value":2773}," org.slf4j.Logger\n",{"type":35,"tag":116,"props":2775,"children":2776},{"class":118,"line":236},[2777,2781],{"type":35,"tag":116,"props":2778,"children":2779},{"style":1907},[2780],{"type":40,"value":1930},{"type":35,"tag":116,"props":2782,"children":2783},{"style":1789},[2784],{"type":40,"value":2785}," org.slf4j.LoggerFactory\n",{"type":35,"tag":116,"props":2787,"children":2788},{"class":118,"line":250},[2789,2793],{"type":35,"tag":116,"props":2790,"children":2791},{"style":1907},[2792],{"type":40,"value":1930},{"type":35,"tag":116,"props":2794,"children":2795},{"style":1789},[2796],{"type":40,"value":2312},{"type":35,"tag":116,"props":2798,"children":2799},{"class":118,"line":263},[2800,2804],{"type":35,"tag":116,"props":2801,"children":2802},{"style":1907},[2803],{"type":40,"value":1930},{"type":35,"tag":116,"props":2805,"children":2806},{"style":1789},[2807],{"type":40,"value":1983},{"type":35,"tag":116,"props":2809,"children":2810},{"class":118,"line":276},[2811,2815],{"type":35,"tag":116,"props":2812,"children":2813},{"style":1907},[2814],{"type":40,"value":1930},{"type":35,"tag":116,"props":2816,"children":2817},{"style":1789},[2818],{"type":40,"value":1995},{"type":35,"tag":116,"props":2820,"children":2821},{"class":118,"line":300},[2822,2826],{"type":35,"tag":116,"props":2823,"children":2824},{"style":1907},[2825],{"type":40,"value":1930},{"type":35,"tag":116,"props":2827,"children":2828},{"style":1789},[2829],{"type":40,"value":2830}," org.springframework.integration.annotation.ServiceActivator\n",{"type":35,"tag":116,"props":2832,"children":2833},{"class":118,"line":523},[2834,2838],{"type":35,"tag":116,"props":2835,"children":2836},{"style":1907},[2837],{"type":40,"value":1930},{"type":35,"tag":116,"props":2839,"children":2840},{"style":1789},[2841],{"type":40,"value":2346},{"type":35,"tag":116,"props":2843,"children":2844},{"class":118,"line":532},[2845,2849],{"type":35,"tag":116,"props":2846,"children":2847},{"style":1907},[2848],{"type":40,"value":1930},{"type":35,"tag":116,"props":2850,"children":2851},{"style":1789},[2852],{"type":40,"value":2358},{"type":35,"tag":116,"props":2854,"children":2855},{"class":118,"line":562},[2856,2860],{"type":35,"tag":116,"props":2857,"children":2858},{"style":1907},[2859],{"type":40,"value":1930},{"type":35,"tag":116,"props":2861,"children":2862},{"style":1789},[2863],{"type":40,"value":2864}," org.springframework.messaging.MessageHandler\n",{"type":35,"tag":116,"props":2866,"children":2867},{"class":118,"line":580},[2868],{"type":35,"tag":116,"props":2869,"children":2870},{"emptyLinePlaceholder":145},[2871],{"type":40,"value":148},{"type":35,"tag":116,"props":2873,"children":2874},{"class":118,"line":594},[2875],{"type":35,"tag":116,"props":2876,"children":2877},{"emptyLinePlaceholder":145},[2878],{"type":40,"value":148},{"type":35,"tag":116,"props":2880,"children":2881},{"class":118,"line":602},[2882],{"type":35,"tag":116,"props":2883,"children":2884},{"style":2008},[2885],{"type":40,"value":2011},{"type":35,"tag":116,"props":2887,"children":2888},{"class":118,"line":631},[2889,2893,2897],{"type":35,"tag":116,"props":2890,"children":2891},{"style":1907},[2892],{"type":40,"value":2019},{"type":35,"tag":116,"props":2894,"children":2895},{"style":2008},[2896],{"type":40,"value":2391},{"type":35,"tag":116,"props":2898,"children":2899},{"style":129},[2900],{"type":40,"value":2029},{"type":35,"tag":116,"props":2902,"children":2903},{"class":118,"line":647},[2904],{"type":35,"tag":116,"props":2905,"children":2906},{"emptyLinePlaceholder":145},[2907],{"type":40,"value":148},{"type":35,"tag":116,"props":2909,"children":2910},{"class":118,"line":660},[2911],{"type":35,"tag":116,"props":2912,"children":2913},{"style":2008},[2914],{"type":40,"value":2037},{"type":35,"tag":116,"props":2916,"children":2917},{"class":118,"line":668},[2918,2922,2926],{"type":35,"tag":116,"props":2919,"children":2920},{"style":1907},[2921],{"type":40,"value":2045},{"type":35,"tag":116,"props":2923,"children":2924},{"style":367},[2925],{"type":40,"value":2421},{"type":35,"tag":116,"props":2927,"children":2928},{"style":129},[2929],{"type":40,"value":2055},{"type":35,"tag":116,"props":2931,"children":2932},{"class":118,"line":677},[2933,2937,2941,2945,2949,2953],{"type":35,"tag":116,"props":2934,"children":2935},{"style":2008},[2936],{"type":40,"value":2433},{"type":35,"tag":116,"props":2938,"children":2939},{"style":129},[2940],{"type":40,"value":1684},{"type":35,"tag":116,"props":2942,"children":2943},{"style":135},[2944],{"type":40,"value":2442},{"type":35,"tag":116,"props":2946,"children":2947},{"style":129},[2948],{"type":40,"value":2447},{"type":35,"tag":116,"props":2950,"children":2951},{"style":2008},[2952],{"type":40,"value":2452},{"type":35,"tag":116,"props":2954,"children":2955},{"style":129},[2956],{"type":40,"value":1393},{"type":35,"tag":116,"props":2958,"children":2959},{"class":118,"line":2564},[2960,2964,2968],{"type":35,"tag":116,"props":2961,"children":2962},{"style":129},[2963],{"type":40,"value":2464},{"type":35,"tag":116,"props":2965,"children":2966},{"style":2008},[2967],{"type":40,"value":2469},{"type":35,"tag":116,"props":2969,"children":2970},{"style":129},[2971],{"type":40,"value":1393},{"type":35,"tag":116,"props":2973,"children":2974},{"class":118,"line":2572},[2975,2979,2983],{"type":35,"tag":116,"props":2976,"children":2977},{"style":129},[2978],{"type":40,"value":2105},{"type":35,"tag":116,"props":2980,"children":2981},{"style":2008},[2982],{"type":40,"value":2485},{"type":35,"tag":116,"props":2984,"children":2985},{"style":1907},[2986],{"type":40,"value":2490},{"type":35,"tag":116,"props":2988,"children":2989},{"class":118,"line":2580},[2990,2994,2998,3002,3006,3010],{"type":35,"tag":116,"props":2991,"children":2992},{"style":367},[2993],{"type":40,"value":2498},{"type":35,"tag":116,"props":2995,"children":2996},{"style":129},[2997],{"type":40,"value":2503},{"type":35,"tag":116,"props":2999,"children":3000},{"style":135},[3001],{"type":40,"value":2508},{"type":35,"tag":116,"props":3003,"children":3004},{"style":129},[3005],{"type":40,"value":2513},{"type":35,"tag":116,"props":3007,"children":3008},{"style":367},[3009],{"type":40,"value":2518},{"type":35,"tag":116,"props":3011,"children":3012},{"style":129},[3013],{"type":40,"value":2029},{"type":35,"tag":116,"props":3015,"children":3016},{"class":118,"line":2615},[3017,3021,3025],{"type":35,"tag":116,"props":3018,"children":3019},{"style":129},[3020],{"type":40,"value":2530},{"type":35,"tag":116,"props":3022,"children":3023},{"style":1907},[3024],{"type":40,"value":2535},{"type":35,"tag":116,"props":3026,"children":3027},{"style":129},[3028],{"type":40,"value":2540},{"type":35,"tag":116,"props":3030,"children":3032},{"class":118,"line":3031},29,[3033,3037],{"type":35,"tag":116,"props":3034,"children":3035},{"style":367},[3036],{"type":40,"value":2548},{"type":35,"tag":116,"props":3038,"children":3039},{"style":129},[3040],{"type":40,"value":2553},{"type":35,"tag":116,"props":3042,"children":3044},{"class":118,"line":3043},30,[3045],{"type":35,"tag":116,"props":3046,"children":3047},{"style":129},[3048],{"type":40,"value":2561},{"type":35,"tag":116,"props":3050,"children":3052},{"class":118,"line":3051},31,[3053],{"type":35,"tag":116,"props":3054,"children":3055},{"emptyLinePlaceholder":145},[3056],{"type":40,"value":148},{"type":35,"tag":116,"props":3058,"children":3060},{"class":118,"line":3059},32,[3061],{"type":35,"tag":116,"props":3062,"children":3063},{"style":2008},[3064],{"type":40,"value":2037},{"type":35,"tag":116,"props":3066,"children":3068},{"class":118,"line":3067},33,[3069,3073,3077,3081,3085,3089,3093],{"type":35,"tag":116,"props":3070,"children":3071},{"style":1907},[3072],{"type":40,"value":2045},{"type":35,"tag":116,"props":3074,"children":3075},{"style":367},[3076],{"type":40,"value":2590},{"type":35,"tag":116,"props":3078,"children":3079},{"style":129},[3080],{"type":40,"value":2170},{"type":35,"tag":116,"props":3082,"children":3083},{"style":2008},[3084],{"type":40,"value":2452},{"type":35,"tag":116,"props":3086,"children":3087},{"style":1907},[3088],{"type":40,"value":2603},{"type":35,"tag":116,"props":3090,"children":3091},{"style":367},[3092],{"type":40,"value":2608},{"type":35,"tag":116,"props":3094,"children":3095},{"style":129},[3096],{"type":40,"value":2201},{"type":35,"tag":116,"props":3098,"children":3100},{"class":118,"line":3099},34,[3101],{"type":35,"tag":116,"props":3102,"children":3103},{"emptyLinePlaceholder":145},[3104],{"type":40,"value":148},{"type":35,"tag":116,"props":3106,"children":3108},{"class":118,"line":3107},35,[3109],{"type":35,"tag":116,"props":3110,"children":3111},{"style":2008},[3112],{"type":40,"value":2037},{"type":35,"tag":116,"props":3114,"children":3116},{"class":118,"line":3115},36,[3117,3122,3127,3131,3136],{"type":35,"tag":116,"props":3118,"children":3119},{"style":2008},[3120],{"type":40,"value":3121},"    @ServiceActivator",{"type":35,"tag":116,"props":3123,"children":3124},{"style":129},[3125],{"type":40,"value":3126},"(inputChannel ",{"type":35,"tag":116,"props":3128,"children":3129},{"style":1907},[3130],{"type":40,"value":2535},{"type":35,"tag":116,"props":3132,"children":3133},{"style":135},[3134],{"type":40,"value":3135}," \"pubsubInputChannel\"",{"type":35,"tag":116,"props":3137,"children":3138},{"style":129},[3139],{"type":40,"value":1694},{"type":35,"tag":116,"props":3141,"children":3143},{"class":118,"line":3142},37,[3144,3148,3153,3157,3161],{"type":35,"tag":116,"props":3145,"children":3146},{"style":1907},[3147],{"type":40,"value":2045},{"type":35,"tag":116,"props":3149,"children":3150},{"style":367},[3151],{"type":40,"value":3152}," messageReceiver",{"type":35,"tag":116,"props":3154,"children":3155},{"style":129},[3156],{"type":40,"value":2170},{"type":35,"tag":116,"props":3158,"children":3159},{"style":2008},[3160],{"type":40,"value":2677},{"type":35,"tag":116,"props":3162,"children":3163},{"style":1907},[3164],{"type":40,"value":2490},{"type":35,"tag":116,"props":3166,"children":3168},{"class":118,"line":3167},38,[3169,3174,3179],{"type":35,"tag":116,"props":3170,"children":3171},{"style":367},[3172],{"type":40,"value":3173},"        MessageHandler",{"type":35,"tag":116,"props":3175,"children":3176},{"style":129},[3177],{"type":40,"value":3178}," { message ",{"type":35,"tag":116,"props":3180,"children":3182},{"style":3181},"--shiki-default:#D73A49;--shiki-default-font-style:inherit;--shiki-dark:#F97583;--shiki-dark-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic",[3183],{"type":40,"value":3184},"->\n",{"type":35,"tag":116,"props":3186,"children":3188},{"class":118,"line":3187},39,[3189,3194,3199,3203,3208,3214,3218,3224,3229,3234,3239,3243],{"type":35,"tag":116,"props":3190,"children":3191},{"style":129},[3192],{"type":40,"value":3193},"            LOGGER.",{"type":35,"tag":116,"props":3195,"children":3196},{"style":367},[3197],{"type":40,"value":3198},"info",{"type":35,"tag":116,"props":3200,"children":3201},{"style":129},[3202],{"type":40,"value":1684},{"type":35,"tag":116,"props":3204,"children":3205},{"style":135},[3206],{"type":40,"value":3207},"\"Message arrived! Payload: ",{"type":35,"tag":116,"props":3209,"children":3211},{"style":3210},"--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F92672",[3212],{"type":40,"value":3213},"${",{"type":35,"tag":116,"props":3215,"children":3216},{"style":367},[3217],{"type":40,"value":2092},{"type":35,"tag":116,"props":3219,"children":3221},{"style":3220},"--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#F8F8F2",[3222],{"type":40,"value":3223},"((message.payload ",{"type":35,"tag":116,"props":3225,"children":3226},{"style":1907},[3227],{"type":40,"value":3228},"as",{"type":35,"tag":116,"props":3230,"children":3231},{"style":3220},[3232],{"type":40,"value":3233}," ByteArray))",{"type":35,"tag":116,"props":3235,"children":3236},{"style":3210},[3237],{"type":40,"value":3238},"}",{"type":35,"tag":116,"props":3240,"children":3241},{"style":135},[3242],{"type":40,"value":2072},{"type":35,"tag":116,"props":3244,"children":3245},{"style":129},[3246],{"type":40,"value":1694},{"type":35,"tag":116,"props":3248,"children":3250},{"class":118,"line":3249},40,[3251,3255,3259,3263,3268,3272,3277,3281,3285],{"type":35,"tag":116,"props":3252,"children":3253},{"style":129},[3254],{"type":40,"value":3193},{"type":35,"tag":116,"props":3256,"children":3257},{"style":367},[3258],{"type":40,"value":3198},{"type":35,"tag":116,"props":3260,"children":3261},{"style":129},[3262],{"type":40,"value":1684},{"type":35,"tag":116,"props":3264,"children":3265},{"style":135},[3266],{"type":40,"value":3267},"\"Headers: ",{"type":35,"tag":116,"props":3269,"children":3270},{"style":3210},[3271],{"type":40,"value":3213},{"type":35,"tag":116,"props":3273,"children":3274},{"style":3220},[3275],{"type":40,"value":3276},"message.headers",{"type":35,"tag":116,"props":3278,"children":3279},{"style":3210},[3280],{"type":40,"value":3238},{"type":35,"tag":116,"props":3282,"children":3283},{"style":135},[3284],{"type":40,"value":2072},{"type":35,"tag":116,"props":3286,"children":3287},{"style":129},[3288],{"type":40,"value":1694},{"type":35,"tag":116,"props":3290,"children":3292},{"class":118,"line":3291},41,[3293,3298,3303,3308,3313,3317,3322,3327,3332,3336],{"type":35,"tag":116,"props":3294,"children":3295},{"style":1907},[3296],{"type":40,"value":3297},"            val",{"type":35,"tag":116,"props":3299,"children":3300},{"style":129},[3301],{"type":40,"value":3302}," originalMessage: ",{"type":35,"tag":116,"props":3304,"children":3305},{"style":2008},[3306],{"type":40,"value":3307},"BasicAcknowledgeablePubsubMessage",{"type":35,"tag":116,"props":3309,"children":3310},{"style":129},[3311],{"type":40,"value":3312},"? ",{"type":35,"tag":116,"props":3314,"children":3315},{"style":1907},[3316],{"type":40,"value":2535},{"type":35,"tag":116,"props":3318,"children":3319},{"style":129},[3320],{"type":40,"value":3321}," message.headers.",{"type":35,"tag":116,"props":3323,"children":3324},{"style":367},[3325],{"type":40,"value":3326},"get",{"type":35,"tag":116,"props":3328,"children":3329},{"style":129},[3330],{"type":40,"value":3331},"(GcpPubSubHeaders.ORIGINAL_MESSAGE, BasicAcknowledgeablePubsubMessage::",{"type":35,"tag":116,"props":3333,"children":3334},{"style":367},[3335],{"type":40,"value":2019},{"type":35,"tag":116,"props":3337,"children":3338},{"style":129},[3339],{"type":40,"value":3340},".java)\n",{"type":35,"tag":116,"props":3342,"children":3344},{"class":118,"line":3343},42,[3345,3349,3353,3357,3362,3366,3371,3375,3380,3385,3390,3394,3398],{"type":35,"tag":116,"props":3346,"children":3347},{"style":129},[3348],{"type":40,"value":3193},{"type":35,"tag":116,"props":3350,"children":3351},{"style":367},[3352],{"type":40,"value":3198},{"type":35,"tag":116,"props":3354,"children":3355},{"style":129},[3356],{"type":40,"value":1684},{"type":35,"tag":116,"props":3358,"children":3359},{"style":135},[3360],{"type":40,"value":3361},"\"Data: ",{"type":35,"tag":116,"props":3363,"children":3364},{"style":3210},[3365],{"type":40,"value":3213},{"type":35,"tag":116,"props":3367,"children":3368},{"style":3220},[3369],{"type":40,"value":3370},"originalMessage?.pubsubMessage?.",{"type":35,"tag":116,"props":3372,"children":3373},{"style":1907},[3374],{"type":40,"value":1131},{"type":35,"tag":116,"props":3376,"children":3377},{"style":3220},[3378],{"type":40,"value":3379},"?.",{"type":35,"tag":116,"props":3381,"children":3382},{"style":367},[3383],{"type":40,"value":3384},"toStringUtf8",{"type":35,"tag":116,"props":3386,"children":3387},{"style":3220},[3388],{"type":40,"value":3389},"()",{"type":35,"tag":116,"props":3391,"children":3392},{"style":3210},[3393],{"type":40,"value":3238},{"type":35,"tag":116,"props":3395,"children":3396},{"style":135},[3397],{"type":40,"value":2072},{"type":35,"tag":116,"props":3399,"children":3400},{"style":129},[3401],{"type":40,"value":1694},{"type":35,"tag":116,"props":3403,"children":3405},{"class":118,"line":3404},43,[3406,3410,3414,3418,3423,3427,3432,3436,3440],{"type":35,"tag":116,"props":3407,"children":3408},{"style":129},[3409],{"type":40,"value":3193},{"type":35,"tag":116,"props":3411,"children":3412},{"style":367},[3413],{"type":40,"value":3198},{"type":35,"tag":116,"props":3415,"children":3416},{"style":129},[3417],{"type":40,"value":1684},{"type":35,"tag":116,"props":3419,"children":3420},{"style":135},[3421],{"type":40,"value":3422},"\"Attributes: ",{"type":35,"tag":116,"props":3424,"children":3425},{"style":3210},[3426],{"type":40,"value":3213},{"type":35,"tag":116,"props":3428,"children":3429},{"style":3220},[3430],{"type":40,"value":3431},"originalMessage?.pubsubMessage?.attributesMap",{"type":35,"tag":116,"props":3433,"children":3434},{"style":3210},[3435],{"type":40,"value":3238},{"type":35,"tag":116,"props":3437,"children":3438},{"style":135},[3439],{"type":40,"value":2072},{"type":35,"tag":116,"props":3441,"children":3442},{"style":129},[3443],{"type":40,"value":1694},{"type":35,"tag":116,"props":3445,"children":3447},{"class":118,"line":3446},44,[3448,3453,3458],{"type":35,"tag":116,"props":3449,"children":3450},{"style":129},[3451],{"type":40,"value":3452},"            originalMessage?.",{"type":35,"tag":116,"props":3454,"children":3455},{"style":367},[3456],{"type":40,"value":3457},"ack",{"type":35,"tag":116,"props":3459,"children":3460},{"style":129},[3461],{"type":40,"value":2201},{"type":35,"tag":116,"props":3463,"children":3465},{"class":118,"line":3464},45,[3466],{"type":35,"tag":116,"props":3467,"children":3468},{"style":129},[3469],{"type":40,"value":2561},{"type":35,"tag":116,"props":3471,"children":3473},{"class":118,"line":3472},46,[3474],{"type":35,"tag":116,"props":3475,"children":3476},{"emptyLinePlaceholder":145},[3477],{"type":40,"value":148},{"type":35,"tag":116,"props":3479,"children":3481},{"class":118,"line":3480},47,[3482,3487,3492],{"type":35,"tag":116,"props":3483,"children":3484},{"style":1907},[3485],{"type":40,"value":3486},"    companion",{"type":35,"tag":116,"props":3488,"children":3489},{"style":1907},[3490],{"type":40,"value":3491}," object",{"type":35,"tag":116,"props":3493,"children":3494},{"style":129},[3495],{"type":40,"value":2029},{"type":35,"tag":116,"props":3497,"children":3499},{"class":118,"line":3498},48,[3500,3505,3510,3515,3520,3524,3529,3534,3539,3543],{"type":35,"tag":116,"props":3501,"children":3502},{"style":1907},[3503],{"type":40,"value":3504},"        private",{"type":35,"tag":116,"props":3506,"children":3507},{"style":1907},[3508],{"type":40,"value":3509}," val",{"type":35,"tag":116,"props":3511,"children":3512},{"style":129},[3513],{"type":40,"value":3514}," LOGGER: ",{"type":35,"tag":116,"props":3516,"children":3517},{"style":2008},[3518],{"type":40,"value":3519},"Logger",{"type":35,"tag":116,"props":3521,"children":3522},{"style":1907},[3523],{"type":40,"value":2603},{"type":35,"tag":116,"props":3525,"children":3526},{"style":129},[3527],{"type":40,"value":3528}," LoggerFactory.",{"type":35,"tag":116,"props":3530,"children":3531},{"style":367},[3532],{"type":40,"value":3533},"getLogger",{"type":35,"tag":116,"props":3535,"children":3536},{"style":129},[3537],{"type":40,"value":3538},"(PubSubConfig::",{"type":35,"tag":116,"props":3540,"children":3541},{"style":367},[3542],{"type":40,"value":2019},{"type":35,"tag":116,"props":3544,"children":3545},{"style":129},[3546],{"type":40,"value":3340},{"type":35,"tag":116,"props":3548,"children":3550},{"class":118,"line":3549},49,[3551],{"type":35,"tag":116,"props":3552,"children":3553},{"style":129},[3554],{"type":40,"value":946},{"type":35,"tag":116,"props":3556,"children":3558},{"class":118,"line":3557},50,[3559],{"type":35,"tag":116,"props":3560,"children":3561},{"style":129},[3562],{"type":40,"value":1524},{"type":35,"tag":2661,"props":3564,"children":3566},{"id":3565},"using-a-serviceactivator-with-payload-and-header-annotations",[3567,3569,3574,3576,3582,3584,3590],{"type":40,"value":3568},"Using a ",{"type":35,"tag":112,"props":3570,"children":3572},{"className":3571},[],[3573],{"type":40,"value":2645},{"type":40,"value":3575}," with ",{"type":35,"tag":112,"props":3577,"children":3579},{"className":3578},[],[3580],{"type":40,"value":3581},"@Payload",{"type":40,"value":3583}," and ",{"type":35,"tag":112,"props":3585,"children":3587},{"className":3586},[],[3588],{"type":40,"value":3589},"@Header",{"type":40,"value":3591}," annotations",{"type":35,"tag":36,"props":3593,"children":3594},{},[3595,3596,3601,3602,3607,3608,3613],{"type":40,"value":2671},{"type":35,"tag":112,"props":3597,"children":3599},{"className":3598},[],[3600],{"type":40,"value":2645},{"type":40,"value":3575},{"type":35,"tag":112,"props":3603,"children":3605},{"className":3604},[],[3606],{"type":40,"value":3581},{"type":40,"value":3583},{"type":35,"tag":112,"props":3609,"children":3611},{"className":3610},[],[3612],{"type":40,"value":3589},{"type":40,"value":3614}," annotations to subscribe to a Google Cloud Pub/Sub topic:",{"type":35,"tag":104,"props":3616,"children":3619},{"className":1665,"code":3617,"filename":3618,"language":17,"meta":9,"style":9},"package dev.simonscholz.pubsub\n\nimport com.google.cloud.spring.pubsub.support.BasicAcknowledgeablePubsubMessage\nimport com.google.cloud.spring.pubsub.support.GcpPubSubHeaders\nimport org.slf4j.LoggerFactory\nimport org.springframework.integration.annotation.ServiceActivator\nimport org.springframework.messaging.handler.annotation.Header\nimport org.springframework.messaging.handler.annotation.Payload\nimport org.springframework.stereotype.Component\n\n@Component\nclass Receiver {\n\n    @ServiceActivator(inputChannel = \"pubsubInputChannel\")\n    fun messageReceiver(\n        @Header(GcpPubSubHeaders.ORIGINAL_MESSAGE) message: BasicAcknowledgeablePubsubMessage,\n        @Header(\"DOMAIN_OBJECT_ID\") domainObjectId: String,\n        @Payload payload: String,\n    ) {\n        LOGGER.info(\"Message arrived! ORIGINAL_MESSAGE: $message\")\n        LOGGER.info(\"DOMAIN_OBJECT_ID: $domainObjectId\")\n        LOGGER.info(\"Payload: $payload\")\n        message.ack()\n    }\n\n    companion object {\n        private val LOGGER = LoggerFactory.getLogger(Receiver::class.java)\n    }\n}\n","Receiver.kt",[3620],{"type":35,"tag":112,"props":3621,"children":3622},{"__ignoreMap":9},[3623,3634,3641,3652,3663,3674,3685,3697,3709,3721,3728,3736,3752,3759,3782,3797,3818,3847,3868,3876,3911,3944,3977,3993,4000,4007,4022,4063,4070],{"type":35,"tag":116,"props":3624,"children":3625},{"class":118,"line":119},[3626,3630],{"type":35,"tag":116,"props":3627,"children":3628},{"style":1907},[3629],{"type":40,"value":1910},{"type":35,"tag":116,"props":3631,"children":3632},{"style":1789},[3633],{"type":40,"value":2257},{"type":35,"tag":116,"props":3635,"children":3636},{"class":118,"line":141},[3637],{"type":35,"tag":116,"props":3638,"children":3639},{"emptyLinePlaceholder":145},[3640],{"type":40,"value":148},{"type":35,"tag":116,"props":3642,"children":3643},{"class":118,"line":151},[3644,3648],{"type":35,"tag":116,"props":3645,"children":3646},{"style":1907},[3647],{"type":40,"value":1930},{"type":35,"tag":116,"props":3649,"children":3650},{"style":1789},[3651],{"type":40,"value":2749},{"type":35,"tag":116,"props":3653,"children":3654},{"class":118,"line":165},[3655,3659],{"type":35,"tag":116,"props":3656,"children":3657},{"style":1907},[3658],{"type":40,"value":1930},{"type":35,"tag":116,"props":3660,"children":3661},{"style":1789},[3662],{"type":40,"value":2761},{"type":35,"tag":116,"props":3664,"children":3665},{"class":118,"line":174},[3666,3670],{"type":35,"tag":116,"props":3667,"children":3668},{"style":1907},[3669],{"type":40,"value":1930},{"type":35,"tag":116,"props":3671,"children":3672},{"style":1789},[3673],{"type":40,"value":2785},{"type":35,"tag":116,"props":3675,"children":3676},{"class":118,"line":187},[3677,3681],{"type":35,"tag":116,"props":3678,"children":3679},{"style":1907},[3680],{"type":40,"value":1930},{"type":35,"tag":116,"props":3682,"children":3683},{"style":1789},[3684],{"type":40,"value":2830},{"type":35,"tag":116,"props":3686,"children":3687},{"class":118,"line":205},[3688,3692],{"type":35,"tag":116,"props":3689,"children":3690},{"style":1907},[3691],{"type":40,"value":1930},{"type":35,"tag":116,"props":3693,"children":3694},{"style":1789},[3695],{"type":40,"value":3696}," org.springframework.messaging.handler.annotation.Header\n",{"type":35,"tag":116,"props":3698,"children":3699},{"class":118,"line":223},[3700,3704],{"type":35,"tag":116,"props":3701,"children":3702},{"style":1907},[3703],{"type":40,"value":1930},{"type":35,"tag":116,"props":3705,"children":3706},{"style":1789},[3707],{"type":40,"value":3708}," org.springframework.messaging.handler.annotation.Payload\n",{"type":35,"tag":116,"props":3710,"children":3711},{"class":118,"line":236},[3712,3716],{"type":35,"tag":116,"props":3713,"children":3714},{"style":1907},[3715],{"type":40,"value":1930},{"type":35,"tag":116,"props":3717,"children":3718},{"style":1789},[3719],{"type":40,"value":3720}," org.springframework.stereotype.Component\n",{"type":35,"tag":116,"props":3722,"children":3723},{"class":118,"line":250},[3724],{"type":35,"tag":116,"props":3725,"children":3726},{"emptyLinePlaceholder":145},[3727],{"type":40,"value":148},{"type":35,"tag":116,"props":3729,"children":3730},{"class":118,"line":263},[3731],{"type":35,"tag":116,"props":3732,"children":3733},{"style":2008},[3734],{"type":40,"value":3735},"@Component\n",{"type":35,"tag":116,"props":3737,"children":3738},{"class":118,"line":276},[3739,3743,3748],{"type":35,"tag":116,"props":3740,"children":3741},{"style":1907},[3742],{"type":40,"value":2019},{"type":35,"tag":116,"props":3744,"children":3745},{"style":2008},[3746],{"type":40,"value":3747}," Receiver",{"type":35,"tag":116,"props":3749,"children":3750},{"style":129},[3751],{"type":40,"value":2029},{"type":35,"tag":116,"props":3753,"children":3754},{"class":118,"line":300},[3755],{"type":35,"tag":116,"props":3756,"children":3757},{"emptyLinePlaceholder":145},[3758],{"type":40,"value":148},{"type":35,"tag":116,"props":3760,"children":3761},{"class":118,"line":523},[3762,3766,3770,3774,3778],{"type":35,"tag":116,"props":3763,"children":3764},{"style":2008},[3765],{"type":40,"value":3121},{"type":35,"tag":116,"props":3767,"children":3768},{"style":129},[3769],{"type":40,"value":3126},{"type":35,"tag":116,"props":3771,"children":3772},{"style":1907},[3773],{"type":40,"value":2535},{"type":35,"tag":116,"props":3775,"children":3776},{"style":135},[3777],{"type":40,"value":3135},{"type":35,"tag":116,"props":3779,"children":3780},{"style":129},[3781],{"type":40,"value":1694},{"type":35,"tag":116,"props":3783,"children":3784},{"class":118,"line":532},[3785,3789,3793],{"type":35,"tag":116,"props":3786,"children":3787},{"style":1907},[3788],{"type":40,"value":2045},{"type":35,"tag":116,"props":3790,"children":3791},{"style":367},[3792],{"type":40,"value":3152},{"type":35,"tag":116,"props":3794,"children":3795},{"style":129},[3796],{"type":40,"value":2055},{"type":35,"tag":116,"props":3798,"children":3799},{"class":118,"line":562},[3800,3805,3810,3814],{"type":35,"tag":116,"props":3801,"children":3802},{"style":2008},[3803],{"type":40,"value":3804},"        @Header",{"type":35,"tag":116,"props":3806,"children":3807},{"style":129},[3808],{"type":40,"value":3809},"(GcpPubSubHeaders.ORIGINAL_MESSAGE) message: ",{"type":35,"tag":116,"props":3811,"children":3812},{"style":2008},[3813],{"type":40,"value":3307},{"type":35,"tag":116,"props":3815,"children":3816},{"style":129},[3817],{"type":40,"value":1393},{"type":35,"tag":116,"props":3819,"children":3820},{"class":118,"line":580},[3821,3825,3829,3834,3839,3843],{"type":35,"tag":116,"props":3822,"children":3823},{"style":2008},[3824],{"type":40,"value":3804},{"type":35,"tag":116,"props":3826,"children":3827},{"style":129},[3828],{"type":40,"value":1684},{"type":35,"tag":116,"props":3830,"children":3831},{"style":135},[3832],{"type":40,"value":3833},"\"DOMAIN_OBJECT_ID\"",{"type":35,"tag":116,"props":3835,"children":3836},{"style":129},[3837],{"type":40,"value":3838},") domainObjectId: ",{"type":35,"tag":116,"props":3840,"children":3841},{"style":2008},[3842],{"type":40,"value":2092},{"type":35,"tag":116,"props":3844,"children":3845},{"style":129},[3846],{"type":40,"value":1393},{"type":35,"tag":116,"props":3848,"children":3849},{"class":118,"line":594},[3850,3855,3860,3864],{"type":35,"tag":116,"props":3851,"children":3852},{"style":2008},[3853],{"type":40,"value":3854},"        @Payload",{"type":35,"tag":116,"props":3856,"children":3857},{"style":129},[3858],{"type":40,"value":3859}," payload: ",{"type":35,"tag":116,"props":3861,"children":3862},{"style":2008},[3863],{"type":40,"value":2092},{"type":35,"tag":116,"props":3865,"children":3866},{"style":129},[3867],{"type":40,"value":1393},{"type":35,"tag":116,"props":3869,"children":3870},{"class":118,"line":602},[3871],{"type":35,"tag":116,"props":3872,"children":3873},{"style":129},[3874],{"type":40,"value":3875},"    ) {\n",{"type":35,"tag":116,"props":3877,"children":3878},{"class":118,"line":631},[3879,3884,3888,3892,3897,3903,3907],{"type":35,"tag":116,"props":3880,"children":3881},{"style":129},[3882],{"type":40,"value":3883},"        LOGGER.",{"type":35,"tag":116,"props":3885,"children":3886},{"style":367},[3887],{"type":40,"value":3198},{"type":35,"tag":116,"props":3889,"children":3890},{"style":129},[3891],{"type":40,"value":1684},{"type":35,"tag":116,"props":3893,"children":3894},{"style":135},[3895],{"type":40,"value":3896},"\"Message arrived! ORIGINAL_MESSAGE: ",{"type":35,"tag":116,"props":3898,"children":3900},{"style":3899},"--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#F8F8F2",[3901],{"type":40,"value":3902},"$message",{"type":35,"tag":116,"props":3904,"children":3905},{"style":135},[3906],{"type":40,"value":2072},{"type":35,"tag":116,"props":3908,"children":3909},{"style":129},[3910],{"type":40,"value":1694},{"type":35,"tag":116,"props":3912,"children":3913},{"class":118,"line":647},[3914,3918,3922,3926,3931,3936,3940],{"type":35,"tag":116,"props":3915,"children":3916},{"style":129},[3917],{"type":40,"value":3883},{"type":35,"tag":116,"props":3919,"children":3920},{"style":367},[3921],{"type":40,"value":3198},{"type":35,"tag":116,"props":3923,"children":3924},{"style":129},[3925],{"type":40,"value":1684},{"type":35,"tag":116,"props":3927,"children":3928},{"style":135},[3929],{"type":40,"value":3930},"\"DOMAIN_OBJECT_ID: ",{"type":35,"tag":116,"props":3932,"children":3933},{"style":3899},[3934],{"type":40,"value":3935},"$domainObjectId",{"type":35,"tag":116,"props":3937,"children":3938},{"style":135},[3939],{"type":40,"value":2072},{"type":35,"tag":116,"props":3941,"children":3942},{"style":129},[3943],{"type":40,"value":1694},{"type":35,"tag":116,"props":3945,"children":3946},{"class":118,"line":660},[3947,3951,3955,3959,3964,3969,3973],{"type":35,"tag":116,"props":3948,"children":3949},{"style":129},[3950],{"type":40,"value":3883},{"type":35,"tag":116,"props":3952,"children":3953},{"style":367},[3954],{"type":40,"value":3198},{"type":35,"tag":116,"props":3956,"children":3957},{"style":129},[3958],{"type":40,"value":1684},{"type":35,"tag":116,"props":3960,"children":3961},{"style":135},[3962],{"type":40,"value":3963},"\"Payload: ",{"type":35,"tag":116,"props":3965,"children":3966},{"style":3899},[3967],{"type":40,"value":3968},"$payload",{"type":35,"tag":116,"props":3970,"children":3971},{"style":135},[3972],{"type":40,"value":2072},{"type":35,"tag":116,"props":3974,"children":3975},{"style":129},[3976],{"type":40,"value":1694},{"type":35,"tag":116,"props":3978,"children":3979},{"class":118,"line":668},[3980,3985,3989],{"type":35,"tag":116,"props":3981,"children":3982},{"style":129},[3983],{"type":40,"value":3984},"        message.",{"type":35,"tag":116,"props":3986,"children":3987},{"style":367},[3988],{"type":40,"value":3457},{"type":35,"tag":116,"props":3990,"children":3991},{"style":129},[3992],{"type":40,"value":2201},{"type":35,"tag":116,"props":3994,"children":3995},{"class":118,"line":677},[3996],{"type":35,"tag":116,"props":3997,"children":3998},{"style":129},[3999],{"type":40,"value":946},{"type":35,"tag":116,"props":4001,"children":4002},{"class":118,"line":2564},[4003],{"type":35,"tag":116,"props":4004,"children":4005},{"emptyLinePlaceholder":145},[4006],{"type":40,"value":148},{"type":35,"tag":116,"props":4008,"children":4009},{"class":118,"line":2572},[4010,4014,4018],{"type":35,"tag":116,"props":4011,"children":4012},{"style":1907},[4013],{"type":40,"value":3486},{"type":35,"tag":116,"props":4015,"children":4016},{"style":1907},[4017],{"type":40,"value":3491},{"type":35,"tag":116,"props":4019,"children":4020},{"style":129},[4021],{"type":40,"value":2029},{"type":35,"tag":116,"props":4023,"children":4024},{"class":118,"line":2580},[4025,4029,4033,4038,4042,4046,4050,4055,4059],{"type":35,"tag":116,"props":4026,"children":4027},{"style":1907},[4028],{"type":40,"value":3504},{"type":35,"tag":116,"props":4030,"children":4031},{"style":1907},[4032],{"type":40,"value":3509},{"type":35,"tag":116,"props":4034,"children":4035},{"style":129},[4036],{"type":40,"value":4037}," LOGGER ",{"type":35,"tag":116,"props":4039,"children":4040},{"style":1907},[4041],{"type":40,"value":2535},{"type":35,"tag":116,"props":4043,"children":4044},{"style":129},[4045],{"type":40,"value":3528},{"type":35,"tag":116,"props":4047,"children":4048},{"style":367},[4049],{"type":40,"value":3533},{"type":35,"tag":116,"props":4051,"children":4052},{"style":129},[4053],{"type":40,"value":4054},"(Receiver::",{"type":35,"tag":116,"props":4056,"children":4057},{"style":367},[4058],{"type":40,"value":2019},{"type":35,"tag":116,"props":4060,"children":4061},{"style":129},[4062],{"type":40,"value":3340},{"type":35,"tag":116,"props":4064,"children":4065},{"class":118,"line":2615},[4066],{"type":35,"tag":116,"props":4067,"children":4068},{"style":129},[4069],{"type":40,"value":946},{"type":35,"tag":116,"props":4071,"children":4072},{"class":118,"line":3031},[4073],{"type":35,"tag":116,"props":4074,"children":4075},{"style":129},[4076],{"type":40,"value":1524},{"type":35,"tag":36,"props":4078,"children":4079},{},[4080,4082,4087,4088,4093,4095,4100],{"type":40,"value":4081},"It is convenient to use the ",{"type":35,"tag":112,"props":4083,"children":4085},{"className":4084},[],[4086],{"type":40,"value":3589},{"type":40,"value":3583},{"type":35,"tag":112,"props":4089,"children":4091},{"className":4090},[],[4092],{"type":40,"value":3581},{"type":40,"value":4094}," annotations to obtain the message payload and headers.\nThere this is my preferred way to use the ",{"type":35,"tag":112,"props":4096,"children":4098},{"className":4097},[],[4099],{"type":40,"value":2645},{"type":40,"value":4101}," annotation.",{"type":35,"tag":2661,"props":4103,"children":4105},{"id":4104},"just-obtain-the-message-payload",[4106],{"type":40,"value":4107},"Just obtain the message payload",{"type":35,"tag":36,"props":4109,"children":4110},{},[4111,4113,4118],{"type":40,"value":4112},"You can even just obtain the message payload in the ",{"type":35,"tag":112,"props":4114,"children":4116},{"className":4115},[],[4117],{"type":40,"value":2645},{"type":40,"value":4119}," method:",{"type":35,"tag":104,"props":4121,"children":4123},{"className":1665,"code":4122,"filename":3618,"language":17,"meta":9,"style":9},"package dev.simonscholz.pubsub\n\nimport org.slf4j.LoggerFactory\nimport org.springframework.integration.annotation.ServiceActivator\nimport org.springframework.stereotype.Component\n\n@Component\nclass Receiver {\n\n    @ServiceActivator(inputChannel = \"pubsubInputChannel\")\n    fun messageReceiver(payload: String) {\n        LOGGER.info(\"Message arrived! Payload: $payload\")\n    }\n\n    companion object {\n        private val LOGGER = LoggerFactory.getLogger(Receiver::class.java)\n    }\n}\n",[4124],{"type":35,"tag":112,"props":4125,"children":4126},{"__ignoreMap":9},[4127,4138,4145,4156,4167,4178,4185,4192,4207,4214,4237,4262,4293,4300,4307,4322,4361,4368],{"type":35,"tag":116,"props":4128,"children":4129},{"class":118,"line":119},[4130,4134],{"type":35,"tag":116,"props":4131,"children":4132},{"style":1907},[4133],{"type":40,"value":1910},{"type":35,"tag":116,"props":4135,"children":4136},{"style":1789},[4137],{"type":40,"value":2257},{"type":35,"tag":116,"props":4139,"children":4140},{"class":118,"line":141},[4141],{"type":35,"tag":116,"props":4142,"children":4143},{"emptyLinePlaceholder":145},[4144],{"type":40,"value":148},{"type":35,"tag":116,"props":4146,"children":4147},{"class":118,"line":151},[4148,4152],{"type":35,"tag":116,"props":4149,"children":4150},{"style":1907},[4151],{"type":40,"value":1930},{"type":35,"tag":116,"props":4153,"children":4154},{"style":1789},[4155],{"type":40,"value":2785},{"type":35,"tag":116,"props":4157,"children":4158},{"class":118,"line":165},[4159,4163],{"type":35,"tag":116,"props":4160,"children":4161},{"style":1907},[4162],{"type":40,"value":1930},{"type":35,"tag":116,"props":4164,"children":4165},{"style":1789},[4166],{"type":40,"value":2830},{"type":35,"tag":116,"props":4168,"children":4169},{"class":118,"line":174},[4170,4174],{"type":35,"tag":116,"props":4171,"children":4172},{"style":1907},[4173],{"type":40,"value":1930},{"type":35,"tag":116,"props":4175,"children":4176},{"style":1789},[4177],{"type":40,"value":3720},{"type":35,"tag":116,"props":4179,"children":4180},{"class":118,"line":187},[4181],{"type":35,"tag":116,"props":4182,"children":4183},{"emptyLinePlaceholder":145},[4184],{"type":40,"value":148},{"type":35,"tag":116,"props":4186,"children":4187},{"class":118,"line":205},[4188],{"type":35,"tag":116,"props":4189,"children":4190},{"style":2008},[4191],{"type":40,"value":3735},{"type":35,"tag":116,"props":4193,"children":4194},{"class":118,"line":223},[4195,4199,4203],{"type":35,"tag":116,"props":4196,"children":4197},{"style":1907},[4198],{"type":40,"value":2019},{"type":35,"tag":116,"props":4200,"children":4201},{"style":2008},[4202],{"type":40,"value":3747},{"type":35,"tag":116,"props":4204,"children":4205},{"style":129},[4206],{"type":40,"value":2029},{"type":35,"tag":116,"props":4208,"children":4209},{"class":118,"line":236},[4210],{"type":35,"tag":116,"props":4211,"children":4212},{"emptyLinePlaceholder":145},[4213],{"type":40,"value":148},{"type":35,"tag":116,"props":4215,"children":4216},{"class":118,"line":250},[4217,4221,4225,4229,4233],{"type":35,"tag":116,"props":4218,"children":4219},{"style":2008},[4220],{"type":40,"value":3121},{"type":35,"tag":116,"props":4222,"children":4223},{"style":129},[4224],{"type":40,"value":3126},{"type":35,"tag":116,"props":4226,"children":4227},{"style":1907},[4228],{"type":40,"value":2535},{"type":35,"tag":116,"props":4230,"children":4231},{"style":135},[4232],{"type":40,"value":3135},{"type":35,"tag":116,"props":4234,"children":4235},{"style":129},[4236],{"type":40,"value":1694},{"type":35,"tag":116,"props":4238,"children":4239},{"class":118,"line":263},[4240,4244,4248,4253,4257],{"type":35,"tag":116,"props":4241,"children":4242},{"style":1907},[4243],{"type":40,"value":2045},{"type":35,"tag":116,"props":4245,"children":4246},{"style":367},[4247],{"type":40,"value":3152},{"type":35,"tag":116,"props":4249,"children":4250},{"style":129},[4251],{"type":40,"value":4252},"(payload: ",{"type":35,"tag":116,"props":4254,"children":4255},{"style":2008},[4256],{"type":40,"value":2092},{"type":35,"tag":116,"props":4258,"children":4259},{"style":129},[4260],{"type":40,"value":4261},") {\n",{"type":35,"tag":116,"props":4263,"children":4264},{"class":118,"line":276},[4265,4269,4273,4277,4281,4285,4289],{"type":35,"tag":116,"props":4266,"children":4267},{"style":129},[4268],{"type":40,"value":3883},{"type":35,"tag":116,"props":4270,"children":4271},{"style":367},[4272],{"type":40,"value":3198},{"type":35,"tag":116,"props":4274,"children":4275},{"style":129},[4276],{"type":40,"value":1684},{"type":35,"tag":116,"props":4278,"children":4279},{"style":135},[4280],{"type":40,"value":3207},{"type":35,"tag":116,"props":4282,"children":4283},{"style":3899},[4284],{"type":40,"value":3968},{"type":35,"tag":116,"props":4286,"children":4287},{"style":135},[4288],{"type":40,"value":2072},{"type":35,"tag":116,"props":4290,"children":4291},{"style":129},[4292],{"type":40,"value":1694},{"type":35,"tag":116,"props":4294,"children":4295},{"class":118,"line":300},[4296],{"type":35,"tag":116,"props":4297,"children":4298},{"style":129},[4299],{"type":40,"value":946},{"type":35,"tag":116,"props":4301,"children":4302},{"class":118,"line":523},[4303],{"type":35,"tag":116,"props":4304,"children":4305},{"emptyLinePlaceholder":145},[4306],{"type":40,"value":148},{"type":35,"tag":116,"props":4308,"children":4309},{"class":118,"line":532},[4310,4314,4318],{"type":35,"tag":116,"props":4311,"children":4312},{"style":1907},[4313],{"type":40,"value":3486},{"type":35,"tag":116,"props":4315,"children":4316},{"style":1907},[4317],{"type":40,"value":3491},{"type":35,"tag":116,"props":4319,"children":4320},{"style":129},[4321],{"type":40,"value":2029},{"type":35,"tag":116,"props":4323,"children":4324},{"class":118,"line":562},[4325,4329,4333,4337,4341,4345,4349,4353,4357],{"type":35,"tag":116,"props":4326,"children":4327},{"style":1907},[4328],{"type":40,"value":3504},{"type":35,"tag":116,"props":4330,"children":4331},{"style":1907},[4332],{"type":40,"value":3509},{"type":35,"tag":116,"props":4334,"children":4335},{"style":129},[4336],{"type":40,"value":4037},{"type":35,"tag":116,"props":4338,"children":4339},{"style":1907},[4340],{"type":40,"value":2535},{"type":35,"tag":116,"props":4342,"children":4343},{"style":129},[4344],{"type":40,"value":3528},{"type":35,"tag":116,"props":4346,"children":4347},{"style":367},[4348],{"type":40,"value":3533},{"type":35,"tag":116,"props":4350,"children":4351},{"style":129},[4352],{"type":40,"value":4054},{"type":35,"tag":116,"props":4354,"children":4355},{"style":367},[4356],{"type":40,"value":2019},{"type":35,"tag":116,"props":4358,"children":4359},{"style":129},[4360],{"type":40,"value":3340},{"type":35,"tag":116,"props":4362,"children":4363},{"class":118,"line":580},[4364],{"type":35,"tag":116,"props":4365,"children":4366},{"style":129},[4367],{"type":40,"value":946},{"type":35,"tag":116,"props":4369,"children":4370},{"class":118,"line":594},[4371],{"type":35,"tag":116,"props":4372,"children":4373},{"style":129},[4374],{"type":40,"value":1524},{"type":35,"tag":36,"props":4376,"children":4377},{},[4378,4380,4385,4386,4391],{"type":40,"value":4379},"This is less explicit, but it is possible to obtain the message payload directly without using the ",{"type":35,"tag":112,"props":4381,"children":4383},{"className":4382},[],[4384],{"type":40,"value":3589},{"type":40,"value":3583},{"type":35,"tag":112,"props":4387,"children":4389},{"className":4388},[],[4390],{"type":40,"value":3581},{"type":40,"value":4392}," annotations.",{"type":35,"tag":1751,"props":4394,"children":4396},{"id":4395},"test-the-subscription",[4397],{"type":40,"value":4398},"Test the Subscription",{"type":35,"tag":36,"props":4400,"children":4401},{},[4402,4404,4409],{"type":40,"value":4403},"To test the subscription, you can use the following ",{"type":35,"tag":112,"props":4405,"children":4407},{"className":4406},[],[4408],{"type":40,"value":462},{"type":40,"value":828},{"type":35,"tag":104,"props":4411,"children":4413},{"className":331,"code":4412,"language":333,"meta":9,"style":9},"curl -X POST \"http://0.0.0.0:8685/v1/projects/sample-project-id/topics/json-topic:publish\" -H \"Content-Type: application/json\" -d '{\n  \"messages\": [\n    {\n      \"attributes\": {\n        \"DOMAIN_OBJECT_ID\": \"12345\",\n        \"anotherKey\": \"anotherValue\"\n      },\n      \"data\": \"eyJpZCI6ICIxMjM0NSIsICJtZXNzYWdlIjogIkpvaG4gRG9lIn0=\"\n    }\n  ]\n}'\n",[4414],{"type":35,"tag":112,"props":4415,"children":4416},{"__ignoreMap":9},[4417,4456,4463,4470,4477,4484,4491,4498,4505,4512,4519],{"type":35,"tag":116,"props":4418,"children":4419},{"class":118,"line":119},[4420,4424,4428,4432,4436,4441,4446,4451],{"type":35,"tag":116,"props":4421,"children":4422},{"style":367},[4423],{"type":40,"value":462},{"type":35,"tag":116,"props":4425,"children":4426},{"style":393},[4427],{"type":40,"value":472},{"type":35,"tag":116,"props":4429,"children":4430},{"style":135},[4431],{"type":40,"value":851},{"type":35,"tag":116,"props":4433,"children":4434},{"style":135},[4435],{"type":40,"value":994},{"type":35,"tag":116,"props":4437,"children":4438},{"style":393},[4439],{"type":40,"value":4440}," -H",{"type":35,"tag":116,"props":4442,"children":4443},{"style":135},[4444],{"type":40,"value":4445}," \"Content-Type: application/json\"",{"type":35,"tag":116,"props":4447,"children":4448},{"style":393},[4449],{"type":40,"value":4450}," -d",{"type":35,"tag":116,"props":4452,"children":4453},{"style":135},[4454],{"type":40,"value":4455}," '{\n",{"type":35,"tag":116,"props":4457,"children":4458},{"class":118,"line":141},[4459],{"type":35,"tag":116,"props":4460,"children":4461},{"style":135},[4462],{"type":40,"value":898},{"type":35,"tag":116,"props":4464,"children":4465},{"class":118,"line":151},[4466],{"type":35,"tag":116,"props":4467,"children":4468},{"style":135},[4469],{"type":40,"value":906},{"type":35,"tag":116,"props":4471,"children":4472},{"class":118,"line":165},[4473],{"type":35,"tag":116,"props":4474,"children":4475},{"style":135},[4476],{"type":40,"value":914},{"type":35,"tag":116,"props":4478,"children":4479},{"class":118,"line":174},[4480],{"type":35,"tag":116,"props":4481,"children":4482},{"style":135},[4483],{"type":40,"value":922},{"type":35,"tag":116,"props":4485,"children":4486},{"class":118,"line":187},[4487],{"type":35,"tag":116,"props":4488,"children":4489},{"style":135},[4490],{"type":40,"value":930},{"type":35,"tag":116,"props":4492,"children":4493},{"class":118,"line":205},[4494],{"type":35,"tag":116,"props":4495,"children":4496},{"style":135},[4497],{"type":40,"value":1067},{"type":35,"tag":116,"props":4499,"children":4500},{"class":118,"line":223},[4501],{"type":35,"tag":116,"props":4502,"children":4503},{"style":135},[4504],{"type":40,"value":1075},{"type":35,"tag":116,"props":4506,"children":4507},{"class":118,"line":236},[4508],{"type":35,"tag":116,"props":4509,"children":4510},{"style":135},[4511],{"type":40,"value":946},{"type":35,"tag":116,"props":4513,"children":4514},{"class":118,"line":250},[4515],{"type":35,"tag":116,"props":4516,"children":4517},{"style":135},[4518],{"type":40,"value":954},{"type":35,"tag":116,"props":4520,"children":4521},{"class":118,"line":263},[4522],{"type":35,"tag":116,"props":4523,"children":4524},{"style":135},[4525],{"type":40,"value":962},{"type":35,"tag":36,"props":4527,"children":4528},{},[4529],{"type":40,"value":4530},"Watch the logs of the Spring Boot application to see the message being received.",{"type":35,"tag":1751,"props":4532,"children":4534},{"id":4533},"publish-to-a-google-cloud-pubsub-topic-1",[4535],{"type":40,"value":816},{"type":35,"tag":36,"props":4537,"children":4538},{},[4539,4540,4546,4548,4553],{"type":40,"value":320},{"type":35,"tag":112,"props":4541,"children":4543},{"className":4542},[],[4544],{"type":40,"value":4545},"PubSubConfig",{"type":40,"value":4547}," can be adjusted to also provide a ",{"type":35,"tag":112,"props":4549,"children":4551},{"className":4550},[],[4552],{"type":40,"value":2677},{"type":40,"value":4554}," instance for outgoing messages:",{"type":35,"tag":104,"props":4556,"children":4558},{"className":1665,"code":4557,"filename":2241,"language":17,"meta":9,"style":9},"  \n  // ... other existing code\n\n  @Bean\n  @ServiceActivator(inputChannel = \"pubsubOutputChannel\")\n  fun messageSender(pubsubTemplate: PubSubTemplate): MessageHandler {\n      return PubSubMessageHandler(pubsubTemplate, \"json-topic\")\n  }\n",[4559],{"type":35,"tag":112,"props":4560,"children":4561},{"__ignoreMap":9},[4562,4569,4577,4584,4592,4617,4652,4679],{"type":35,"tag":116,"props":4563,"children":4564},{"class":118,"line":119},[4565],{"type":35,"tag":116,"props":4566,"children":4567},{"style":129},[4568],{"type":40,"value":171},{"type":35,"tag":116,"props":4570,"children":4571},{"class":118,"line":141},[4572],{"type":35,"tag":116,"props":4573,"children":4574},{"style":343},[4575],{"type":40,"value":4576},"  // ... other existing code\n",{"type":35,"tag":116,"props":4578,"children":4579},{"class":118,"line":151},[4580],{"type":35,"tag":116,"props":4581,"children":4582},{"emptyLinePlaceholder":145},[4583],{"type":40,"value":148},{"type":35,"tag":116,"props":4585,"children":4586},{"class":118,"line":165},[4587],{"type":35,"tag":116,"props":4588,"children":4589},{"style":2008},[4590],{"type":40,"value":4591},"  @Bean\n",{"type":35,"tag":116,"props":4593,"children":4594},{"class":118,"line":174},[4595,4600,4604,4608,4613],{"type":35,"tag":116,"props":4596,"children":4597},{"style":2008},[4598],{"type":40,"value":4599},"  @ServiceActivator",{"type":35,"tag":116,"props":4601,"children":4602},{"style":129},[4603],{"type":40,"value":3126},{"type":35,"tag":116,"props":4605,"children":4606},{"style":1907},[4607],{"type":40,"value":2535},{"type":35,"tag":116,"props":4609,"children":4610},{"style":135},[4611],{"type":40,"value":4612}," \"pubsubOutputChannel\"",{"type":35,"tag":116,"props":4614,"children":4615},{"style":129},[4616],{"type":40,"value":1694},{"type":35,"tag":116,"props":4618,"children":4619},{"class":118,"line":187},[4620,4625,4630,4635,4639,4644,4648],{"type":35,"tag":116,"props":4621,"children":4622},{"style":1907},[4623],{"type":40,"value":4624},"  fun",{"type":35,"tag":116,"props":4626,"children":4627},{"style":367},[4628],{"type":40,"value":4629}," messageSender",{"type":35,"tag":116,"props":4631,"children":4632},{"style":129},[4633],{"type":40,"value":4634},"(pubsubTemplate: ",{"type":35,"tag":116,"props":4636,"children":4637},{"style":2008},[4638],{"type":40,"value":2469},{"type":35,"tag":116,"props":4640,"children":4641},{"style":129},[4642],{"type":40,"value":4643},"): ",{"type":35,"tag":116,"props":4645,"children":4646},{"style":2008},[4647],{"type":40,"value":2677},{"type":35,"tag":116,"props":4649,"children":4650},{"style":129},[4651],{"type":40,"value":2029},{"type":35,"tag":116,"props":4653,"children":4654},{"class":118,"line":205},[4655,4660,4665,4670,4675],{"type":35,"tag":116,"props":4656,"children":4657},{"style":1907},[4658],{"type":40,"value":4659},"      return",{"type":35,"tag":116,"props":4661,"children":4662},{"style":367},[4663],{"type":40,"value":4664}," PubSubMessageHandler",{"type":35,"tag":116,"props":4666,"children":4667},{"style":129},[4668],{"type":40,"value":4669},"(pubsubTemplate, ",{"type":35,"tag":116,"props":4671,"children":4672},{"style":135},[4673],{"type":40,"value":4674},"\"json-topic\"",{"type":35,"tag":116,"props":4676,"children":4677},{"style":129},[4678],{"type":40,"value":1694},{"type":35,"tag":116,"props":4680,"children":4681},{"class":118,"line":223},[4682],{"type":35,"tag":116,"props":4683,"children":4684},{"style":129},[4685],{"type":40,"value":4686},"  }\n",{"type":35,"tag":36,"props":4688,"children":4689},{},[4690,4692,4698,4700,4706],{"type":40,"value":4691},"This ",{"type":35,"tag":112,"props":4693,"children":4695},{"className":4694},[],[4696],{"type":40,"value":4697},"pubsubOutputChannel",{"type":40,"value":4699}," can then be used by a ",{"type":35,"tag":112,"props":4701,"children":4703},{"className":4702},[],[4704],{"type":40,"value":4705},"MessagingGateway",{"type":40,"value":4707}," interface:",{"type":35,"tag":104,"props":4709,"children":4712},{"className":1665,"code":4710,"filename":4711,"language":17,"meta":9,"style":9},"package dev.simonscholz.pubsub\n\nimport org.springframework.integration.annotation.MessagingGateway\nimport org.springframework.messaging.handler.annotation.Header\n\n@MessagingGateway(defaultRequestChannel = \"pubsubOutputChannel\")\ninterface PubsubOutboundGateway {\n    fun sendToPubsub(text: String, @Header(\"DOMAIN_OBJECT_ID\") domainObjectId: String)\n}\n","PubsubOutboundGateway.kt",[4713],{"type":35,"tag":112,"props":4714,"children":4715},{"__ignoreMap":9},[4716,4727,4734,4746,4757,4764,4789,4806,4856],{"type":35,"tag":116,"props":4717,"children":4718},{"class":118,"line":119},[4719,4723],{"type":35,"tag":116,"props":4720,"children":4721},{"style":1907},[4722],{"type":40,"value":1910},{"type":35,"tag":116,"props":4724,"children":4725},{"style":1789},[4726],{"type":40,"value":2257},{"type":35,"tag":116,"props":4728,"children":4729},{"class":118,"line":141},[4730],{"type":35,"tag":116,"props":4731,"children":4732},{"emptyLinePlaceholder":145},[4733],{"type":40,"value":148},{"type":35,"tag":116,"props":4735,"children":4736},{"class":118,"line":151},[4737,4741],{"type":35,"tag":116,"props":4738,"children":4739},{"style":1907},[4740],{"type":40,"value":1930},{"type":35,"tag":116,"props":4742,"children":4743},{"style":1789},[4744],{"type":40,"value":4745}," org.springframework.integration.annotation.MessagingGateway\n",{"type":35,"tag":116,"props":4747,"children":4748},{"class":118,"line":165},[4749,4753],{"type":35,"tag":116,"props":4750,"children":4751},{"style":1907},[4752],{"type":40,"value":1930},{"type":35,"tag":116,"props":4754,"children":4755},{"style":1789},[4756],{"type":40,"value":3696},{"type":35,"tag":116,"props":4758,"children":4759},{"class":118,"line":174},[4760],{"type":35,"tag":116,"props":4761,"children":4762},{"emptyLinePlaceholder":145},[4763],{"type":40,"value":148},{"type":35,"tag":116,"props":4765,"children":4766},{"class":118,"line":187},[4767,4772,4777,4781,4785],{"type":35,"tag":116,"props":4768,"children":4769},{"style":2008},[4770],{"type":40,"value":4771},"@MessagingGateway",{"type":35,"tag":116,"props":4773,"children":4774},{"style":129},[4775],{"type":40,"value":4776},"(defaultRequestChannel ",{"type":35,"tag":116,"props":4778,"children":4779},{"style":1907},[4780],{"type":40,"value":2535},{"type":35,"tag":116,"props":4782,"children":4783},{"style":135},[4784],{"type":40,"value":4612},{"type":35,"tag":116,"props":4786,"children":4787},{"style":129},[4788],{"type":40,"value":1694},{"type":35,"tag":116,"props":4790,"children":4791},{"class":118,"line":205},[4792,4797,4802],{"type":35,"tag":116,"props":4793,"children":4794},{"style":1907},[4795],{"type":40,"value":4796},"interface",{"type":35,"tag":116,"props":4798,"children":4799},{"style":2008},[4800],{"type":40,"value":4801}," PubsubOutboundGateway",{"type":35,"tag":116,"props":4803,"children":4804},{"style":129},[4805],{"type":40,"value":2029},{"type":35,"tag":116,"props":4807,"children":4808},{"class":118,"line":223},[4809,4813,4818,4823,4827,4832,4836,4840,4844,4848,4852],{"type":35,"tag":116,"props":4810,"children":4811},{"style":1907},[4812],{"type":40,"value":2045},{"type":35,"tag":116,"props":4814,"children":4815},{"style":367},[4816],{"type":40,"value":4817}," sendToPubsub",{"type":35,"tag":116,"props":4819,"children":4820},{"style":129},[4821],{"type":40,"value":4822},"(text: ",{"type":35,"tag":116,"props":4824,"children":4825},{"style":2008},[4826],{"type":40,"value":2092},{"type":35,"tag":116,"props":4828,"children":4829},{"style":129},[4830],{"type":40,"value":4831},", ",{"type":35,"tag":116,"props":4833,"children":4834},{"style":2008},[4835],{"type":40,"value":3589},{"type":35,"tag":116,"props":4837,"children":4838},{"style":129},[4839],{"type":40,"value":1684},{"type":35,"tag":116,"props":4841,"children":4842},{"style":135},[4843],{"type":40,"value":3833},{"type":35,"tag":116,"props":4845,"children":4846},{"style":129},[4847],{"type":40,"value":3838},{"type":35,"tag":116,"props":4849,"children":4850},{"style":2008},[4851],{"type":40,"value":2092},{"type":35,"tag":116,"props":4853,"children":4854},{"style":129},[4855],{"type":40,"value":1694},{"type":35,"tag":116,"props":4857,"children":4858},{"class":118,"line":236},[4859],{"type":35,"tag":116,"props":4860,"children":4861},{"style":129},[4862],{"type":40,"value":1524},{"type":35,"tag":36,"props":4864,"children":4865},{},[4866,4868,4873,4875,4881],{"type":40,"value":4867},"Note that instead of using plain text and ",{"type":35,"tag":112,"props":4869,"children":4871},{"className":4870},[],[4872],{"type":40,"value":3589},{"type":40,"value":4874}," domainObjectId as parameters, you can also use a ",{"type":35,"tag":112,"props":4876,"children":4878},{"className":4877},[],[4879],{"type":40,"value":4880},"import org.springframework.messaging.Message",{"type":40,"value":4882}," object as parameter to get more fine grained control over the message being sent.",{"type":35,"tag":36,"props":4884,"children":4885},{},[4886,4887,4893,4895,4901,4902,4908],{"type":40,"value":320},{"type":35,"tag":112,"props":4888,"children":4890},{"className":4889},[],[4891],{"type":40,"value":4892},"PubsubOutboundGateway",{"type":40,"value":4894}," can then be injected into a ",{"type":35,"tag":112,"props":4896,"children":4898},{"className":4897},[],[4899],{"type":40,"value":4900},"@Service",{"type":40,"value":1141},{"type":35,"tag":112,"props":4903,"children":4905},{"className":4904},[],[4906],{"type":40,"value":4907},"@RestController",{"type":40,"value":4909},", so that it can be used to send messages to the Google Cloud Pub/Sub topic:",{"type":35,"tag":104,"props":4911,"children":4914},{"className":1665,"code":4912,"filename":4913,"language":17,"meta":9,"style":9},"package dev.simonscholz.pubsub\n\nimport org.springframework.web.bind.annotation.PostMapping\nimport org.springframework.web.bind.annotation.RestController\n\n@RestController\nclass SampleRestController(\n    private val pubsubOutboundGateway: PubsubOutboundGateway,\n) {\n\n    @PostMapping(\"/send\")\n    fun sendToPubsub() {\n        pubsubOutboundGateway.sendToPubsub(\n            text = \"{\\\"DOMAIN_OBJECT_ID\\\": \\\"12345\\\", \\\"name\\\": \\\"John Doe\\\"}\",\n            domainObjectId = \"12345\"\n        )\n    }\n}\n","SampleRestController.kt",[4915],{"type":35,"tag":112,"props":4916,"children":4917},{"__ignoreMap":9},[4918,4929,4936,4948,4960,4967,4975,4991,5016,5023,5030,5051,5067,5084,5175,5192,5200,5207],{"type":35,"tag":116,"props":4919,"children":4920},{"class":118,"line":119},[4921,4925],{"type":35,"tag":116,"props":4922,"children":4923},{"style":1907},[4924],{"type":40,"value":1910},{"type":35,"tag":116,"props":4926,"children":4927},{"style":1789},[4928],{"type":40,"value":2257},{"type":35,"tag":116,"props":4930,"children":4931},{"class":118,"line":141},[4932],{"type":35,"tag":116,"props":4933,"children":4934},{"emptyLinePlaceholder":145},[4935],{"type":40,"value":148},{"type":35,"tag":116,"props":4937,"children":4938},{"class":118,"line":151},[4939,4943],{"type":35,"tag":116,"props":4940,"children":4941},{"style":1907},[4942],{"type":40,"value":1930},{"type":35,"tag":116,"props":4944,"children":4945},{"style":1789},[4946],{"type":40,"value":4947}," org.springframework.web.bind.annotation.PostMapping\n",{"type":35,"tag":116,"props":4949,"children":4950},{"class":118,"line":165},[4951,4955],{"type":35,"tag":116,"props":4952,"children":4953},{"style":1907},[4954],{"type":40,"value":1930},{"type":35,"tag":116,"props":4956,"children":4957},{"style":1789},[4958],{"type":40,"value":4959}," org.springframework.web.bind.annotation.RestController\n",{"type":35,"tag":116,"props":4961,"children":4962},{"class":118,"line":174},[4963],{"type":35,"tag":116,"props":4964,"children":4965},{"emptyLinePlaceholder":145},[4966],{"type":40,"value":148},{"type":35,"tag":116,"props":4968,"children":4969},{"class":118,"line":187},[4970],{"type":35,"tag":116,"props":4971,"children":4972},{"style":2008},[4973],{"type":40,"value":4974},"@RestController\n",{"type":35,"tag":116,"props":4976,"children":4977},{"class":118,"line":205},[4978,4982,4987],{"type":35,"tag":116,"props":4979,"children":4980},{"style":1907},[4981],{"type":40,"value":2019},{"type":35,"tag":116,"props":4983,"children":4984},{"style":2008},[4985],{"type":40,"value":4986}," SampleRestController",{"type":35,"tag":116,"props":4988,"children":4989},{"style":129},[4990],{"type":40,"value":2055},{"type":35,"tag":116,"props":4992,"children":4993},{"class":118,"line":223},[4994,4999,5003,5008,5012],{"type":35,"tag":116,"props":4995,"children":4996},{"style":1907},[4997],{"type":40,"value":4998},"    private",{"type":35,"tag":116,"props":5000,"children":5001},{"style":1907},[5002],{"type":40,"value":3509},{"type":35,"tag":116,"props":5004,"children":5005},{"style":129},[5006],{"type":40,"value":5007}," pubsubOutboundGateway: ",{"type":35,"tag":116,"props":5009,"children":5010},{"style":2008},[5011],{"type":40,"value":4892},{"type":35,"tag":116,"props":5013,"children":5014},{"style":129},[5015],{"type":40,"value":1393},{"type":35,"tag":116,"props":5017,"children":5018},{"class":118,"line":236},[5019],{"type":35,"tag":116,"props":5020,"children":5021},{"style":129},[5022],{"type":40,"value":4261},{"type":35,"tag":116,"props":5024,"children":5025},{"class":118,"line":250},[5026],{"type":35,"tag":116,"props":5027,"children":5028},{"emptyLinePlaceholder":145},[5029],{"type":40,"value":148},{"type":35,"tag":116,"props":5031,"children":5032},{"class":118,"line":263},[5033,5038,5042,5047],{"type":35,"tag":116,"props":5034,"children":5035},{"style":2008},[5036],{"type":40,"value":5037},"    @PostMapping",{"type":35,"tag":116,"props":5039,"children":5040},{"style":129},[5041],{"type":40,"value":1684},{"type":35,"tag":116,"props":5043,"children":5044},{"style":135},[5045],{"type":40,"value":5046},"\"/send\"",{"type":35,"tag":116,"props":5048,"children":5049},{"style":129},[5050],{"type":40,"value":1694},{"type":35,"tag":116,"props":5052,"children":5053},{"class":118,"line":276},[5054,5058,5062],{"type":35,"tag":116,"props":5055,"children":5056},{"style":1907},[5057],{"type":40,"value":2045},{"type":35,"tag":116,"props":5059,"children":5060},{"style":367},[5061],{"type":40,"value":4817},{"type":35,"tag":116,"props":5063,"children":5064},{"style":129},[5065],{"type":40,"value":5066},"() {\n",{"type":35,"tag":116,"props":5068,"children":5069},{"class":118,"line":300},[5070,5075,5080],{"type":35,"tag":116,"props":5071,"children":5072},{"style":129},[5073],{"type":40,"value":5074},"        pubsubOutboundGateway.",{"type":35,"tag":116,"props":5076,"children":5077},{"style":367},[5078],{"type":40,"value":5079},"sendToPubsub",{"type":35,"tag":116,"props":5081,"children":5082},{"style":129},[5083],{"type":40,"value":2055},{"type":35,"tag":116,"props":5085,"children":5086},{"class":118,"line":523},[5087,5092,5096,5101,5106,5111,5115,5119,5123,5128,5132,5136,5140,5145,5149,5153,5157,5162,5166,5171],{"type":35,"tag":116,"props":5088,"children":5089},{"style":129},[5090],{"type":40,"value":5091},"            text ",{"type":35,"tag":116,"props":5093,"children":5094},{"style":1907},[5095],{"type":40,"value":2535},{"type":35,"tag":116,"props":5097,"children":5098},{"style":135},[5099],{"type":40,"value":5100}," \"{",{"type":35,"tag":116,"props":5102,"children":5103},{"style":393},[5104],{"type":40,"value":5105},"\\\"",{"type":35,"tag":116,"props":5107,"children":5108},{"style":135},[5109],{"type":40,"value":5110},"DOMAIN_OBJECT_ID",{"type":35,"tag":116,"props":5112,"children":5113},{"style":393},[5114],{"type":40,"value":5105},{"type":35,"tag":116,"props":5116,"children":5117},{"style":135},[5118],{"type":40,"value":132},{"type":35,"tag":116,"props":5120,"children":5121},{"style":393},[5122],{"type":40,"value":5105},{"type":35,"tag":116,"props":5124,"children":5125},{"style":135},[5126],{"type":40,"value":5127},"12345",{"type":35,"tag":116,"props":5129,"children":5130},{"style":393},[5131],{"type":40,"value":5105},{"type":35,"tag":116,"props":5133,"children":5134},{"style":135},[5135],{"type":40,"value":4831},{"type":35,"tag":116,"props":5137,"children":5138},{"style":393},[5139],{"type":40,"value":5105},{"type":35,"tag":116,"props":5141,"children":5142},{"style":135},[5143],{"type":40,"value":5144},"name",{"type":35,"tag":116,"props":5146,"children":5147},{"style":393},[5148],{"type":40,"value":5105},{"type":35,"tag":116,"props":5150,"children":5151},{"style":135},[5152],{"type":40,"value":132},{"type":35,"tag":116,"props":5154,"children":5155},{"style":393},[5156],{"type":40,"value":5105},{"type":35,"tag":116,"props":5158,"children":5159},{"style":135},[5160],{"type":40,"value":5161},"John Doe",{"type":35,"tag":116,"props":5163,"children":5164},{"style":393},[5165],{"type":40,"value":5105},{"type":35,"tag":116,"props":5167,"children":5168},{"style":135},[5169],{"type":40,"value":5170},"}\"",{"type":35,"tag":116,"props":5172,"children":5173},{"style":129},[5174],{"type":40,"value":1393},{"type":35,"tag":116,"props":5176,"children":5177},{"class":118,"line":532},[5178,5183,5187],{"type":35,"tag":116,"props":5179,"children":5180},{"style":129},[5181],{"type":40,"value":5182},"            domainObjectId ",{"type":35,"tag":116,"props":5184,"children":5185},{"style":1907},[5186],{"type":40,"value":2535},{"type":35,"tag":116,"props":5188,"children":5189},{"style":135},[5190],{"type":40,"value":5191}," \"12345\"\n",{"type":35,"tag":116,"props":5193,"children":5194},{"class":118,"line":562},[5195],{"type":35,"tag":116,"props":5196,"children":5197},{"style":129},[5198],{"type":40,"value":5199},"        )\n",{"type":35,"tag":116,"props":5201,"children":5202},{"class":118,"line":580},[5203],{"type":35,"tag":116,"props":5204,"children":5205},{"style":129},[5206],{"type":40,"value":946},{"type":35,"tag":116,"props":5208,"children":5209},{"class":118,"line":594},[5210],{"type":35,"tag":116,"props":5211,"children":5212},{"style":129},[5213],{"type":40,"value":1524},{"type":35,"tag":36,"props":5215,"children":5216},{},[5217,5219,5224,5226,5232],{"type":40,"value":5218},"The following ",{"type":35,"tag":112,"props":5220,"children":5222},{"className":5221},[],[5223],{"type":40,"value":462},{"type":40,"value":5225}," command can be used to test the ",{"type":35,"tag":112,"props":5227,"children":5229},{"className":5228},[],[5230],{"type":40,"value":5231},"SampleRestController",{"type":40,"value":5233},":",{"type":35,"tag":104,"props":5235,"children":5237},{"className":331,"code":5236,"language":333,"meta":9,"style":9},"curl -X POST -H \"Content-Type: application/json\" --data '{\"DOMAIN_OBJECT_ID\": \"12345\", \"name\": \"John Doe\"}' http://localhost:8080/send\n",[5238],{"type":35,"tag":112,"props":5239,"children":5240},{"__ignoreMap":9},[5241],{"type":35,"tag":116,"props":5242,"children":5243},{"class":118,"line":119},[5244,5248,5252,5256,5260,5264,5269,5274],{"type":35,"tag":116,"props":5245,"children":5246},{"style":367},[5247],{"type":40,"value":462},{"type":35,"tag":116,"props":5249,"children":5250},{"style":393},[5251],{"type":40,"value":472},{"type":35,"tag":116,"props":5253,"children":5254},{"style":135},[5255],{"type":40,"value":851},{"type":35,"tag":116,"props":5257,"children":5258},{"style":393},[5259],{"type":40,"value":4440},{"type":35,"tag":116,"props":5261,"children":5262},{"style":135},[5263],{"type":40,"value":4445},{"type":35,"tag":116,"props":5265,"children":5266},{"style":393},[5267],{"type":40,"value":5268}," --data",{"type":35,"tag":116,"props":5270,"children":5271},{"style":135},[5272],{"type":40,"value":5273}," '{\"DOMAIN_OBJECT_ID\": \"12345\", \"name\": \"John Doe\"}'",{"type":35,"tag":116,"props":5275,"children":5276},{"style":135},[5277],{"type":40,"value":5278}," http://localhost:8080/send\n",{"type":35,"tag":36,"props":5280,"children":5281},{},[5282,5284,5289],{"type":40,"value":5283},"This will then send a message to the Google Cloud Pub/Sub topic and the former created ",{"type":35,"tag":112,"props":5285,"children":5287},{"className":5286},[],[5288],{"type":40,"value":2645},{"type":40,"value":5290}," will receive the message.",{"type":35,"tag":1751,"props":5292,"children":5294},{"id":5293},"using-low-level-google-cloud-pubsub-api",[5295],{"type":40,"value":5296},"Using low level Google Cloud Pub/Sub API",{"type":35,"tag":36,"props":5298,"children":5299},{},[5300,5302,5307],{"type":40,"value":5301},"If you want to use the low level Google Cloud Pub/Sub API, you can use the ",{"type":35,"tag":112,"props":5303,"children":5305},{"className":5304},[],[5306],{"type":40,"value":2469},{"type":40,"value":5308}," bean to publish messages to a Google Cloud Pub/Sub topic:",{"type":35,"tag":104,"props":5310,"children":5313},{"className":1665,"code":5311,"filename":5312,"language":17,"meta":9,"style":9},"package dev.simonscholz.pubsub\n\nimport com.google.api.core.ApiFutureCallback\nimport com.google.api.core.ApiFutures\nimport com.google.api.gax.core.CredentialsProvider\nimport com.google.api.gax.rpc.TransportChannelProvider\nimport com.google.cloud.pubsub.v1.Publisher\nimport com.google.cloud.spring.core.GcpProjectIdProvider\nimport com.google.common.util.concurrent.MoreExecutors\nimport com.google.pubsub.v1.ProjectTopicName\nimport com.google.pubsub.v1.PubsubMessage\nimport org.slf4j.LoggerFactory\nimport org.springframework.stereotype.Component\n\n@Component\nclass Publisher(\n    gcpProjectIdProvider: GcpProjectIdProvider,\n    credentialsProvider: CredentialsProvider,\n    publisherTransportChannelProvider: TransportChannelProvider,\n) {\n\n    private val publisher = Publisher.newBuilder(\n        ProjectTopicName.ofProjectTopicName(\n            gcpProjectIdProvider.projectId,\n            \"json-topic\",\n        )\n    )\n        .setChannelProvider(publisherTransportChannelProvider)\n        .setCredentialsProvider(credentialsProvider)\n        .build()\n\n    fun publishUserCreated() {\n        val pubsubMessage = PubsubMessage.newBuilder()\n            .putAttributes(\"DOMAIN_OBJECT_ID\", \"12345\")\n            .setData(ByteString.copyFrom(\"{\\\"DOMAIN_OBJECT_ID\\\": \\\"12345\\\", \\\"name\\\": \\\"John Doe\\\"}\".toByteArray()))\n            .build()\n\n        val apiFuture = publisher.publish(pubsubMessage)\n        ApiFutures.addCallback(\n            apiFuture,\n            object : ApiFutureCallback\u003CString?> {\n                override fun onFailure(throwable: Throwable) {\n                    LOGGER.error(\"Error publishing user created event: $pubsubMessage\", throwable)\n                }\n\n                override fun onSuccess(messageId: String?) {\n                    LOGGER.trace(\"Published user created event, messageId: $messageId, PubSub-Message: $pubsubMessage\")\n                }\n            },\n            MoreExecutors.directExecutor(),\n        )\n    }\n\n    companion object {\n        private val LOGGER = LoggerFactory.getLogger(Publisher::class.java)\n    }\n}\n","Publisher.kt",[5314],{"type":35,"tag":112,"props":5315,"children":5316},{"__ignoreMap":9},[5317,5328,5335,5347,5359,5370,5382,5394,5405,5417,5429,5441,5452,5463,5470,5477,5493,5509,5525,5542,5549,5556,5590,5607,5615,5627,5634,5642,5660,5677,5693,5700,5716,5746,5779,5889,5904,5911,5942,5959,5967,5999,6031,6067,6075,6082,6112,6155,6162,6170,6188,6196,6204,6212,6228,6269,6277],{"type":35,"tag":116,"props":5318,"children":5319},{"class":118,"line":119},[5320,5324],{"type":35,"tag":116,"props":5321,"children":5322},{"style":1907},[5323],{"type":40,"value":1910},{"type":35,"tag":116,"props":5325,"children":5326},{"style":1789},[5327],{"type":40,"value":2257},{"type":35,"tag":116,"props":5329,"children":5330},{"class":118,"line":141},[5331],{"type":35,"tag":116,"props":5332,"children":5333},{"emptyLinePlaceholder":145},[5334],{"type":40,"value":148},{"type":35,"tag":116,"props":5336,"children":5337},{"class":118,"line":151},[5338,5342],{"type":35,"tag":116,"props":5339,"children":5340},{"style":1907},[5341],{"type":40,"value":1930},{"type":35,"tag":116,"props":5343,"children":5344},{"style":1789},[5345],{"type":40,"value":5346}," com.google.api.core.ApiFutureCallback\n",{"type":35,"tag":116,"props":5348,"children":5349},{"class":118,"line":165},[5350,5354],{"type":35,"tag":116,"props":5351,"children":5352},{"style":1907},[5353],{"type":40,"value":1930},{"type":35,"tag":116,"props":5355,"children":5356},{"style":1789},[5357],{"type":40,"value":5358}," com.google.api.core.ApiFutures\n",{"type":35,"tag":116,"props":5360,"children":5361},{"class":118,"line":174},[5362,5366],{"type":35,"tag":116,"props":5363,"children":5364},{"style":1907},[5365],{"type":40,"value":1930},{"type":35,"tag":116,"props":5367,"children":5368},{"style":1789},[5369],{"type":40,"value":1935},{"type":35,"tag":116,"props":5371,"children":5372},{"class":118,"line":187},[5373,5377],{"type":35,"tag":116,"props":5374,"children":5375},{"style":1907},[5376],{"type":40,"value":1930},{"type":35,"tag":116,"props":5378,"children":5379},{"style":1789},[5380],{"type":40,"value":5381}," com.google.api.gax.rpc.TransportChannelProvider\n",{"type":35,"tag":116,"props":5383,"children":5384},{"class":118,"line":205},[5385,5389],{"type":35,"tag":116,"props":5386,"children":5387},{"style":1907},[5388],{"type":40,"value":1930},{"type":35,"tag":116,"props":5390,"children":5391},{"style":1789},[5392],{"type":40,"value":5393}," com.google.cloud.pubsub.v1.Publisher\n",{"type":35,"tag":116,"props":5395,"children":5396},{"class":118,"line":223},[5397,5401],{"type":35,"tag":116,"props":5398,"children":5399},{"style":1907},[5400],{"type":40,"value":1930},{"type":35,"tag":116,"props":5402,"children":5403},{"style":1789},[5404],{"type":40,"value":1959},{"type":35,"tag":116,"props":5406,"children":5407},{"class":118,"line":236},[5408,5412],{"type":35,"tag":116,"props":5409,"children":5410},{"style":1907},[5411],{"type":40,"value":1930},{"type":35,"tag":116,"props":5413,"children":5414},{"style":1789},[5415],{"type":40,"value":5416}," com.google.common.util.concurrent.MoreExecutors\n",{"type":35,"tag":116,"props":5418,"children":5419},{"class":118,"line":250},[5420,5424],{"type":35,"tag":116,"props":5421,"children":5422},{"style":1907},[5423],{"type":40,"value":1930},{"type":35,"tag":116,"props":5425,"children":5426},{"style":1789},[5427],{"type":40,"value":5428}," com.google.pubsub.v1.ProjectTopicName\n",{"type":35,"tag":116,"props":5430,"children":5431},{"class":118,"line":263},[5432,5436],{"type":35,"tag":116,"props":5433,"children":5434},{"style":1907},[5435],{"type":40,"value":1930},{"type":35,"tag":116,"props":5437,"children":5438},{"style":1789},[5439],{"type":40,"value":5440}," com.google.pubsub.v1.PubsubMessage\n",{"type":35,"tag":116,"props":5442,"children":5443},{"class":118,"line":276},[5444,5448],{"type":35,"tag":116,"props":5445,"children":5446},{"style":1907},[5447],{"type":40,"value":1930},{"type":35,"tag":116,"props":5449,"children":5450},{"style":1789},[5451],{"type":40,"value":2785},{"type":35,"tag":116,"props":5453,"children":5454},{"class":118,"line":300},[5455,5459],{"type":35,"tag":116,"props":5456,"children":5457},{"style":1907},[5458],{"type":40,"value":1930},{"type":35,"tag":116,"props":5460,"children":5461},{"style":1789},[5462],{"type":40,"value":3720},{"type":35,"tag":116,"props":5464,"children":5465},{"class":118,"line":523},[5466],{"type":35,"tag":116,"props":5467,"children":5468},{"emptyLinePlaceholder":145},[5469],{"type":40,"value":148},{"type":35,"tag":116,"props":5471,"children":5472},{"class":118,"line":532},[5473],{"type":35,"tag":116,"props":5474,"children":5475},{"style":2008},[5476],{"type":40,"value":3735},{"type":35,"tag":116,"props":5478,"children":5479},{"class":118,"line":562},[5480,5484,5489],{"type":35,"tag":116,"props":5481,"children":5482},{"style":1907},[5483],{"type":40,"value":2019},{"type":35,"tag":116,"props":5485,"children":5486},{"style":2008},[5487],{"type":40,"value":5488}," Publisher",{"type":35,"tag":116,"props":5490,"children":5491},{"style":129},[5492],{"type":40,"value":2055},{"type":35,"tag":116,"props":5494,"children":5495},{"class":118,"line":580},[5496,5501,5505],{"type":35,"tag":116,"props":5497,"children":5498},{"style":129},[5499],{"type":40,"value":5500},"    gcpProjectIdProvider: ",{"type":35,"tag":116,"props":5502,"children":5503},{"style":2008},[5504],{"type":40,"value":2110},{"type":35,"tag":116,"props":5506,"children":5507},{"style":129},[5508],{"type":40,"value":1393},{"type":35,"tag":116,"props":5510,"children":5511},{"class":118,"line":594},[5512,5517,5521],{"type":35,"tag":116,"props":5513,"children":5514},{"style":129},[5515],{"type":40,"value":5516},"    credentialsProvider: ",{"type":35,"tag":116,"props":5518,"children":5519},{"style":2008},[5520],{"type":40,"value":2175},{"type":35,"tag":116,"props":5522,"children":5523},{"style":129},[5524],{"type":40,"value":1393},{"type":35,"tag":116,"props":5526,"children":5527},{"class":118,"line":602},[5528,5533,5538],{"type":35,"tag":116,"props":5529,"children":5530},{"style":129},[5531],{"type":40,"value":5532},"    publisherTransportChannelProvider: ",{"type":35,"tag":116,"props":5534,"children":5535},{"style":2008},[5536],{"type":40,"value":5537},"TransportChannelProvider",{"type":35,"tag":116,"props":5539,"children":5540},{"style":129},[5541],{"type":40,"value":1393},{"type":35,"tag":116,"props":5543,"children":5544},{"class":118,"line":631},[5545],{"type":35,"tag":116,"props":5546,"children":5547},{"style":129},[5548],{"type":40,"value":4261},{"type":35,"tag":116,"props":5550,"children":5551},{"class":118,"line":647},[5552],{"type":35,"tag":116,"props":5553,"children":5554},{"emptyLinePlaceholder":145},[5555],{"type":40,"value":148},{"type":35,"tag":116,"props":5557,"children":5558},{"class":118,"line":660},[5559,5563,5567,5572,5576,5581,5586],{"type":35,"tag":116,"props":5560,"children":5561},{"style":1907},[5562],{"type":40,"value":4998},{"type":35,"tag":116,"props":5564,"children":5565},{"style":1907},[5566],{"type":40,"value":3509},{"type":35,"tag":116,"props":5568,"children":5569},{"style":129},[5570],{"type":40,"value":5571}," publisher ",{"type":35,"tag":116,"props":5573,"children":5574},{"style":1907},[5575],{"type":40,"value":2535},{"type":35,"tag":116,"props":5577,"children":5578},{"style":129},[5579],{"type":40,"value":5580}," Publisher.",{"type":35,"tag":116,"props":5582,"children":5583},{"style":367},[5584],{"type":40,"value":5585},"newBuilder",{"type":35,"tag":116,"props":5587,"children":5588},{"style":129},[5589],{"type":40,"value":2055},{"type":35,"tag":116,"props":5591,"children":5592},{"class":118,"line":668},[5593,5598,5603],{"type":35,"tag":116,"props":5594,"children":5595},{"style":129},[5596],{"type":40,"value":5597},"        ProjectTopicName.",{"type":35,"tag":116,"props":5599,"children":5600},{"style":367},[5601],{"type":40,"value":5602},"ofProjectTopicName",{"type":35,"tag":116,"props":5604,"children":5605},{"style":129},[5606],{"type":40,"value":2055},{"type":35,"tag":116,"props":5608,"children":5609},{"class":118,"line":677},[5610],{"type":35,"tag":116,"props":5611,"children":5612},{"style":129},[5613],{"type":40,"value":5614},"            gcpProjectIdProvider.projectId,\n",{"type":35,"tag":116,"props":5616,"children":5617},{"class":118,"line":2564},[5618,5623],{"type":35,"tag":116,"props":5619,"children":5620},{"style":135},[5621],{"type":40,"value":5622},"            \"json-topic\"",{"type":35,"tag":116,"props":5624,"children":5625},{"style":129},[5626],{"type":40,"value":1393},{"type":35,"tag":116,"props":5628,"children":5629},{"class":118,"line":2572},[5630],{"type":35,"tag":116,"props":5631,"children":5632},{"style":129},[5633],{"type":40,"value":5199},{"type":35,"tag":116,"props":5635,"children":5636},{"class":118,"line":2580},[5637],{"type":35,"tag":116,"props":5638,"children":5639},{"style":129},[5640],{"type":40,"value":5641},"    )\n",{"type":35,"tag":116,"props":5643,"children":5644},{"class":118,"line":2615},[5645,5650,5655],{"type":35,"tag":116,"props":5646,"children":5647},{"style":129},[5648],{"type":40,"value":5649},"        .",{"type":35,"tag":116,"props":5651,"children":5652},{"style":367},[5653],{"type":40,"value":5654},"setChannelProvider",{"type":35,"tag":116,"props":5656,"children":5657},{"style":129},[5658],{"type":40,"value":5659},"(publisherTransportChannelProvider)\n",{"type":35,"tag":116,"props":5661,"children":5662},{"class":118,"line":3031},[5663,5667,5672],{"type":35,"tag":116,"props":5664,"children":5665},{"style":129},[5666],{"type":40,"value":5649},{"type":35,"tag":116,"props":5668,"children":5669},{"style":367},[5670],{"type":40,"value":5671},"setCredentialsProvider",{"type":35,"tag":116,"props":5673,"children":5674},{"style":129},[5675],{"type":40,"value":5676},"(credentialsProvider)\n",{"type":35,"tag":116,"props":5678,"children":5679},{"class":118,"line":3043},[5680,5684,5689],{"type":35,"tag":116,"props":5681,"children":5682},{"style":129},[5683],{"type":40,"value":5649},{"type":35,"tag":116,"props":5685,"children":5686},{"style":367},[5687],{"type":40,"value":5688},"build",{"type":35,"tag":116,"props":5690,"children":5691},{"style":129},[5692],{"type":40,"value":2201},{"type":35,"tag":116,"props":5694,"children":5695},{"class":118,"line":3051},[5696],{"type":35,"tag":116,"props":5697,"children":5698},{"emptyLinePlaceholder":145},[5699],{"type":40,"value":148},{"type":35,"tag":116,"props":5701,"children":5702},{"class":118,"line":3059},[5703,5707,5712],{"type":35,"tag":116,"props":5704,"children":5705},{"style":1907},[5706],{"type":40,"value":2045},{"type":35,"tag":116,"props":5708,"children":5709},{"style":367},[5710],{"type":40,"value":5711}," publishUserCreated",{"type":35,"tag":116,"props":5713,"children":5714},{"style":129},[5715],{"type":40,"value":5066},{"type":35,"tag":116,"props":5717,"children":5718},{"class":118,"line":3067},[5719,5724,5729,5733,5738,5742],{"type":35,"tag":116,"props":5720,"children":5721},{"style":1907},[5722],{"type":40,"value":5723},"        val",{"type":35,"tag":116,"props":5725,"children":5726},{"style":129},[5727],{"type":40,"value":5728}," pubsubMessage ",{"type":35,"tag":116,"props":5730,"children":5731},{"style":1907},[5732],{"type":40,"value":2535},{"type":35,"tag":116,"props":5734,"children":5735},{"style":129},[5736],{"type":40,"value":5737}," PubsubMessage.",{"type":35,"tag":116,"props":5739,"children":5740},{"style":367},[5741],{"type":40,"value":5585},{"type":35,"tag":116,"props":5743,"children":5744},{"style":129},[5745],{"type":40,"value":2201},{"type":35,"tag":116,"props":5747,"children":5748},{"class":118,"line":3099},[5749,5754,5759,5763,5767,5771,5775],{"type":35,"tag":116,"props":5750,"children":5751},{"style":129},[5752],{"type":40,"value":5753},"            .",{"type":35,"tag":116,"props":5755,"children":5756},{"style":367},[5757],{"type":40,"value":5758},"putAttributes",{"type":35,"tag":116,"props":5760,"children":5761},{"style":129},[5762],{"type":40,"value":1684},{"type":35,"tag":116,"props":5764,"children":5765},{"style":135},[5766],{"type":40,"value":3833},{"type":35,"tag":116,"props":5768,"children":5769},{"style":129},[5770],{"type":40,"value":4831},{"type":35,"tag":116,"props":5772,"children":5773},{"style":135},[5774],{"type":40,"value":1435},{"type":35,"tag":116,"props":5776,"children":5777},{"style":129},[5778],{"type":40,"value":1694},{"type":35,"tag":116,"props":5780,"children":5781},{"class":118,"line":3107},[5782,5786,5791,5796,5801,5805,5810,5814,5818,5822,5826,5830,5834,5838,5842,5846,5850,5854,5858,5862,5866,5870,5874,5879,5884],{"type":35,"tag":116,"props":5783,"children":5784},{"style":129},[5785],{"type":40,"value":5753},{"type":35,"tag":116,"props":5787,"children":5788},{"style":367},[5789],{"type":40,"value":5790},"setData",{"type":35,"tag":116,"props":5792,"children":5793},{"style":129},[5794],{"type":40,"value":5795},"(ByteString.",{"type":35,"tag":116,"props":5797,"children":5798},{"style":367},[5799],{"type":40,"value":5800},"copyFrom",{"type":35,"tag":116,"props":5802,"children":5803},{"style":129},[5804],{"type":40,"value":1684},{"type":35,"tag":116,"props":5806,"children":5807},{"style":135},[5808],{"type":40,"value":5809},"\"{",{"type":35,"tag":116,"props":5811,"children":5812},{"style":393},[5813],{"type":40,"value":5105},{"type":35,"tag":116,"props":5815,"children":5816},{"style":135},[5817],{"type":40,"value":5110},{"type":35,"tag":116,"props":5819,"children":5820},{"style":393},[5821],{"type":40,"value":5105},{"type":35,"tag":116,"props":5823,"children":5824},{"style":135},[5825],{"type":40,"value":132},{"type":35,"tag":116,"props":5827,"children":5828},{"style":393},[5829],{"type":40,"value":5105},{"type":35,"tag":116,"props":5831,"children":5832},{"style":135},[5833],{"type":40,"value":5127},{"type":35,"tag":116,"props":5835,"children":5836},{"style":393},[5837],{"type":40,"value":5105},{"type":35,"tag":116,"props":5839,"children":5840},{"style":135},[5841],{"type":40,"value":4831},{"type":35,"tag":116,"props":5843,"children":5844},{"style":393},[5845],{"type":40,"value":5105},{"type":35,"tag":116,"props":5847,"children":5848},{"style":135},[5849],{"type":40,"value":5144},{"type":35,"tag":116,"props":5851,"children":5852},{"style":393},[5853],{"type":40,"value":5105},{"type":35,"tag":116,"props":5855,"children":5856},{"style":135},[5857],{"type":40,"value":132},{"type":35,"tag":116,"props":5859,"children":5860},{"style":393},[5861],{"type":40,"value":5105},{"type":35,"tag":116,"props":5863,"children":5864},{"style":135},[5865],{"type":40,"value":5161},{"type":35,"tag":116,"props":5867,"children":5868},{"style":393},[5869],{"type":40,"value":5105},{"type":35,"tag":116,"props":5871,"children":5872},{"style":135},[5873],{"type":40,"value":5170},{"type":35,"tag":116,"props":5875,"children":5876},{"style":129},[5877],{"type":40,"value":5878},".",{"type":35,"tag":116,"props":5880,"children":5881},{"style":367},[5882],{"type":40,"value":5883},"toByteArray",{"type":35,"tag":116,"props":5885,"children":5886},{"style":129},[5887],{"type":40,"value":5888},"()))\n",{"type":35,"tag":116,"props":5890,"children":5891},{"class":118,"line":3115},[5892,5896,5900],{"type":35,"tag":116,"props":5893,"children":5894},{"style":129},[5895],{"type":40,"value":5753},{"type":35,"tag":116,"props":5897,"children":5898},{"style":367},[5899],{"type":40,"value":5688},{"type":35,"tag":116,"props":5901,"children":5902},{"style":129},[5903],{"type":40,"value":2201},{"type":35,"tag":116,"props":5905,"children":5906},{"class":118,"line":3142},[5907],{"type":35,"tag":116,"props":5908,"children":5909},{"emptyLinePlaceholder":145},[5910],{"type":40,"value":148},{"type":35,"tag":116,"props":5912,"children":5913},{"class":118,"line":3167},[5914,5918,5923,5927,5932,5937],{"type":35,"tag":116,"props":5915,"children":5916},{"style":1907},[5917],{"type":40,"value":5723},{"type":35,"tag":116,"props":5919,"children":5920},{"style":129},[5921],{"type":40,"value":5922}," apiFuture ",{"type":35,"tag":116,"props":5924,"children":5925},{"style":1907},[5926],{"type":40,"value":2535},{"type":35,"tag":116,"props":5928,"children":5929},{"style":129},[5930],{"type":40,"value":5931}," publisher.",{"type":35,"tag":116,"props":5933,"children":5934},{"style":367},[5935],{"type":40,"value":5936},"publish",{"type":35,"tag":116,"props":5938,"children":5939},{"style":129},[5940],{"type":40,"value":5941},"(pubsubMessage)\n",{"type":35,"tag":116,"props":5943,"children":5944},{"class":118,"line":3187},[5945,5950,5955],{"type":35,"tag":116,"props":5946,"children":5947},{"style":129},[5948],{"type":40,"value":5949},"        ApiFutures.",{"type":35,"tag":116,"props":5951,"children":5952},{"style":367},[5953],{"type":40,"value":5954},"addCallback",{"type":35,"tag":116,"props":5956,"children":5957},{"style":129},[5958],{"type":40,"value":2055},{"type":35,"tag":116,"props":5960,"children":5961},{"class":118,"line":3249},[5962],{"type":35,"tag":116,"props":5963,"children":5964},{"style":129},[5965],{"type":40,"value":5966},"            apiFuture,\n",{"type":35,"tag":116,"props":5968,"children":5969},{"class":118,"line":3291},[5970,5975,5980,5985,5990,5994],{"type":35,"tag":116,"props":5971,"children":5972},{"style":1907},[5973],{"type":40,"value":5974},"            object",{"type":35,"tag":116,"props":5976,"children":5977},{"style":129},[5978],{"type":40,"value":5979}," : ",{"type":35,"tag":116,"props":5981,"children":5982},{"style":2008},[5983],{"type":40,"value":5984},"ApiFutureCallback",{"type":35,"tag":116,"props":5986,"children":5987},{"style":129},[5988],{"type":40,"value":5989},"\u003C",{"type":35,"tag":116,"props":5991,"children":5992},{"style":2008},[5993],{"type":40,"value":2092},{"type":35,"tag":116,"props":5995,"children":5996},{"style":129},[5997],{"type":40,"value":5998},"?> {\n",{"type":35,"tag":116,"props":6000,"children":6001},{"class":118,"line":3343},[6002,6007,6012,6017,6022,6027],{"type":35,"tag":116,"props":6003,"children":6004},{"style":1907},[6005],{"type":40,"value":6006},"                override",{"type":35,"tag":116,"props":6008,"children":6009},{"style":1907},[6010],{"type":40,"value":6011}," fun",{"type":35,"tag":116,"props":6013,"children":6014},{"style":367},[6015],{"type":40,"value":6016}," onFailure",{"type":35,"tag":116,"props":6018,"children":6019},{"style":129},[6020],{"type":40,"value":6021},"(throwable: ",{"type":35,"tag":116,"props":6023,"children":6024},{"style":2008},[6025],{"type":40,"value":6026},"Throwable",{"type":35,"tag":116,"props":6028,"children":6029},{"style":129},[6030],{"type":40,"value":4261},{"type":35,"tag":116,"props":6032,"children":6033},{"class":118,"line":3404},[6034,6039,6044,6048,6053,6058,6062],{"type":35,"tag":116,"props":6035,"children":6036},{"style":129},[6037],{"type":40,"value":6038},"                    LOGGER.",{"type":35,"tag":116,"props":6040,"children":6041},{"style":367},[6042],{"type":40,"value":6043},"error",{"type":35,"tag":116,"props":6045,"children":6046},{"style":129},[6047],{"type":40,"value":1684},{"type":35,"tag":116,"props":6049,"children":6050},{"style":135},[6051],{"type":40,"value":6052},"\"Error publishing user created event: ",{"type":35,"tag":116,"props":6054,"children":6055},{"style":3899},[6056],{"type":40,"value":6057},"$pubsubMessage",{"type":35,"tag":116,"props":6059,"children":6060},{"style":135},[6061],{"type":40,"value":2072},{"type":35,"tag":116,"props":6063,"children":6064},{"style":129},[6065],{"type":40,"value":6066},", throwable)\n",{"type":35,"tag":116,"props":6068,"children":6069},{"class":118,"line":3446},[6070],{"type":35,"tag":116,"props":6071,"children":6072},{"style":129},[6073],{"type":40,"value":6074},"                }\n",{"type":35,"tag":116,"props":6076,"children":6077},{"class":118,"line":3464},[6078],{"type":35,"tag":116,"props":6079,"children":6080},{"emptyLinePlaceholder":145},[6081],{"type":40,"value":148},{"type":35,"tag":116,"props":6083,"children":6084},{"class":118,"line":3472},[6085,6089,6093,6098,6103,6107],{"type":35,"tag":116,"props":6086,"children":6087},{"style":1907},[6088],{"type":40,"value":6006},{"type":35,"tag":116,"props":6090,"children":6091},{"style":1907},[6092],{"type":40,"value":6011},{"type":35,"tag":116,"props":6094,"children":6095},{"style":367},[6096],{"type":40,"value":6097}," onSuccess",{"type":35,"tag":116,"props":6099,"children":6100},{"style":129},[6101],{"type":40,"value":6102},"(messageId: ",{"type":35,"tag":116,"props":6104,"children":6105},{"style":2008},[6106],{"type":40,"value":2092},{"type":35,"tag":116,"props":6108,"children":6109},{"style":129},[6110],{"type":40,"value":6111},"?) {\n",{"type":35,"tag":116,"props":6113,"children":6114},{"class":118,"line":3480},[6115,6119,6124,6128,6133,6138,6143,6147,6151],{"type":35,"tag":116,"props":6116,"children":6117},{"style":129},[6118],{"type":40,"value":6038},{"type":35,"tag":116,"props":6120,"children":6121},{"style":367},[6122],{"type":40,"value":6123},"trace",{"type":35,"tag":116,"props":6125,"children":6126},{"style":129},[6127],{"type":40,"value":1684},{"type":35,"tag":116,"props":6129,"children":6130},{"style":135},[6131],{"type":40,"value":6132},"\"Published user created event, messageId: ",{"type":35,"tag":116,"props":6134,"children":6135},{"style":3899},[6136],{"type":40,"value":6137},"$messageId",{"type":35,"tag":116,"props":6139,"children":6140},{"style":135},[6141],{"type":40,"value":6142},", PubSub-Message: ",{"type":35,"tag":116,"props":6144,"children":6145},{"style":3899},[6146],{"type":40,"value":6057},{"type":35,"tag":116,"props":6148,"children":6149},{"style":135},[6150],{"type":40,"value":2072},{"type":35,"tag":116,"props":6152,"children":6153},{"style":129},[6154],{"type":40,"value":1694},{"type":35,"tag":116,"props":6156,"children":6157},{"class":118,"line":3498},[6158],{"type":35,"tag":116,"props":6159,"children":6160},{"style":129},[6161],{"type":40,"value":6074},{"type":35,"tag":116,"props":6163,"children":6164},{"class":118,"line":3549},[6165],{"type":35,"tag":116,"props":6166,"children":6167},{"style":129},[6168],{"type":40,"value":6169},"            },\n",{"type":35,"tag":116,"props":6171,"children":6172},{"class":118,"line":3557},[6173,6178,6183],{"type":35,"tag":116,"props":6174,"children":6175},{"style":129},[6176],{"type":40,"value":6177},"            MoreExecutors.",{"type":35,"tag":116,"props":6179,"children":6180},{"style":367},[6181],{"type":40,"value":6182},"directExecutor",{"type":35,"tag":116,"props":6184,"children":6185},{"style":129},[6186],{"type":40,"value":6187},"(),\n",{"type":35,"tag":116,"props":6189,"children":6191},{"class":118,"line":6190},51,[6192],{"type":35,"tag":116,"props":6193,"children":6194},{"style":129},[6195],{"type":40,"value":5199},{"type":35,"tag":116,"props":6197,"children":6199},{"class":118,"line":6198},52,[6200],{"type":35,"tag":116,"props":6201,"children":6202},{"style":129},[6203],{"type":40,"value":946},{"type":35,"tag":116,"props":6205,"children":6207},{"class":118,"line":6206},53,[6208],{"type":35,"tag":116,"props":6209,"children":6210},{"emptyLinePlaceholder":145},[6211],{"type":40,"value":148},{"type":35,"tag":116,"props":6213,"children":6215},{"class":118,"line":6214},54,[6216,6220,6224],{"type":35,"tag":116,"props":6217,"children":6218},{"style":1907},[6219],{"type":40,"value":3486},{"type":35,"tag":116,"props":6221,"children":6222},{"style":1907},[6223],{"type":40,"value":3491},{"type":35,"tag":116,"props":6225,"children":6226},{"style":129},[6227],{"type":40,"value":2029},{"type":35,"tag":116,"props":6229,"children":6231},{"class":118,"line":6230},55,[6232,6236,6240,6244,6248,6252,6256,6261,6265],{"type":35,"tag":116,"props":6233,"children":6234},{"style":1907},[6235],{"type":40,"value":3504},{"type":35,"tag":116,"props":6237,"children":6238},{"style":1907},[6239],{"type":40,"value":3509},{"type":35,"tag":116,"props":6241,"children":6242},{"style":129},[6243],{"type":40,"value":4037},{"type":35,"tag":116,"props":6245,"children":6246},{"style":1907},[6247],{"type":40,"value":2535},{"type":35,"tag":116,"props":6249,"children":6250},{"style":129},[6251],{"type":40,"value":3528},{"type":35,"tag":116,"props":6253,"children":6254},{"style":367},[6255],{"type":40,"value":3533},{"type":35,"tag":116,"props":6257,"children":6258},{"style":129},[6259],{"type":40,"value":6260},"(Publisher::",{"type":35,"tag":116,"props":6262,"children":6263},{"style":367},[6264],{"type":40,"value":2019},{"type":35,"tag":116,"props":6266,"children":6267},{"style":129},[6268],{"type":40,"value":3340},{"type":35,"tag":116,"props":6270,"children":6272},{"class":118,"line":6271},56,[6273],{"type":35,"tag":116,"props":6274,"children":6275},{"style":129},[6276],{"type":40,"value":946},{"type":35,"tag":116,"props":6278,"children":6280},{"class":118,"line":6279},57,[6281],{"type":35,"tag":116,"props":6282,"children":6283},{"style":129},[6284],{"type":40,"value":1524},{"type":35,"tag":48,"props":6286,"children":6288},{"id":6287},"quarkus-project",[6289],{"type":40,"value":6290},"Quarkus Project",{"type":35,"tag":36,"props":6292,"children":6293},{},[6294,6296,6302],{"type":40,"value":6295},"Start by creating a new Quarkus project. You can use the Quarkus Initializer (",{"type":35,"tag":1111,"props":6297,"children":6300},{"href":6298,"rel":6299,"target":1117},"https://code.quarkus.io/",[1115,1116],[6301],{"type":40,"value":6298},{"type":40,"value":1648},{"type":35,"tag":36,"props":6304,"children":6305},{},[6306],{"type":35,"tag":1653,"props":6307,"children":6310},{"alt":6308,"src":6309},"Quarkus Code Generator","/tutorials/spring-quarkus-google-pubsub/code-quarkus-generator.png",[],{"type":35,"tag":36,"props":6312,"children":6313},{},[6314,6316,6321],{"type":40,"value":6315},"This will then have the following dependencies in your ",{"type":35,"tag":112,"props":6317,"children":6319},{"className":6318},[],[6320],{"type":40,"value":1667},{"type":40,"value":6322}," file:",{"type":35,"tag":104,"props":6324,"children":6326},{"className":1665,"code":6325,"filename":1667,"language":17,"meta":9,"style":9},"dependencies {\n    implementation(enforcedPlatform(\"${quarkusPlatformGroupId}:${quarkusPlatformArtifactId}:${quarkusPlatformVersion}\"))\n    implementation(enforcedPlatform(\"${quarkusPlatformGroupId}:quarkus-google-cloud-services-bom:${quarkusPlatformVersion}\"))\n    implementation(\"io.quarkus:quarkus-kotlin\")\n    implementation(\"io.quarkiverse.googlecloudservices:quarkus-google-cloud-pubsub\")\n    implementation(\"io.quarkus:quarkus-config-yaml\")\n    implementation(\"io.quarkus:quarkus-rest-kotlin-serialization\")\n    implementation(\"org.jetbrains.kotlin:kotlin-stdlib-jdk8\")\n    implementation(\"io.quarkus:quarkus-arc\")\n    implementation(\"io.quarkus:quarkus-rest\")\n    implementation(\"dev.oshai:kotlin-logging-jvm:7.0.0\")\n    testImplementation(\"io.quarkus:quarkus-junit5\")\n    testImplementation(\"io.rest-assured:rest-assured\")\n}\n",[6327],{"type":35,"tag":112,"props":6328,"children":6329},{"__ignoreMap":9},[6330,6342,6423,6483,6503,6523,6543,6563,6583,6603,6623,6643,6664,6684],{"type":35,"tag":116,"props":6331,"children":6332},{"class":118,"line":119},[6333,6338],{"type":35,"tag":116,"props":6334,"children":6335},{"style":367},[6336],{"type":40,"value":6337},"dependencies",{"type":35,"tag":116,"props":6339,"children":6340},{"style":129},[6341],{"type":40,"value":2029},{"type":35,"tag":116,"props":6343,"children":6344},{"class":118,"line":141},[6345,6350,6354,6359,6363,6367,6371,6376,6380,6384,6388,6393,6397,6401,6405,6410,6414,6418],{"type":35,"tag":116,"props":6346,"children":6347},{"style":367},[6348],{"type":40,"value":6349},"    implementation",{"type":35,"tag":116,"props":6351,"children":6352},{"style":129},[6353],{"type":40,"value":1684},{"type":35,"tag":116,"props":6355,"children":6356},{"style":367},[6357],{"type":40,"value":6358},"enforcedPlatform",{"type":35,"tag":116,"props":6360,"children":6361},{"style":129},[6362],{"type":40,"value":1684},{"type":35,"tag":116,"props":6364,"children":6365},{"style":135},[6366],{"type":40,"value":2072},{"type":35,"tag":116,"props":6368,"children":6369},{"style":3210},[6370],{"type":40,"value":3213},{"type":35,"tag":116,"props":6372,"children":6373},{"style":3220},[6374],{"type":40,"value":6375},"quarkusPlatformGroupId",{"type":35,"tag":116,"props":6377,"children":6378},{"style":3210},[6379],{"type":40,"value":3238},{"type":35,"tag":116,"props":6381,"children":6382},{"style":135},[6383],{"type":40,"value":5233},{"type":35,"tag":116,"props":6385,"children":6386},{"style":3210},[6387],{"type":40,"value":3213},{"type":35,"tag":116,"props":6389,"children":6390},{"style":3220},[6391],{"type":40,"value":6392},"quarkusPlatformArtifactId",{"type":35,"tag":116,"props":6394,"children":6395},{"style":3210},[6396],{"type":40,"value":3238},{"type":35,"tag":116,"props":6398,"children":6399},{"style":135},[6400],{"type":40,"value":5233},{"type":35,"tag":116,"props":6402,"children":6403},{"style":3210},[6404],{"type":40,"value":3213},{"type":35,"tag":116,"props":6406,"children":6407},{"style":3220},[6408],{"type":40,"value":6409},"quarkusPlatformVersion",{"type":35,"tag":116,"props":6411,"children":6412},{"style":3210},[6413],{"type":40,"value":3238},{"type":35,"tag":116,"props":6415,"children":6416},{"style":135},[6417],{"type":40,"value":2072},{"type":35,"tag":116,"props":6419,"children":6420},{"style":129},[6421],{"type":40,"value":6422},"))\n",{"type":35,"tag":116,"props":6424,"children":6425},{"class":118,"line":151},[6426,6430,6434,6438,6442,6446,6450,6454,6458,6463,6467,6471,6475,6479],{"type":35,"tag":116,"props":6427,"children":6428},{"style":367},[6429],{"type":40,"value":6349},{"type":35,"tag":116,"props":6431,"children":6432},{"style":129},[6433],{"type":40,"value":1684},{"type":35,"tag":116,"props":6435,"children":6436},{"style":367},[6437],{"type":40,"value":6358},{"type":35,"tag":116,"props":6439,"children":6440},{"style":129},[6441],{"type":40,"value":1684},{"type":35,"tag":116,"props":6443,"children":6444},{"style":135},[6445],{"type":40,"value":2072},{"type":35,"tag":116,"props":6447,"children":6448},{"style":3210},[6449],{"type":40,"value":3213},{"type":35,"tag":116,"props":6451,"children":6452},{"style":3220},[6453],{"type":40,"value":6375},{"type":35,"tag":116,"props":6455,"children":6456},{"style":3210},[6457],{"type":40,"value":3238},{"type":35,"tag":116,"props":6459,"children":6460},{"style":135},[6461],{"type":40,"value":6462},":quarkus-google-cloud-services-bom:",{"type":35,"tag":116,"props":6464,"children":6465},{"style":3210},[6466],{"type":40,"value":3213},{"type":35,"tag":116,"props":6468,"children":6469},{"style":3220},[6470],{"type":40,"value":6409},{"type":35,"tag":116,"props":6472,"children":6473},{"style":3210},[6474],{"type":40,"value":3238},{"type":35,"tag":116,"props":6476,"children":6477},{"style":135},[6478],{"type":40,"value":2072},{"type":35,"tag":116,"props":6480,"children":6481},{"style":129},[6482],{"type":40,"value":6422},{"type":35,"tag":116,"props":6484,"children":6485},{"class":118,"line":165},[6486,6490,6494,6499],{"type":35,"tag":116,"props":6487,"children":6488},{"style":367},[6489],{"type":40,"value":6349},{"type":35,"tag":116,"props":6491,"children":6492},{"style":129},[6493],{"type":40,"value":1684},{"type":35,"tag":116,"props":6495,"children":6496},{"style":135},[6497],{"type":40,"value":6498},"\"io.quarkus:quarkus-kotlin\"",{"type":35,"tag":116,"props":6500,"children":6501},{"style":129},[6502],{"type":40,"value":1694},{"type":35,"tag":116,"props":6504,"children":6505},{"class":118,"line":174},[6506,6510,6514,6519],{"type":35,"tag":116,"props":6507,"children":6508},{"style":367},[6509],{"type":40,"value":6349},{"type":35,"tag":116,"props":6511,"children":6512},{"style":129},[6513],{"type":40,"value":1684},{"type":35,"tag":116,"props":6515,"children":6516},{"style":135},[6517],{"type":40,"value":6518},"\"io.quarkiverse.googlecloudservices:quarkus-google-cloud-pubsub\"",{"type":35,"tag":116,"props":6520,"children":6521},{"style":129},[6522],{"type":40,"value":1694},{"type":35,"tag":116,"props":6524,"children":6525},{"class":118,"line":187},[6526,6530,6534,6539],{"type":35,"tag":116,"props":6527,"children":6528},{"style":367},[6529],{"type":40,"value":6349},{"type":35,"tag":116,"props":6531,"children":6532},{"style":129},[6533],{"type":40,"value":1684},{"type":35,"tag":116,"props":6535,"children":6536},{"style":135},[6537],{"type":40,"value":6538},"\"io.quarkus:quarkus-config-yaml\"",{"type":35,"tag":116,"props":6540,"children":6541},{"style":129},[6542],{"type":40,"value":1694},{"type":35,"tag":116,"props":6544,"children":6545},{"class":118,"line":205},[6546,6550,6554,6559],{"type":35,"tag":116,"props":6547,"children":6548},{"style":367},[6549],{"type":40,"value":6349},{"type":35,"tag":116,"props":6551,"children":6552},{"style":129},[6553],{"type":40,"value":1684},{"type":35,"tag":116,"props":6555,"children":6556},{"style":135},[6557],{"type":40,"value":6558},"\"io.quarkus:quarkus-rest-kotlin-serialization\"",{"type":35,"tag":116,"props":6560,"children":6561},{"style":129},[6562],{"type":40,"value":1694},{"type":35,"tag":116,"props":6564,"children":6565},{"class":118,"line":223},[6566,6570,6574,6579],{"type":35,"tag":116,"props":6567,"children":6568},{"style":367},[6569],{"type":40,"value":6349},{"type":35,"tag":116,"props":6571,"children":6572},{"style":129},[6573],{"type":40,"value":1684},{"type":35,"tag":116,"props":6575,"children":6576},{"style":135},[6577],{"type":40,"value":6578},"\"org.jetbrains.kotlin:kotlin-stdlib-jdk8\"",{"type":35,"tag":116,"props":6580,"children":6581},{"style":129},[6582],{"type":40,"value":1694},{"type":35,"tag":116,"props":6584,"children":6585},{"class":118,"line":236},[6586,6590,6594,6599],{"type":35,"tag":116,"props":6587,"children":6588},{"style":367},[6589],{"type":40,"value":6349},{"type":35,"tag":116,"props":6591,"children":6592},{"style":129},[6593],{"type":40,"value":1684},{"type":35,"tag":116,"props":6595,"children":6596},{"style":135},[6597],{"type":40,"value":6598},"\"io.quarkus:quarkus-arc\"",{"type":35,"tag":116,"props":6600,"children":6601},{"style":129},[6602],{"type":40,"value":1694},{"type":35,"tag":116,"props":6604,"children":6605},{"class":118,"line":250},[6606,6610,6614,6619],{"type":35,"tag":116,"props":6607,"children":6608},{"style":367},[6609],{"type":40,"value":6349},{"type":35,"tag":116,"props":6611,"children":6612},{"style":129},[6613],{"type":40,"value":1684},{"type":35,"tag":116,"props":6615,"children":6616},{"style":135},[6617],{"type":40,"value":6618},"\"io.quarkus:quarkus-rest\"",{"type":35,"tag":116,"props":6620,"children":6621},{"style":129},[6622],{"type":40,"value":1694},{"type":35,"tag":116,"props":6624,"children":6625},{"class":118,"line":263},[6626,6630,6634,6639],{"type":35,"tag":116,"props":6627,"children":6628},{"style":367},[6629],{"type":40,"value":6349},{"type":35,"tag":116,"props":6631,"children":6632},{"style":129},[6633],{"type":40,"value":1684},{"type":35,"tag":116,"props":6635,"children":6636},{"style":135},[6637],{"type":40,"value":6638},"\"dev.oshai:kotlin-logging-jvm:7.0.0\"",{"type":35,"tag":116,"props":6640,"children":6641},{"style":129},[6642],{"type":40,"value":1694},{"type":35,"tag":116,"props":6644,"children":6645},{"class":118,"line":276},[6646,6651,6655,6660],{"type":35,"tag":116,"props":6647,"children":6648},{"style":367},[6649],{"type":40,"value":6650},"    testImplementation",{"type":35,"tag":116,"props":6652,"children":6653},{"style":129},[6654],{"type":40,"value":1684},{"type":35,"tag":116,"props":6656,"children":6657},{"style":135},[6658],{"type":40,"value":6659},"\"io.quarkus:quarkus-junit5\"",{"type":35,"tag":116,"props":6661,"children":6662},{"style":129},[6663],{"type":40,"value":1694},{"type":35,"tag":116,"props":6665,"children":6666},{"class":118,"line":300},[6667,6671,6675,6680],{"type":35,"tag":116,"props":6668,"children":6669},{"style":367},[6670],{"type":40,"value":6650},{"type":35,"tag":116,"props":6672,"children":6673},{"style":129},[6674],{"type":40,"value":1684},{"type":35,"tag":116,"props":6676,"children":6677},{"style":135},[6678],{"type":40,"value":6679},"\"io.rest-assured:rest-assured\"",{"type":35,"tag":116,"props":6681,"children":6682},{"style":129},[6683],{"type":40,"value":1694},{"type":35,"tag":116,"props":6685,"children":6686},{"class":118,"line":523},[6687],{"type":35,"tag":116,"props":6688,"children":6689},{"style":129},[6690],{"type":40,"value":1524},{"type":35,"tag":36,"props":6692,"children":6693},{},[6694,6696,6702],{"type":40,"value":6695},"NOTE: I´ve added ",{"type":35,"tag":112,"props":6697,"children":6699},{"className":6698},[],[6700],{"type":40,"value":6701},"implementation(\"dev.oshai:kotlin-logging-jvm:7.0.0\")",{"type":40,"value":6703}," to also have logging in place.",{"type":35,"tag":1751,"props":6705,"children":6707},{"id":6706},"creating-the-model-dto-class",[6708],{"type":40,"value":6709},"Creating the model dto class",{"type":35,"tag":36,"props":6711,"children":6712},{},[6713,6715,6721],{"type":40,"value":6714},"In order to pass around data let´s reuse the ",{"type":35,"tag":112,"props":6716,"children":6718},{"className":6717},[],[6719],{"type":40,"value":6720},"Event",{"type":40,"value":6722}," class from the Spring Boot example:",{"type":35,"tag":104,"props":6724,"children":6727},{"className":1665,"code":6725,"filename":6726,"language":17,"meta":9,"style":9},"package dev.simonscholz.model\n\ndata class Event(val id: String, val message: String)\n","Event.kt",[6728],{"type":35,"tag":112,"props":6729,"children":6730},{"__ignoreMap":9},[6731,6743,6750],{"type":35,"tag":116,"props":6732,"children":6733},{"class":118,"line":119},[6734,6738],{"type":35,"tag":116,"props":6735,"children":6736},{"style":1907},[6737],{"type":40,"value":1910},{"type":35,"tag":116,"props":6739,"children":6740},{"style":1789},[6741],{"type":40,"value":6742}," dev.simonscholz.model\n",{"type":35,"tag":116,"props":6744,"children":6745},{"class":118,"line":141},[6746],{"type":35,"tag":116,"props":6747,"children":6748},{"emptyLinePlaceholder":145},[6749],{"type":40,"value":148},{"type":35,"tag":116,"props":6751,"children":6752},{"class":118,"line":151},[6753,6757,6762,6767,6771,6776,6781,6785,6789,6793,6798,6802],{"type":35,"tag":116,"props":6754,"children":6755},{"style":1907},[6756],{"type":40,"value":1131},{"type":35,"tag":116,"props":6758,"children":6759},{"style":1907},[6760],{"type":40,"value":6761}," class",{"type":35,"tag":116,"props":6763,"children":6764},{"style":2008},[6765],{"type":40,"value":6766}," Event",{"type":35,"tag":116,"props":6768,"children":6769},{"style":129},[6770],{"type":40,"value":1684},{"type":35,"tag":116,"props":6772,"children":6773},{"style":1907},[6774],{"type":40,"value":6775},"val",{"type":35,"tag":116,"props":6777,"children":6778},{"style":129},[6779],{"type":40,"value":6780}," id: ",{"type":35,"tag":116,"props":6782,"children":6783},{"style":2008},[6784],{"type":40,"value":2092},{"type":35,"tag":116,"props":6786,"children":6787},{"style":129},[6788],{"type":40,"value":4831},{"type":35,"tag":116,"props":6790,"children":6791},{"style":1907},[6792],{"type":40,"value":6775},{"type":35,"tag":116,"props":6794,"children":6795},{"style":129},[6796],{"type":40,"value":6797}," message: ",{"type":35,"tag":116,"props":6799,"children":6800},{"style":2008},[6801],{"type":40,"value":2092},{"type":35,"tag":116,"props":6803,"children":6804},{"style":129},[6805],{"type":40,"value":1694},{"type":35,"tag":1751,"props":6807,"children":6809},{"id":6808},"creating-an-event-handler",[6810],{"type":40,"value":6811},"Creating an event handler",{"type":35,"tag":36,"props":6813,"children":6814},{},[6815,6817,6823],{"type":40,"value":6816},"In order to have proper separation of concerns, let´s create a dedicated ",{"type":35,"tag":112,"props":6818,"children":6820},{"className":6819},[],[6821],{"type":40,"value":6822},"UserEventHandler",{"type":40,"value":6824}," class:",{"type":35,"tag":104,"props":6826,"children":6829},{"className":1665,"code":6827,"filename":6828,"language":17,"meta":9,"style":9},"package dev.simonscholz\n\nimport dev.simonscholz.model.Event\nimport dev.oshai.kotlinlogging.KotlinLogging\nimport jakarta.enterprise.context.ApplicationScoped\n\n@ApplicationScoped\nclass UserEventHandler {\n    private val logger = KotlinLogging.logger {}\n\n    fun handleUserEvent(event: Event) {\n        logger.info { \"Event: $event\" }\n    }\n}\n","UserEventHandler.kt",[6830],{"type":35,"tag":112,"props":6831,"children":6832},{"__ignoreMap":9},[6833,6845,6852,6864,6876,6888,6895,6903,6919,6954,6961,6986,7022,7029],{"type":35,"tag":116,"props":6834,"children":6835},{"class":118,"line":119},[6836,6840],{"type":35,"tag":116,"props":6837,"children":6838},{"style":1907},[6839],{"type":40,"value":1910},{"type":35,"tag":116,"props":6841,"children":6842},{"style":1789},[6843],{"type":40,"value":6844}," dev.simonscholz\n",{"type":35,"tag":116,"props":6846,"children":6847},{"class":118,"line":141},[6848],{"type":35,"tag":116,"props":6849,"children":6850},{"emptyLinePlaceholder":145},[6851],{"type":40,"value":148},{"type":35,"tag":116,"props":6853,"children":6854},{"class":118,"line":151},[6855,6859],{"type":35,"tag":116,"props":6856,"children":6857},{"style":1907},[6858],{"type":40,"value":1930},{"type":35,"tag":116,"props":6860,"children":6861},{"style":1789},[6862],{"type":40,"value":6863}," dev.simonscholz.model.Event\n",{"type":35,"tag":116,"props":6865,"children":6866},{"class":118,"line":165},[6867,6871],{"type":35,"tag":116,"props":6868,"children":6869},{"style":1907},[6870],{"type":40,"value":1930},{"type":35,"tag":116,"props":6872,"children":6873},{"style":1789},[6874],{"type":40,"value":6875}," dev.oshai.kotlinlogging.KotlinLogging\n",{"type":35,"tag":116,"props":6877,"children":6878},{"class":118,"line":174},[6879,6883],{"type":35,"tag":116,"props":6880,"children":6881},{"style":1907},[6882],{"type":40,"value":1930},{"type":35,"tag":116,"props":6884,"children":6885},{"style":1789},[6886],{"type":40,"value":6887}," jakarta.enterprise.context.ApplicationScoped\n",{"type":35,"tag":116,"props":6889,"children":6890},{"class":118,"line":187},[6891],{"type":35,"tag":116,"props":6892,"children":6893},{"emptyLinePlaceholder":145},[6894],{"type":40,"value":148},{"type":35,"tag":116,"props":6896,"children":6897},{"class":118,"line":205},[6898],{"type":35,"tag":116,"props":6899,"children":6900},{"style":2008},[6901],{"type":40,"value":6902},"@ApplicationScoped\n",{"type":35,"tag":116,"props":6904,"children":6905},{"class":118,"line":223},[6906,6910,6915],{"type":35,"tag":116,"props":6907,"children":6908},{"style":1907},[6909],{"type":40,"value":2019},{"type":35,"tag":116,"props":6911,"children":6912},{"style":2008},[6913],{"type":40,"value":6914}," UserEventHandler",{"type":35,"tag":116,"props":6916,"children":6917},{"style":129},[6918],{"type":40,"value":2029},{"type":35,"tag":116,"props":6920,"children":6921},{"class":118,"line":236},[6922,6926,6930,6935,6939,6944,6949],{"type":35,"tag":116,"props":6923,"children":6924},{"style":1907},[6925],{"type":40,"value":4998},{"type":35,"tag":116,"props":6927,"children":6928},{"style":1907},[6929],{"type":40,"value":3509},{"type":35,"tag":116,"props":6931,"children":6932},{"style":129},[6933],{"type":40,"value":6934}," logger ",{"type":35,"tag":116,"props":6936,"children":6937},{"style":1907},[6938],{"type":40,"value":2535},{"type":35,"tag":116,"props":6940,"children":6941},{"style":129},[6942],{"type":40,"value":6943}," KotlinLogging.",{"type":35,"tag":116,"props":6945,"children":6946},{"style":367},[6947],{"type":40,"value":6948},"logger",{"type":35,"tag":116,"props":6950,"children":6951},{"style":129},[6952],{"type":40,"value":6953}," {}\n",{"type":35,"tag":116,"props":6955,"children":6956},{"class":118,"line":250},[6957],{"type":35,"tag":116,"props":6958,"children":6959},{"emptyLinePlaceholder":145},[6960],{"type":40,"value":148},{"type":35,"tag":116,"props":6962,"children":6963},{"class":118,"line":263},[6964,6968,6973,6978,6982],{"type":35,"tag":116,"props":6965,"children":6966},{"style":1907},[6967],{"type":40,"value":2045},{"type":35,"tag":116,"props":6969,"children":6970},{"style":367},[6971],{"type":40,"value":6972}," handleUserEvent",{"type":35,"tag":116,"props":6974,"children":6975},{"style":129},[6976],{"type":40,"value":6977},"(event: ",{"type":35,"tag":116,"props":6979,"children":6980},{"style":2008},[6981],{"type":40,"value":6720},{"type":35,"tag":116,"props":6983,"children":6984},{"style":129},[6985],{"type":40,"value":4261},{"type":35,"tag":116,"props":6987,"children":6988},{"class":118,"line":276},[6989,6994,6998,7003,7008,7013,7017],{"type":35,"tag":116,"props":6990,"children":6991},{"style":129},[6992],{"type":40,"value":6993},"        logger.",{"type":35,"tag":116,"props":6995,"children":6996},{"style":367},[6997],{"type":40,"value":3198},{"type":35,"tag":116,"props":6999,"children":7000},{"style":129},[7001],{"type":40,"value":7002}," { ",{"type":35,"tag":116,"props":7004,"children":7005},{"style":135},[7006],{"type":40,"value":7007},"\"Event: ",{"type":35,"tag":116,"props":7009,"children":7010},{"style":3899},[7011],{"type":40,"value":7012},"$event",{"type":35,"tag":116,"props":7014,"children":7015},{"style":135},[7016],{"type":40,"value":2072},{"type":35,"tag":116,"props":7018,"children":7019},{"style":129},[7020],{"type":40,"value":7021}," }\n",{"type":35,"tag":116,"props":7023,"children":7024},{"class":118,"line":300},[7025],{"type":35,"tag":116,"props":7026,"children":7027},{"style":129},[7028],{"type":40,"value":946},{"type":35,"tag":116,"props":7030,"children":7031},{"class":118,"line":523},[7032],{"type":35,"tag":116,"props":7033,"children":7034},{"style":129},[7035],{"type":40,"value":1524},{"type":35,"tag":1751,"props":7037,"children":7039},{"id":7038},"applicationyml-adjustments-and-env",[7040],{"type":40,"value":7041},"application.yml adjustments and .env",{"type":35,"tag":36,"props":7043,"children":7044},{},[7045,7047,7053,7055],{"type":40,"value":7046},"By default all google cloud extensions provided by quarkus share the ",{"type":35,"tag":112,"props":7048,"children":7050},{"className":7049},[],[7051],{"type":40,"value":7052},"quarkus.google.cloud.project-id",{"type":40,"value":7054}," property and can utilize this under the hood.\nAlso see ",{"type":35,"tag":1111,"props":7056,"children":7059},{"href":7057,"rel":7058,"target":1117},"https://docs.quarkiverse.io/quarkus-google-cloud-services/main/index.html",[1115,1116],[7060],{"type":40,"value":7057},{"type":35,"tag":104,"props":7062,"children":7064},{"className":106,"code":7063,"filename":1774,"language":109,"meta":9,"style":9},"quarkus:\n  google:\n    cloud:\n      project-id: ${GCP_PROJECT_ID}\n\npubsub:\n  user:\n    subscription-id: ${PUBSUB_USER_SUBSCRIPTION_ID}\n",[7065],{"type":35,"tag":112,"props":7066,"children":7067},{"__ignoreMap":9},[7068,7080,7092,7104,7120,7127,7139,7151],{"type":35,"tag":116,"props":7069,"children":7070},{"class":118,"line":119},[7071,7076],{"type":35,"tag":116,"props":7072,"children":7073},{"style":123},[7074],{"type":40,"value":7075},"quarkus",{"type":35,"tag":116,"props":7077,"children":7078},{"style":129},[7079],{"type":40,"value":162},{"type":35,"tag":116,"props":7081,"children":7082},{"class":118,"line":141},[7083,7088],{"type":35,"tag":116,"props":7084,"children":7085},{"style":123},[7086],{"type":40,"value":7087},"  google",{"type":35,"tag":116,"props":7089,"children":7090},{"style":129},[7091],{"type":40,"value":162},{"type":35,"tag":116,"props":7093,"children":7094},{"class":118,"line":151},[7095,7100],{"type":35,"tag":116,"props":7096,"children":7097},{"style":123},[7098],{"type":40,"value":7099},"    cloud",{"type":35,"tag":116,"props":7101,"children":7102},{"style":129},[7103],{"type":40,"value":162},{"type":35,"tag":116,"props":7105,"children":7106},{"class":118,"line":165},[7107,7111,7115],{"type":35,"tag":116,"props":7108,"children":7109},{"style":123},[7110],{"type":40,"value":1836},{"type":35,"tag":116,"props":7112,"children":7113},{"style":129},[7114],{"type":40,"value":132},{"type":35,"tag":116,"props":7116,"children":7117},{"style":135},[7118],{"type":40,"value":7119},"${GCP_PROJECT_ID}\n",{"type":35,"tag":116,"props":7121,"children":7122},{"class":118,"line":174},[7123],{"type":35,"tag":116,"props":7124,"children":7125},{"emptyLinePlaceholder":145},[7126],{"type":40,"value":148},{"type":35,"tag":116,"props":7128,"children":7129},{"class":118,"line":187},[7130,7135],{"type":35,"tag":116,"props":7131,"children":7132},{"style":123},[7133],{"type":40,"value":7134},"pubsub",{"type":35,"tag":116,"props":7136,"children":7137},{"style":129},[7138],{"type":40,"value":162},{"type":35,"tag":116,"props":7140,"children":7141},{"class":118,"line":205},[7142,7147],{"type":35,"tag":116,"props":7143,"children":7144},{"style":123},[7145],{"type":40,"value":7146},"  user",{"type":35,"tag":116,"props":7148,"children":7149},{"style":129},[7150],{"type":40,"value":162},{"type":35,"tag":116,"props":7152,"children":7153},{"class":118,"line":223},[7154,7159,7163],{"type":35,"tag":116,"props":7155,"children":7156},{"style":123},[7157],{"type":40,"value":7158},"    subscription-id",{"type":35,"tag":116,"props":7160,"children":7161},{"style":129},[7162],{"type":40,"value":132},{"type":35,"tag":116,"props":7164,"children":7165},{"style":135},[7166],{"type":40,"value":7167},"${PUBSUB_USER_SUBSCRIPTION_ID}\n",{"type":35,"tag":36,"props":7169,"children":7170},{},[7171,7172,7178],{"type":40,"value":320},{"type":35,"tag":112,"props":7173,"children":7175},{"className":7174},[],[7176],{"type":40,"value":7177},"pubsub.user.subscription-id",{"type":40,"value":7179}," is a custom property in order to declaratively define the desired subscription-id.",{"type":35,"tag":36,"props":7181,"children":7182},{},[7183,7185,7191,7193,7199,7200,7206],{"type":40,"value":7184},"In the root folder of the project a ",{"type":35,"tag":112,"props":7186,"children":7188},{"className":7187},[],[7189],{"type":40,"value":7190},".env",{"type":40,"value":7192}," file can be created and provide the ",{"type":35,"tag":112,"props":7194,"children":7196},{"className":7195},[],[7197],{"type":40,"value":7198},"GCP_PROJECT_ID",{"type":40,"value":3583},{"type":35,"tag":112,"props":7201,"children":7203},{"className":7202},[],[7204],{"type":40,"value":7205},"PUBSUB_USER_SUBSCRIPTION_ID",{"type":40,"value":7207}," environment variables.",{"type":35,"tag":104,"props":7209,"children":7213},{"className":7210,"code":7211,"filename":7190,"language":7212,"meta":9,"style":9},"language-shell shiki shiki-themes github-light github-dark monokai","GCP_PROJECT_ID=sample-project-id\nPUBSUB_USER_SUBSCRIPTION_ID=json-topic-sub\n","shell",[7214],{"type":35,"tag":112,"props":7215,"children":7216},{"__ignoreMap":9},[7217,7232],{"type":35,"tag":116,"props":7218,"children":7219},{"class":118,"line":119},[7220,7224,7228],{"type":35,"tag":116,"props":7221,"children":7222},{"style":129},[7223],{"type":40,"value":7198},{"type":35,"tag":116,"props":7225,"children":7226},{"style":1907},[7227],{"type":40,"value":2535},{"type":35,"tag":116,"props":7229,"children":7230},{"style":135},[7231],{"type":40,"value":1845},{"type":35,"tag":116,"props":7233,"children":7234},{"class":118,"line":141},[7235,7239,7243],{"type":35,"tag":116,"props":7236,"children":7237},{"style":129},[7238],{"type":40,"value":7205},{"type":35,"tag":116,"props":7240,"children":7241},{"style":1907},[7242],{"type":40,"value":2535},{"type":35,"tag":116,"props":7244,"children":7245},{"style":135},[7246],{"type":40,"value":7247},"json-topic-sub\n",{"type":35,"tag":1751,"props":7249,"children":7251},{"id":7250},"start-subscribing-with-quarkuspubsub",[7252],{"type":40,"value":7253},"Start subscribing with QuarkusPubSub",{"type":35,"tag":36,"props":7255,"children":7256},{},[7257],{"type":40,"value":7258},"In order to initialize the PubSub subscription the startup event is observed:",{"type":35,"tag":104,"props":7260,"children":7263},{"className":1665,"code":7261,"filename":7262,"language":17,"meta":9,"style":9},"package dev.simonscholz\n\nimport com.google.cloud.pubsub.v1.AckReplyConsumer\nimport com.google.cloud.pubsub.v1.MessageReceiver\nimport com.google.cloud.pubsub.v1.Subscriber\nimport com.google.pubsub.v1.PubsubMessage\nimport dev.simonscholz.model.Event\nimport dev.oshai.kotlinlogging.KotlinLogging\nimport io.quarkiverse.googlecloudservices.pubsub.QuarkusPubSub\nimport io.quarkus.runtime.ShutdownEvent\nimport io.quarkus.runtime.StartupEvent\nimport jakarta.enterprise.event.Observes\nimport jakarta.inject.Singleton\nimport kotlinx.serialization.json.Json\nimport org.eclipse.microprofile.config.inject.ConfigProperty\n\n@Singleton\nclass PubSubInitializer(\n    private val userEventHandler: UserEventHandler,\n    private val quarkusPubSub: QuarkusPubSub,\n    @ConfigProperty(name = \"pubsub.user.subscription-id\")\n    private val gcpSubscriptionId: String,\n) {\n    private val logger = KotlinLogging.logger {}\n\n    private lateinit var subscriber: Subscriber\n\n    fun onStart(@Observes ev: StartupEvent) {\n        val receiver = MessageReceiver { message: PubsubMessage, consumer: AckReplyConsumer ->\n            runCatching {\n                logger.debug { \"Data: \" + message.data.toStringUtf8() }\n                logger.debug { \"Attributes: \" + message.attributesMap }\n                val eventObject = Json.decodeFromString\u003CEvent>(message.data.toStringUtf8())\n                logger.debug { \"event: $eventObject\" }\n                userEventHandler.handleUserEvent(eventObject)\n            }.onSuccess {\n                consumer.ack()\n                logger.debug { \"Successfully processed pubsub event ${message.messageId}\" }\n            }.onFailure {\n                logger.error(it) { \"Failed to process pubsub event ${message.messageId}. Message data: ${message.data.toStringUtf8()}\" }\n                consumer.nack()\n            }\n        }\n\n        runCatching {\n            subscriber = quarkusPubSub.subscriber(gcpSubscriptionId, receiver)\n            subscriber.startAsync().awaitRunning()\n        }.onFailure {\n            logger.error(it) { \"Subscribing to $gcpSubscriptionId failed.\" }\n        }\n    }\n\n    fun onShutdown(@Observes ev: ShutdownEvent) {\n        subscriber.stopAsync()\n    }\n}\n","PubSubInitializer.kt",[7264],{"type":35,"tag":112,"props":7265,"children":7266},{"__ignoreMap":9},[7267,7278,7285,7297,7309,7321,7332,7343,7354,7366,7378,7390,7402,7414,7426,7438,7445,7453,7469,7493,7518,7544,7568,7575,7606,7613,7640,7647,7682,7728,7740,7789,7818,7875,7908,7926,7943,7959,8000,8016,8091,8107,8115,8122,8129,8141,8168,8195,8211,8246,8253,8260,8267,8300,8317,8324],{"type":35,"tag":116,"props":7268,"children":7269},{"class":118,"line":119},[7270,7274],{"type":35,"tag":116,"props":7271,"children":7272},{"style":1907},[7273],{"type":40,"value":1910},{"type":35,"tag":116,"props":7275,"children":7276},{"style":1789},[7277],{"type":40,"value":6844},{"type":35,"tag":116,"props":7279,"children":7280},{"class":118,"line":141},[7281],{"type":35,"tag":116,"props":7282,"children":7283},{"emptyLinePlaceholder":145},[7284],{"type":40,"value":148},{"type":35,"tag":116,"props":7286,"children":7287},{"class":118,"line":151},[7288,7292],{"type":35,"tag":116,"props":7289,"children":7290},{"style":1907},[7291],{"type":40,"value":1930},{"type":35,"tag":116,"props":7293,"children":7294},{"style":1789},[7295],{"type":40,"value":7296}," com.google.cloud.pubsub.v1.AckReplyConsumer\n",{"type":35,"tag":116,"props":7298,"children":7299},{"class":118,"line":165},[7300,7304],{"type":35,"tag":116,"props":7301,"children":7302},{"style":1907},[7303],{"type":40,"value":1930},{"type":35,"tag":116,"props":7305,"children":7306},{"style":1789},[7307],{"type":40,"value":7308}," com.google.cloud.pubsub.v1.MessageReceiver\n",{"type":35,"tag":116,"props":7310,"children":7311},{"class":118,"line":174},[7312,7316],{"type":35,"tag":116,"props":7313,"children":7314},{"style":1907},[7315],{"type":40,"value":1930},{"type":35,"tag":116,"props":7317,"children":7318},{"style":1789},[7319],{"type":40,"value":7320}," com.google.cloud.pubsub.v1.Subscriber\n",{"type":35,"tag":116,"props":7322,"children":7323},{"class":118,"line":187},[7324,7328],{"type":35,"tag":116,"props":7325,"children":7326},{"style":1907},[7327],{"type":40,"value":1930},{"type":35,"tag":116,"props":7329,"children":7330},{"style":1789},[7331],{"type":40,"value":5440},{"type":35,"tag":116,"props":7333,"children":7334},{"class":118,"line":205},[7335,7339],{"type":35,"tag":116,"props":7336,"children":7337},{"style":1907},[7338],{"type":40,"value":1930},{"type":35,"tag":116,"props":7340,"children":7341},{"style":1789},[7342],{"type":40,"value":6863},{"type":35,"tag":116,"props":7344,"children":7345},{"class":118,"line":223},[7346,7350],{"type":35,"tag":116,"props":7347,"children":7348},{"style":1907},[7349],{"type":40,"value":1930},{"type":35,"tag":116,"props":7351,"children":7352},{"style":1789},[7353],{"type":40,"value":6875},{"type":35,"tag":116,"props":7355,"children":7356},{"class":118,"line":236},[7357,7361],{"type":35,"tag":116,"props":7358,"children":7359},{"style":1907},[7360],{"type":40,"value":1930},{"type":35,"tag":116,"props":7362,"children":7363},{"style":1789},[7364],{"type":40,"value":7365}," io.quarkiverse.googlecloudservices.pubsub.QuarkusPubSub\n",{"type":35,"tag":116,"props":7367,"children":7368},{"class":118,"line":250},[7369,7373],{"type":35,"tag":116,"props":7370,"children":7371},{"style":1907},[7372],{"type":40,"value":1930},{"type":35,"tag":116,"props":7374,"children":7375},{"style":1789},[7376],{"type":40,"value":7377}," io.quarkus.runtime.ShutdownEvent\n",{"type":35,"tag":116,"props":7379,"children":7380},{"class":118,"line":263},[7381,7385],{"type":35,"tag":116,"props":7382,"children":7383},{"style":1907},[7384],{"type":40,"value":1930},{"type":35,"tag":116,"props":7386,"children":7387},{"style":1789},[7388],{"type":40,"value":7389}," io.quarkus.runtime.StartupEvent\n",{"type":35,"tag":116,"props":7391,"children":7392},{"class":118,"line":276},[7393,7397],{"type":35,"tag":116,"props":7394,"children":7395},{"style":1907},[7396],{"type":40,"value":1930},{"type":35,"tag":116,"props":7398,"children":7399},{"style":1789},[7400],{"type":40,"value":7401}," jakarta.enterprise.event.Observes\n",{"type":35,"tag":116,"props":7403,"children":7404},{"class":118,"line":300},[7405,7409],{"type":35,"tag":116,"props":7406,"children":7407},{"style":1907},[7408],{"type":40,"value":1930},{"type":35,"tag":116,"props":7410,"children":7411},{"style":1789},[7412],{"type":40,"value":7413}," jakarta.inject.Singleton\n",{"type":35,"tag":116,"props":7415,"children":7416},{"class":118,"line":523},[7417,7421],{"type":35,"tag":116,"props":7418,"children":7419},{"style":1907},[7420],{"type":40,"value":1930},{"type":35,"tag":116,"props":7422,"children":7423},{"style":1789},[7424],{"type":40,"value":7425}," kotlinx.serialization.json.Json\n",{"type":35,"tag":116,"props":7427,"children":7428},{"class":118,"line":532},[7429,7433],{"type":35,"tag":116,"props":7430,"children":7431},{"style":1907},[7432],{"type":40,"value":1930},{"type":35,"tag":116,"props":7434,"children":7435},{"style":1789},[7436],{"type":40,"value":7437}," org.eclipse.microprofile.config.inject.ConfigProperty\n",{"type":35,"tag":116,"props":7439,"children":7440},{"class":118,"line":562},[7441],{"type":35,"tag":116,"props":7442,"children":7443},{"emptyLinePlaceholder":145},[7444],{"type":40,"value":148},{"type":35,"tag":116,"props":7446,"children":7447},{"class":118,"line":580},[7448],{"type":35,"tag":116,"props":7449,"children":7450},{"style":2008},[7451],{"type":40,"value":7452},"@Singleton\n",{"type":35,"tag":116,"props":7454,"children":7455},{"class":118,"line":594},[7456,7460,7465],{"type":35,"tag":116,"props":7457,"children":7458},{"style":1907},[7459],{"type":40,"value":2019},{"type":35,"tag":116,"props":7461,"children":7462},{"style":2008},[7463],{"type":40,"value":7464}," PubSubInitializer",{"type":35,"tag":116,"props":7466,"children":7467},{"style":129},[7468],{"type":40,"value":2055},{"type":35,"tag":116,"props":7470,"children":7471},{"class":118,"line":602},[7472,7476,7480,7485,7489],{"type":35,"tag":116,"props":7473,"children":7474},{"style":1907},[7475],{"type":40,"value":4998},{"type":35,"tag":116,"props":7477,"children":7478},{"style":1907},[7479],{"type":40,"value":3509},{"type":35,"tag":116,"props":7481,"children":7482},{"style":129},[7483],{"type":40,"value":7484}," userEventHandler: ",{"type":35,"tag":116,"props":7486,"children":7487},{"style":2008},[7488],{"type":40,"value":6822},{"type":35,"tag":116,"props":7490,"children":7491},{"style":129},[7492],{"type":40,"value":1393},{"type":35,"tag":116,"props":7494,"children":7495},{"class":118,"line":631},[7496,7500,7504,7509,7514],{"type":35,"tag":116,"props":7497,"children":7498},{"style":1907},[7499],{"type":40,"value":4998},{"type":35,"tag":116,"props":7501,"children":7502},{"style":1907},[7503],{"type":40,"value":3509},{"type":35,"tag":116,"props":7505,"children":7506},{"style":129},[7507],{"type":40,"value":7508}," quarkusPubSub: ",{"type":35,"tag":116,"props":7510,"children":7511},{"style":2008},[7512],{"type":40,"value":7513},"QuarkusPubSub",{"type":35,"tag":116,"props":7515,"children":7516},{"style":129},[7517],{"type":40,"value":1393},{"type":35,"tag":116,"props":7519,"children":7520},{"class":118,"line":647},[7521,7526,7531,7535,7540],{"type":35,"tag":116,"props":7522,"children":7523},{"style":2008},[7524],{"type":40,"value":7525},"    @ConfigProperty",{"type":35,"tag":116,"props":7527,"children":7528},{"style":129},[7529],{"type":40,"value":7530},"(name ",{"type":35,"tag":116,"props":7532,"children":7533},{"style":1907},[7534],{"type":40,"value":2535},{"type":35,"tag":116,"props":7536,"children":7537},{"style":135},[7538],{"type":40,"value":7539}," \"pubsub.user.subscription-id\"",{"type":35,"tag":116,"props":7541,"children":7542},{"style":129},[7543],{"type":40,"value":1694},{"type":35,"tag":116,"props":7545,"children":7546},{"class":118,"line":660},[7547,7551,7555,7560,7564],{"type":35,"tag":116,"props":7548,"children":7549},{"style":1907},[7550],{"type":40,"value":4998},{"type":35,"tag":116,"props":7552,"children":7553},{"style":1907},[7554],{"type":40,"value":3509},{"type":35,"tag":116,"props":7556,"children":7557},{"style":129},[7558],{"type":40,"value":7559}," gcpSubscriptionId: ",{"type":35,"tag":116,"props":7561,"children":7562},{"style":2008},[7563],{"type":40,"value":2092},{"type":35,"tag":116,"props":7565,"children":7566},{"style":129},[7567],{"type":40,"value":1393},{"type":35,"tag":116,"props":7569,"children":7570},{"class":118,"line":668},[7571],{"type":35,"tag":116,"props":7572,"children":7573},{"style":129},[7574],{"type":40,"value":4261},{"type":35,"tag":116,"props":7576,"children":7577},{"class":118,"line":677},[7578,7582,7586,7590,7594,7598,7602],{"type":35,"tag":116,"props":7579,"children":7580},{"style":1907},[7581],{"type":40,"value":4998},{"type":35,"tag":116,"props":7583,"children":7584},{"style":1907},[7585],{"type":40,"value":3509},{"type":35,"tag":116,"props":7587,"children":7588},{"style":129},[7589],{"type":40,"value":6934},{"type":35,"tag":116,"props":7591,"children":7592},{"style":1907},[7593],{"type":40,"value":2535},{"type":35,"tag":116,"props":7595,"children":7596},{"style":129},[7597],{"type":40,"value":6943},{"type":35,"tag":116,"props":7599,"children":7600},{"style":367},[7601],{"type":40,"value":6948},{"type":35,"tag":116,"props":7603,"children":7604},{"style":129},[7605],{"type":40,"value":6953},{"type":35,"tag":116,"props":7607,"children":7608},{"class":118,"line":2564},[7609],{"type":35,"tag":116,"props":7610,"children":7611},{"emptyLinePlaceholder":145},[7612],{"type":40,"value":148},{"type":35,"tag":116,"props":7614,"children":7615},{"class":118,"line":2572},[7616,7620,7625,7630,7635],{"type":35,"tag":116,"props":7617,"children":7618},{"style":1907},[7619],{"type":40,"value":4998},{"type":35,"tag":116,"props":7621,"children":7622},{"style":1907},[7623],{"type":40,"value":7624}," lateinit",{"type":35,"tag":116,"props":7626,"children":7627},{"style":1907},[7628],{"type":40,"value":7629}," var",{"type":35,"tag":116,"props":7631,"children":7632},{"style":129},[7633],{"type":40,"value":7634}," subscriber: ",{"type":35,"tag":116,"props":7636,"children":7637},{"style":2008},[7638],{"type":40,"value":7639},"Subscriber\n",{"type":35,"tag":116,"props":7641,"children":7642},{"class":118,"line":2580},[7643],{"type":35,"tag":116,"props":7644,"children":7645},{"emptyLinePlaceholder":145},[7646],{"type":40,"value":148},{"type":35,"tag":116,"props":7648,"children":7649},{"class":118,"line":2615},[7650,7654,7659,7663,7668,7673,7678],{"type":35,"tag":116,"props":7651,"children":7652},{"style":1907},[7653],{"type":40,"value":2045},{"type":35,"tag":116,"props":7655,"children":7656},{"style":367},[7657],{"type":40,"value":7658}," onStart",{"type":35,"tag":116,"props":7660,"children":7661},{"style":129},[7662],{"type":40,"value":1684},{"type":35,"tag":116,"props":7664,"children":7665},{"style":2008},[7666],{"type":40,"value":7667},"@Observes",{"type":35,"tag":116,"props":7669,"children":7670},{"style":129},[7671],{"type":40,"value":7672}," ev: ",{"type":35,"tag":116,"props":7674,"children":7675},{"style":2008},[7676],{"type":40,"value":7677},"StartupEvent",{"type":35,"tag":116,"props":7679,"children":7680},{"style":129},[7681],{"type":40,"value":4261},{"type":35,"tag":116,"props":7683,"children":7684},{"class":118,"line":3031},[7685,7689,7694,7698,7703,7708,7713,7718,7723],{"type":35,"tag":116,"props":7686,"children":7687},{"style":1907},[7688],{"type":40,"value":5723},{"type":35,"tag":116,"props":7690,"children":7691},{"style":129},[7692],{"type":40,"value":7693}," receiver ",{"type":35,"tag":116,"props":7695,"children":7696},{"style":1907},[7697],{"type":40,"value":2535},{"type":35,"tag":116,"props":7699,"children":7700},{"style":367},[7701],{"type":40,"value":7702}," MessageReceiver",{"type":35,"tag":116,"props":7704,"children":7705},{"style":129},[7706],{"type":40,"value":7707}," { message: ",{"type":35,"tag":116,"props":7709,"children":7710},{"style":2008},[7711],{"type":40,"value":7712},"PubsubMessage",{"type":35,"tag":116,"props":7714,"children":7715},{"style":129},[7716],{"type":40,"value":7717},", consumer: ",{"type":35,"tag":116,"props":7719,"children":7720},{"style":2008},[7721],{"type":40,"value":7722},"AckReplyConsumer",{"type":35,"tag":116,"props":7724,"children":7725},{"style":129},[7726],{"type":40,"value":7727}," ->\n",{"type":35,"tag":116,"props":7729,"children":7730},{"class":118,"line":3043},[7731,7736],{"type":35,"tag":116,"props":7732,"children":7733},{"style":367},[7734],{"type":40,"value":7735},"            runCatching",{"type":35,"tag":116,"props":7737,"children":7738},{"style":129},[7739],{"type":40,"value":2029},{"type":35,"tag":116,"props":7741,"children":7742},{"class":118,"line":3051},[7743,7748,7753,7757,7762,7767,7772,7776,7780,7784],{"type":35,"tag":116,"props":7744,"children":7745},{"style":129},[7746],{"type":40,"value":7747},"                logger.",{"type":35,"tag":116,"props":7749,"children":7750},{"style":367},[7751],{"type":40,"value":7752},"debug",{"type":35,"tag":116,"props":7754,"children":7755},{"style":129},[7756],{"type":40,"value":7002},{"type":35,"tag":116,"props":7758,"children":7759},{"style":135},[7760],{"type":40,"value":7761},"\"Data: \"",{"type":35,"tag":116,"props":7763,"children":7764},{"style":1907},[7765],{"type":40,"value":7766}," +",{"type":35,"tag":116,"props":7768,"children":7769},{"style":129},[7770],{"type":40,"value":7771}," message.",{"type":35,"tag":116,"props":7773,"children":7774},{"style":1907},[7775],{"type":40,"value":1131},{"type":35,"tag":116,"props":7777,"children":7778},{"style":129},[7779],{"type":40,"value":5878},{"type":35,"tag":116,"props":7781,"children":7782},{"style":367},[7783],{"type":40,"value":3384},{"type":35,"tag":116,"props":7785,"children":7786},{"style":129},[7787],{"type":40,"value":7788},"() }\n",{"type":35,"tag":116,"props":7790,"children":7791},{"class":118,"line":3059},[7792,7796,7800,7804,7809,7813],{"type":35,"tag":116,"props":7793,"children":7794},{"style":129},[7795],{"type":40,"value":7747},{"type":35,"tag":116,"props":7797,"children":7798},{"style":367},[7799],{"type":40,"value":7752},{"type":35,"tag":116,"props":7801,"children":7802},{"style":129},[7803],{"type":40,"value":7002},{"type":35,"tag":116,"props":7805,"children":7806},{"style":135},[7807],{"type":40,"value":7808},"\"Attributes: \"",{"type":35,"tag":116,"props":7810,"children":7811},{"style":1907},[7812],{"type":40,"value":7766},{"type":35,"tag":116,"props":7814,"children":7815},{"style":129},[7816],{"type":40,"value":7817}," message.attributesMap }\n",{"type":35,"tag":116,"props":7819,"children":7820},{"class":118,"line":3067},[7821,7826,7831,7835,7840,7845,7849,7853,7858,7862,7866,7870],{"type":35,"tag":116,"props":7822,"children":7823},{"style":1907},[7824],{"type":40,"value":7825},"                val",{"type":35,"tag":116,"props":7827,"children":7828},{"style":129},[7829],{"type":40,"value":7830}," eventObject ",{"type":35,"tag":116,"props":7832,"children":7833},{"style":1907},[7834],{"type":40,"value":2535},{"type":35,"tag":116,"props":7836,"children":7837},{"style":129},[7838],{"type":40,"value":7839}," Json.",{"type":35,"tag":116,"props":7841,"children":7842},{"style":367},[7843],{"type":40,"value":7844},"decodeFromString",{"type":35,"tag":116,"props":7846,"children":7847},{"style":129},[7848],{"type":40,"value":5989},{"type":35,"tag":116,"props":7850,"children":7851},{"style":2008},[7852],{"type":40,"value":6720},{"type":35,"tag":116,"props":7854,"children":7855},{"style":129},[7856],{"type":40,"value":7857},">(message.",{"type":35,"tag":116,"props":7859,"children":7860},{"style":1907},[7861],{"type":40,"value":1131},{"type":35,"tag":116,"props":7863,"children":7864},{"style":129},[7865],{"type":40,"value":5878},{"type":35,"tag":116,"props":7867,"children":7868},{"style":367},[7869],{"type":40,"value":3384},{"type":35,"tag":116,"props":7871,"children":7872},{"style":129},[7873],{"type":40,"value":7874},"())\n",{"type":35,"tag":116,"props":7876,"children":7877},{"class":118,"line":3099},[7878,7882,7886,7890,7895,7900,7904],{"type":35,"tag":116,"props":7879,"children":7880},{"style":129},[7881],{"type":40,"value":7747},{"type":35,"tag":116,"props":7883,"children":7884},{"style":367},[7885],{"type":40,"value":7752},{"type":35,"tag":116,"props":7887,"children":7888},{"style":129},[7889],{"type":40,"value":7002},{"type":35,"tag":116,"props":7891,"children":7892},{"style":135},[7893],{"type":40,"value":7894},"\"event: ",{"type":35,"tag":116,"props":7896,"children":7897},{"style":3899},[7898],{"type":40,"value":7899},"$eventObject",{"type":35,"tag":116,"props":7901,"children":7902},{"style":135},[7903],{"type":40,"value":2072},{"type":35,"tag":116,"props":7905,"children":7906},{"style":129},[7907],{"type":40,"value":7021},{"type":35,"tag":116,"props":7909,"children":7910},{"class":118,"line":3107},[7911,7916,7921],{"type":35,"tag":116,"props":7912,"children":7913},{"style":129},[7914],{"type":40,"value":7915},"                userEventHandler.",{"type":35,"tag":116,"props":7917,"children":7918},{"style":367},[7919],{"type":40,"value":7920},"handleUserEvent",{"type":35,"tag":116,"props":7922,"children":7923},{"style":129},[7924],{"type":40,"value":7925},"(eventObject)\n",{"type":35,"tag":116,"props":7927,"children":7928},{"class":118,"line":3115},[7929,7934,7939],{"type":35,"tag":116,"props":7930,"children":7931},{"style":129},[7932],{"type":40,"value":7933},"            }.",{"type":35,"tag":116,"props":7935,"children":7936},{"style":367},[7937],{"type":40,"value":7938},"onSuccess",{"type":35,"tag":116,"props":7940,"children":7941},{"style":129},[7942],{"type":40,"value":2029},{"type":35,"tag":116,"props":7944,"children":7945},{"class":118,"line":3142},[7946,7951,7955],{"type":35,"tag":116,"props":7947,"children":7948},{"style":129},[7949],{"type":40,"value":7950},"                consumer.",{"type":35,"tag":116,"props":7952,"children":7953},{"style":367},[7954],{"type":40,"value":3457},{"type":35,"tag":116,"props":7956,"children":7957},{"style":129},[7958],{"type":40,"value":2201},{"type":35,"tag":116,"props":7960,"children":7961},{"class":118,"line":3167},[7962,7966,7970,7974,7979,7983,7988,7992,7996],{"type":35,"tag":116,"props":7963,"children":7964},{"style":129},[7965],{"type":40,"value":7747},{"type":35,"tag":116,"props":7967,"children":7968},{"style":367},[7969],{"type":40,"value":7752},{"type":35,"tag":116,"props":7971,"children":7972},{"style":129},[7973],{"type":40,"value":7002},{"type":35,"tag":116,"props":7975,"children":7976},{"style":135},[7977],{"type":40,"value":7978},"\"Successfully processed pubsub event ",{"type":35,"tag":116,"props":7980,"children":7981},{"style":3210},[7982],{"type":40,"value":3213},{"type":35,"tag":116,"props":7984,"children":7985},{"style":3220},[7986],{"type":40,"value":7987},"message.messageId",{"type":35,"tag":116,"props":7989,"children":7990},{"style":3210},[7991],{"type":40,"value":3238},{"type":35,"tag":116,"props":7993,"children":7994},{"style":135},[7995],{"type":40,"value":2072},{"type":35,"tag":116,"props":7997,"children":7998},{"style":129},[7999],{"type":40,"value":7021},{"type":35,"tag":116,"props":8001,"children":8002},{"class":118,"line":3187},[8003,8007,8012],{"type":35,"tag":116,"props":8004,"children":8005},{"style":129},[8006],{"type":40,"value":7933},{"type":35,"tag":116,"props":8008,"children":8009},{"style":367},[8010],{"type":40,"value":8011},"onFailure",{"type":35,"tag":116,"props":8013,"children":8014},{"style":129},[8015],{"type":40,"value":2029},{"type":35,"tag":116,"props":8017,"children":8018},{"class":118,"line":3249},[8019,8023,8027,8032,8037,8041,8045,8049,8054,8058,8063,8067,8071,8075,8079,8083,8087],{"type":35,"tag":116,"props":8020,"children":8021},{"style":129},[8022],{"type":40,"value":7747},{"type":35,"tag":116,"props":8024,"children":8025},{"style":367},[8026],{"type":40,"value":6043},{"type":35,"tag":116,"props":8028,"children":8029},{"style":129},[8030],{"type":40,"value":8031},"(it) { ",{"type":35,"tag":116,"props":8033,"children":8034},{"style":135},[8035],{"type":40,"value":8036},"\"Failed to process pubsub event ",{"type":35,"tag":116,"props":8038,"children":8039},{"style":3210},[8040],{"type":40,"value":3213},{"type":35,"tag":116,"props":8042,"children":8043},{"style":3220},[8044],{"type":40,"value":7987},{"type":35,"tag":116,"props":8046,"children":8047},{"style":3210},[8048],{"type":40,"value":3238},{"type":35,"tag":116,"props":8050,"children":8051},{"style":135},[8052],{"type":40,"value":8053},". Message data: ",{"type":35,"tag":116,"props":8055,"children":8056},{"style":3210},[8057],{"type":40,"value":3213},{"type":35,"tag":116,"props":8059,"children":8060},{"style":3220},[8061],{"type":40,"value":8062},"message.",{"type":35,"tag":116,"props":8064,"children":8065},{"style":1907},[8066],{"type":40,"value":1131},{"type":35,"tag":116,"props":8068,"children":8069},{"style":3220},[8070],{"type":40,"value":5878},{"type":35,"tag":116,"props":8072,"children":8073},{"style":367},[8074],{"type":40,"value":3384},{"type":35,"tag":116,"props":8076,"children":8077},{"style":3220},[8078],{"type":40,"value":3389},{"type":35,"tag":116,"props":8080,"children":8081},{"style":3210},[8082],{"type":40,"value":3238},{"type":35,"tag":116,"props":8084,"children":8085},{"style":135},[8086],{"type":40,"value":2072},{"type":35,"tag":116,"props":8088,"children":8089},{"style":129},[8090],{"type":40,"value":7021},{"type":35,"tag":116,"props":8092,"children":8093},{"class":118,"line":3291},[8094,8098,8103],{"type":35,"tag":116,"props":8095,"children":8096},{"style":129},[8097],{"type":40,"value":7950},{"type":35,"tag":116,"props":8099,"children":8100},{"style":367},[8101],{"type":40,"value":8102},"nack",{"type":35,"tag":116,"props":8104,"children":8105},{"style":129},[8106],{"type":40,"value":2201},{"type":35,"tag":116,"props":8108,"children":8109},{"class":118,"line":3343},[8110],{"type":35,"tag":116,"props":8111,"children":8112},{"style":129},[8113],{"type":40,"value":8114},"            }\n",{"type":35,"tag":116,"props":8116,"children":8117},{"class":118,"line":3404},[8118],{"type":35,"tag":116,"props":8119,"children":8120},{"style":129},[8121],{"type":40,"value":2561},{"type":35,"tag":116,"props":8123,"children":8124},{"class":118,"line":3446},[8125],{"type":35,"tag":116,"props":8126,"children":8127},{"emptyLinePlaceholder":145},[8128],{"type":40,"value":148},{"type":35,"tag":116,"props":8130,"children":8131},{"class":118,"line":3464},[8132,8137],{"type":35,"tag":116,"props":8133,"children":8134},{"style":367},[8135],{"type":40,"value":8136},"        runCatching",{"type":35,"tag":116,"props":8138,"children":8139},{"style":129},[8140],{"type":40,"value":2029},{"type":35,"tag":116,"props":8142,"children":8143},{"class":118,"line":3472},[8144,8149,8153,8158,8163],{"type":35,"tag":116,"props":8145,"children":8146},{"style":129},[8147],{"type":40,"value":8148},"            subscriber ",{"type":35,"tag":116,"props":8150,"children":8151},{"style":1907},[8152],{"type":40,"value":2535},{"type":35,"tag":116,"props":8154,"children":8155},{"style":129},[8156],{"type":40,"value":8157}," quarkusPubSub.",{"type":35,"tag":116,"props":8159,"children":8160},{"style":367},[8161],{"type":40,"value":8162},"subscriber",{"type":35,"tag":116,"props":8164,"children":8165},{"style":129},[8166],{"type":40,"value":8167},"(gcpSubscriptionId, receiver)\n",{"type":35,"tag":116,"props":8169,"children":8170},{"class":118,"line":3480},[8171,8176,8181,8186,8191],{"type":35,"tag":116,"props":8172,"children":8173},{"style":129},[8174],{"type":40,"value":8175},"            subscriber.",{"type":35,"tag":116,"props":8177,"children":8178},{"style":367},[8179],{"type":40,"value":8180},"startAsync",{"type":35,"tag":116,"props":8182,"children":8183},{"style":129},[8184],{"type":40,"value":8185},"().",{"type":35,"tag":116,"props":8187,"children":8188},{"style":367},[8189],{"type":40,"value":8190},"awaitRunning",{"type":35,"tag":116,"props":8192,"children":8193},{"style":129},[8194],{"type":40,"value":2201},{"type":35,"tag":116,"props":8196,"children":8197},{"class":118,"line":3498},[8198,8203,8207],{"type":35,"tag":116,"props":8199,"children":8200},{"style":129},[8201],{"type":40,"value":8202},"        }.",{"type":35,"tag":116,"props":8204,"children":8205},{"style":367},[8206],{"type":40,"value":8011},{"type":35,"tag":116,"props":8208,"children":8209},{"style":129},[8210],{"type":40,"value":2029},{"type":35,"tag":116,"props":8212,"children":8213},{"class":118,"line":3549},[8214,8219,8223,8227,8232,8237,8242],{"type":35,"tag":116,"props":8215,"children":8216},{"style":129},[8217],{"type":40,"value":8218},"            logger.",{"type":35,"tag":116,"props":8220,"children":8221},{"style":367},[8222],{"type":40,"value":6043},{"type":35,"tag":116,"props":8224,"children":8225},{"style":129},[8226],{"type":40,"value":8031},{"type":35,"tag":116,"props":8228,"children":8229},{"style":135},[8230],{"type":40,"value":8231},"\"Subscribing to ",{"type":35,"tag":116,"props":8233,"children":8234},{"style":3899},[8235],{"type":40,"value":8236},"$gcpSubscriptionId",{"type":35,"tag":116,"props":8238,"children":8239},{"style":135},[8240],{"type":40,"value":8241}," failed.\"",{"type":35,"tag":116,"props":8243,"children":8244},{"style":129},[8245],{"type":40,"value":7021},{"type":35,"tag":116,"props":8247,"children":8248},{"class":118,"line":3557},[8249],{"type":35,"tag":116,"props":8250,"children":8251},{"style":129},[8252],{"type":40,"value":2561},{"type":35,"tag":116,"props":8254,"children":8255},{"class":118,"line":6190},[8256],{"type":35,"tag":116,"props":8257,"children":8258},{"style":129},[8259],{"type":40,"value":946},{"type":35,"tag":116,"props":8261,"children":8262},{"class":118,"line":6198},[8263],{"type":35,"tag":116,"props":8264,"children":8265},{"emptyLinePlaceholder":145},[8266],{"type":40,"value":148},{"type":35,"tag":116,"props":8268,"children":8269},{"class":118,"line":6206},[8270,8274,8279,8283,8287,8291,8296],{"type":35,"tag":116,"props":8271,"children":8272},{"style":1907},[8273],{"type":40,"value":2045},{"type":35,"tag":116,"props":8275,"children":8276},{"style":367},[8277],{"type":40,"value":8278}," onShutdown",{"type":35,"tag":116,"props":8280,"children":8281},{"style":129},[8282],{"type":40,"value":1684},{"type":35,"tag":116,"props":8284,"children":8285},{"style":2008},[8286],{"type":40,"value":7667},{"type":35,"tag":116,"props":8288,"children":8289},{"style":129},[8290],{"type":40,"value":7672},{"type":35,"tag":116,"props":8292,"children":8293},{"style":2008},[8294],{"type":40,"value":8295},"ShutdownEvent",{"type":35,"tag":116,"props":8297,"children":8298},{"style":129},[8299],{"type":40,"value":4261},{"type":35,"tag":116,"props":8301,"children":8302},{"class":118,"line":6214},[8303,8308,8313],{"type":35,"tag":116,"props":8304,"children":8305},{"style":129},[8306],{"type":40,"value":8307},"        subscriber.",{"type":35,"tag":116,"props":8309,"children":8310},{"style":367},[8311],{"type":40,"value":8312},"stopAsync",{"type":35,"tag":116,"props":8314,"children":8315},{"style":129},[8316],{"type":40,"value":2201},{"type":35,"tag":116,"props":8318,"children":8319},{"class":118,"line":6230},[8320],{"type":35,"tag":116,"props":8321,"children":8322},{"style":129},[8323],{"type":40,"value":946},{"type":35,"tag":116,"props":8325,"children":8326},{"class":118,"line":6271},[8327],{"type":35,"tag":116,"props":8328,"children":8329},{"style":129},[8330],{"type":40,"value":1524},{"type":35,"tag":36,"props":8332,"children":8333},{},[8334,8336,8341,8342,8347,8349,8355],{"type":40,"value":8335},"Here the ",{"type":35,"tag":112,"props":8337,"children":8339},{"className":8338},[],[8340],{"type":40,"value":6822},{"type":40,"value":4831},{"type":35,"tag":112,"props":8343,"children":8345},{"className":8344},[],[8346],{"type":40,"value":7513},{"type":40,"value":8348}," and the ",{"type":35,"tag":112,"props":8350,"children":8352},{"className":8351},[],[8353],{"type":40,"value":8354},"gcpSubscriptionId",{"type":40,"value":8356}," is injected.",{"type":35,"tag":36,"props":8358,"children":8359},{},[8360,8362,8368,8370,8375,8376,8381],{"type":40,"value":8361},"Within the onStart method a ",{"type":35,"tag":112,"props":8363,"children":8365},{"className":8364},[],[8366],{"type":40,"value":8367},"MessageReceiver",{"type":40,"value":8369}," instance is created, which will receive the ",{"type":35,"tag":112,"props":8371,"children":8373},{"className":8372},[],[8374],{"type":40,"value":7712},{"type":40,"value":3583},{"type":35,"tag":112,"props":8377,"children":8379},{"className":8378},[],[8380],{"type":40,"value":7722},{"type":40,"value":5878},{"type":35,"tag":36,"props":8383,"children":8384},{},[8385,8386,8391,8393,8398],{"type":40,"value":320},{"type":35,"tag":112,"props":8387,"children":8389},{"className":8388},[],[8390],{"type":40,"value":7712},{"type":40,"value":8392}," consists of the data being send and Kotlinx Serialization is being used to parse the json object, which is then passed to the ",{"type":35,"tag":112,"props":8394,"children":8396},{"className":8395},[],[8397],{"type":40,"value":6822},{"type":40,"value":8399},", which is supposed to cover the business logic of handling the event.",{"type":35,"tag":36,"props":8401,"children":8402},{},[8403,8405,8410,8412,8417],{"type":40,"value":8404},"If this is successful the ",{"type":35,"tag":112,"props":8406,"children":8408},{"className":8407},[],[8409],{"type":40,"value":7722},{"type":40,"value":8411}," can be used to ",{"type":35,"tag":112,"props":8413,"children":8415},{"className":8414},[],[8416],{"type":40,"value":3457},{"type":40,"value":8418}," the massage.",{"type":35,"tag":36,"props":8420,"children":8421},{},[8422,8424,8429,8431,8436,8438,8444,8446,8451],{"type":40,"value":8423},"On failure the ",{"type":35,"tag":112,"props":8425,"children":8427},{"className":8426},[],[8428],{"type":40,"value":8102},{"type":40,"value":8430}," function of the ",{"type":35,"tag":112,"props":8432,"children":8434},{"className":8433},[],[8435],{"type":40,"value":7722},{"type":40,"value":8437}," is called, which indicates an error,\nwhich will then usually trigger Google PubSub to retry delivering the message.\nThe allowed amount of ",{"type":35,"tag":112,"props":8439,"children":8441},{"className":8440},[],[8442],{"type":40,"value":8443},"nacks",{"type":40,"value":8445}," can be individually configured and even a dead letter queue can be added for massages, that cannot be delivered for later recovery. Sometimes it is also applicable to just also ",{"type":35,"tag":112,"props":8447,"children":8449},{"className":8448},[],[8450],{"type":40,"value":3457},{"type":40,"value":8452}," on failure and by that kind of \"throw away\" the message.",{"type":35,"tag":1751,"props":8454,"children":8456},{"id":8455},"send-a-message-and-let-the-quarkus-app-consume-it",[8457],{"type":40,"value":8458},"Send a message and let the Quarkus app consume it",{"type":35,"tag":36,"props":8460,"children":8461},{},[8462,8464,8469],{"type":40,"value":8463},"Like in the Spring Example from above the same ",{"type":35,"tag":112,"props":8465,"children":8467},{"className":8466},[],[8468],{"type":40,"value":462},{"type":40,"value":8470}," can be used:",{"type":35,"tag":104,"props":8472,"children":8473},{"className":331,"code":970,"language":333,"meta":9,"style":9},[8474],{"type":35,"tag":112,"props":8475,"children":8476},{"__ignoreMap":9},[8477,8500,8515,8526,8533,8540,8547,8554,8561,8568,8575,8582,8589],{"type":35,"tag":116,"props":8478,"children":8479},{"class":118,"line":119},[8480,8484,8488,8492,8496],{"type":35,"tag":116,"props":8481,"children":8482},{"style":367},[8483],{"type":40,"value":462},{"type":35,"tag":116,"props":8485,"children":8486},{"style":393},[8487],{"type":40,"value":472},{"type":35,"tag":116,"props":8489,"children":8490},{"style":135},[8491],{"type":40,"value":851},{"type":35,"tag":116,"props":8493,"children":8494},{"style":135},[8495],{"type":40,"value":994},{"type":35,"tag":116,"props":8497,"children":8498},{"style":393},[8499],{"type":40,"value":559},{"type":35,"tag":116,"props":8501,"children":8502},{"class":118,"line":141},[8503,8507,8511],{"type":35,"tag":116,"props":8504,"children":8505},{"style":129},[8506],{"type":40,"value":868},{"type":35,"tag":116,"props":8508,"children":8509},{"style":135},[8510],{"type":40,"value":873},{"type":35,"tag":116,"props":8512,"children":8513},{"style":393},[8514],{"type":40,"value":559},{"type":35,"tag":116,"props":8516,"children":8517},{"class":118,"line":151},[8518,8522],{"type":35,"tag":116,"props":8519,"children":8520},{"style":129},[8521],{"type":40,"value":885},{"type":35,"tag":116,"props":8523,"children":8524},{"style":135},[8525],{"type":40,"value":890},{"type":35,"tag":116,"props":8527,"children":8528},{"class":118,"line":165},[8529],{"type":35,"tag":116,"props":8530,"children":8531},{"style":135},[8532],{"type":40,"value":898},{"type":35,"tag":116,"props":8534,"children":8535},{"class":118,"line":174},[8536],{"type":35,"tag":116,"props":8537,"children":8538},{"style":135},[8539],{"type":40,"value":906},{"type":35,"tag":116,"props":8541,"children":8542},{"class":118,"line":187},[8543],{"type":35,"tag":116,"props":8544,"children":8545},{"style":135},[8546],{"type":40,"value":914},{"type":35,"tag":116,"props":8548,"children":8549},{"class":118,"line":205},[8550],{"type":35,"tag":116,"props":8551,"children":8552},{"style":135},[8553],{"type":40,"value":922},{"type":35,"tag":116,"props":8555,"children":8556},{"class":118,"line":223},[8557],{"type":35,"tag":116,"props":8558,"children":8559},{"style":135},[8560],{"type":40,"value":930},{"type":35,"tag":116,"props":8562,"children":8563},{"class":118,"line":236},[8564],{"type":35,"tag":116,"props":8565,"children":8566},{"style":135},[8567],{"type":40,"value":1067},{"type":35,"tag":116,"props":8569,"children":8570},{"class":118,"line":250},[8571],{"type":35,"tag":116,"props":8572,"children":8573},{"style":135},[8574],{"type":40,"value":1075},{"type":35,"tag":116,"props":8576,"children":8577},{"class":118,"line":263},[8578],{"type":35,"tag":116,"props":8579,"children":8580},{"style":135},[8581],{"type":40,"value":946},{"type":35,"tag":116,"props":8583,"children":8584},{"class":118,"line":276},[8585],{"type":35,"tag":116,"props":8586,"children":8587},{"style":135},[8588],{"type":40,"value":954},{"type":35,"tag":116,"props":8590,"children":8591},{"class":118,"line":300},[8592],{"type":35,"tag":116,"props":8593,"children":8594},{"style":135},[8595],{"type":40,"value":962},{"type":35,"tag":36,"props":8597,"children":8598},{},[8599],{"type":40,"value":8600},"This should then log the message data and attributes.",{"type":35,"tag":48,"props":8602,"children":8604},{"id":8603},"putting-it-all-together",[8605],{"type":40,"value":8606},"Putting it all together",{"type":35,"tag":36,"props":8608,"children":8609},{},[8610],{"type":40,"value":8611},"Please feel free to play around and let the Spring app send messages to the Quarkus app and the other way round.",{"type":35,"tag":48,"props":8613,"children":8615},{"id":8614},"sources",[8616],{"type":40,"value":8617},"Sources",{"type":35,"tag":55,"props":8619,"children":8620},{},[8621,8630,8639,8648,8657,8666],{"type":35,"tag":59,"props":8622,"children":8623},{},[8624],{"type":35,"tag":1111,"props":8625,"children":8628},{"href":8626,"rel":8627,"target":1117},"https://cloud.google.com/pubsub/docs/publisher#rest",[1115,1116],[8629],{"type":40,"value":8626},{"type":35,"tag":59,"props":8631,"children":8632},{},[8633],{"type":35,"tag":1111,"props":8634,"children":8637},{"href":8635,"rel":8636,"target":1117},"https://cloud.google.com/pubsub/docs/emulator",[1115,1116],[8638],{"type":40,"value":8635},{"type":35,"tag":59,"props":8640,"children":8641},{},[8642],{"type":35,"tag":1111,"props":8643,"children":8646},{"href":8644,"rel":8645,"target":1117},"https://cloud.google.com/pubsub/docs/reference/rest/v1/projects.topics",[1115,1116],[8647],{"type":40,"value":8644},{"type":35,"tag":59,"props":8649,"children":8650},{},[8651],{"type":35,"tag":1111,"props":8652,"children":8655},{"href":8653,"rel":8654,"target":1117},"https://cloud.google.com/pubsub/docs/reference/rest/v1/projects.subscriptions",[1115,1116],[8656],{"type":40,"value":8653},{"type":35,"tag":59,"props":8658,"children":8659},{},[8660],{"type":35,"tag":1111,"props":8661,"children":8664},{"href":8662,"rel":8663,"target":1117},"https://spring.io/guides/gs/messaging-gcp-pubsub/",[1115,1116],[8665],{"type":40,"value":8662},{"type":35,"tag":59,"props":8667,"children":8668},{},[8669],{"type":35,"tag":1111,"props":8670,"children":8673},{"href":8671,"rel":8672,"target":1117},"https://docs.quarkiverse.io/quarkus-google-cloud-services/main/pubsub.html",[1115,1116],[8674],{"type":40,"value":8671},{"type":35,"tag":8676,"props":8677,"children":8678},"style",{},[8679],{"type":40,"value":8680},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":9,"searchDepth":151,"depth":151,"links":8682},[8683,8684,8685,8686,8687,8700,8707,8708],{"id":50,"depth":141,"text":53},{"id":94,"depth":141,"text":97},{"id":813,"depth":141,"text":816},{"id":1156,"depth":141,"text":1159},{"id":1632,"depth":141,"text":1635,"children":8688},[8689,8690,8691,8697,8698,8699],{"id":1753,"depth":151,"text":1756},{"id":1877,"depth":151,"text":1880},{"id":2223,"depth":151,"text":2226,"children":8692},[8693,8694,8696],{"id":2663,"depth":165,"text":2666},{"id":3565,"depth":165,"text":8695},"Using a @ServiceActivator with @Payload and @Header annotations",{"id":4104,"depth":165,"text":4107},{"id":4395,"depth":151,"text":4398},{"id":4533,"depth":151,"text":816},{"id":5293,"depth":151,"text":5296},{"id":6287,"depth":141,"text":6290,"children":8701},[8702,8703,8704,8705,8706],{"id":6706,"depth":151,"text":6709},{"id":6808,"depth":151,"text":6811},{"id":7038,"depth":151,"text":7041},{"id":7250,"depth":151,"text":7253},{"id":8455,"depth":151,"text":8458},{"id":8603,"depth":141,"text":8606},{"id":8614,"depth":141,"text":8617},"markdown","content:tutorials:spring-quarkus-google-pubsub:index.md","content","tutorials/spring-quarkus-google-pubsub/index.md","tutorials/spring-quarkus-google-pubsub/index","md",["Reactive",8716],{"$scolor-mode":8717,"$sicons":8719,"$ssite-config":8750},{"preference":8718,"value":8718,"unknown":145,"forced":8},"system",{"carbon:education":8720,"carbon:id-management":8723,"pepicons-pop:cv":8725,"material-symbols:arrow-left-alt":8727,"mdi:menu":8729,"mdi:close":8731,"uil:home-alt":8733,"mdi:hand-wave":8735,"uil:github-alt":8737,"uil:linkedin-alt":8739,"hugeicons:new-twitter":8741,"carbon:up-to-top":8743,"mdi:chevron-down":8745,"ph:copy":8747},{"left":8721,"top":8721,"width":3059,"height":3059,"rotate":8721,"vFlip":8,"hFlip":8,"body":8722},0,"\u003Cpath fill=\"currentColor\" d=\"M26 30h-2v-3a5.006 5.006 0 0 0-5-5h-6a5.006 5.006 0 0 0-5 5v3H6v-3a7.01 7.01 0 0 1 7-7h6a7.01 7.01 0 0 1 7 7ZM5 6a1 1 0 0 0-1 1v9h2V7a1 1 0 0 0-1-1\"/>\u003Cpath fill=\"currentColor\" d=\"M4 2v2h5v7a7 7 0 0 0 14 0V4h5V2Zm7 2h10v3H11Zm5 12a5 5 0 0 1-5-5V9h10v2a5 5 0 0 1-5 5\"/>",{"left":8721,"top":8721,"width":3059,"height":3059,"rotate":8721,"vFlip":8,"hFlip":8,"body":8724},"\u003Cpath fill=\"currentColor\" d=\"M15 20H9a3 3 0 0 0-3 3v2h2v-2a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2h2v-2a3 3 0 0 0-3-3m-3-1a4 4 0 1 0-4-4a4 4 0 0 0 4 4m0-6a2 2 0 1 1-2 2a2 2 0 0 1 2-2\"/>\u003Cpath fill=\"currentColor\" d=\"M28 19v9H4V8h12V6H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2v-9Z\"/>\u003Cpath fill=\"currentColor\" d=\"M20 19h6v2h-6zm2 4h4v2h-4zm10-13V8h-2.101a5 5 0 0 0-.732-1.753l1.49-1.49l-1.414-1.414l-1.49 1.49A5 5 0 0 0 26 4.101V2h-2v2.101a5 5 0 0 0-1.753.732l-1.49-1.49l-1.414 1.414l1.49 1.49A5 5 0 0 0 20.101 8H18v2h2.101a5 5 0 0 0 .732 1.753l-1.49 1.49l1.414 1.414l1.49-1.49a5 5 0 0 0 1.753.732V16h2v-2.101a5 5 0 0 0 1.753-.732l1.49 1.49l1.414-1.414l-1.49-1.49A5 5 0 0 0 29.899 10Zm-7 2a3 3 0 1 1 3-3a3.003 3.003 0 0 1-3 3\"/>",{"left":8721,"top":8721,"width":631,"height":631,"rotate":8721,"vFlip":8,"hFlip":8,"body":8726},"\u003Cg fill=\"currentColor\">\u003Cpath d=\"M7.8 6.35c.56 0 1.01-.45 1.01-1.01S8.36 4.33 7.8 4.33s-1.01.45-1.01 1.01s.45 1.01 1.01 1.01\"/>\u003Cpath fill-rule=\"evenodd\" d=\"M9.83 8.55c0-1.08-.91-1.86-2.03-1.86s-2.03.78-2.03 1.86v.51c0 .09.04.18.1.24s.15.1.24.1h3.38c.09 0 .18-.04.24-.1s.1-.15.1-.24zM5.75 11.5a.75.75 0 0 1 .75-.75h7a.75.75 0 0 1 0 1.5h-7a.75.75 0 0 1-.75-.75m0 3a.75.75 0 0 1 .75-.75h7a.75.75 0 0 1 0 1.5h-7a.75.75 0 0 1-.75-.75\" clip-rule=\"evenodd\"/>\u003Cpath fill-rule=\"evenodd\" d=\"M2.5 2.5c0-1.102.898-2 2-2h6.69c.562 0 1.092.238 1.465.631l.006.007l4.312 4.702c.359.383.527.884.527 1.36v10.3c0 1.102-.898 2-2 2h-11c-1.102 0-2-.898-2-2zm8.689 0H4.5v15h11V7.192l-4.296-4.685l-.003-.001z\" clip-rule=\"evenodd\"/>\u003Cpath fill-rule=\"evenodd\" d=\"M11.19.5a1 1 0 0 1 1 1v4.7h4.31a1 1 0 1 1 0 2h-5.31a1 1 0 0 1-1-1V1.5a1 1 0 0 1 1-1\" clip-rule=\"evenodd\"/>\u003C/g>",{"left":8721,"top":8721,"width":677,"height":677,"rotate":8721,"vFlip":8,"hFlip":8,"body":8728},"\u003Cpath fill=\"currentColor\" d=\"m10 18l-6-6l6-6l1.4 1.45L7.85 11H20v2H7.85l3.55 3.55z\"/>",{"left":8721,"top":8721,"width":677,"height":677,"rotate":8721,"vFlip":8,"hFlip":8,"body":8730},"\u003Cpath fill=\"currentColor\" d=\"M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z\"/>",{"left":8721,"top":8721,"width":677,"height":677,"rotate":8721,"vFlip":8,"hFlip":8,"body":8732},"\u003Cpath fill=\"currentColor\" d=\"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12z\"/>",{"left":8721,"top":8721,"width":677,"height":677,"rotate":8721,"vFlip":8,"hFlip":8,"body":8734},"\u003Cpath fill=\"currentColor\" d=\"m20 8l-6-5.26a3 3 0 0 0-4 0L4 8a3 3 0 0 0-1 2.26V19a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-8.75A3 3 0 0 0 20 8m-6 12h-4v-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1Zm5-1a1 1 0 0 1-1 1h-2v-5a3 3 0 0 0-3-3h-2a3 3 0 0 0-3 3v5H6a1 1 0 0 1-1-1v-8.75a1 1 0 0 1 .34-.75l6-5.25a1 1 0 0 1 1.32 0l6 5.25a1 1 0 0 1 .34.75Z\"/>",{"left":8721,"top":8721,"width":677,"height":677,"rotate":8721,"vFlip":8,"hFlip":8,"body":8736},"\u003Cpath fill=\"currentColor\" d=\"M23 17c0 3.31-2.69 6-6 6v-1.5c2.5 0 4.5-2 4.5-4.5zM1 7c0-3.31 2.69-6 6-6v1.5c-2.5 0-4.5 2-4.5 4.5zm7-2.68l-4.59 4.6c-3.22 3.22-3.22 8.45 0 11.67s8.45 3.22 11.67 0l7.07-7.09c.49-.47.49-1.26 0-1.75a1.25 1.25 0 0 0-1.77 0l-4.42 4.42l-.71-.71l6.54-6.54c.49-.49.49-1.28 0-1.77s-1.29-.49-1.79 0L14.19 13l-.69-.73l6.87-6.89c.49-.49.49-1.28 0-1.77s-1.28-.49-1.77 0l-6.89 6.89l-.71-.7l5.5-5.48c.5-.49.5-1.28 0-1.77s-1.28-.49-1.77 0l-7.62 7.62a4 4 0 0 1-.33 5.28l-.71-.71a3 3 0 0 0 0-4.24l-.35-.35l4.07-4.07c.49-.49.49-1.28 0-1.77c-.5-.48-1.29-.48-1.79.01\"/>",{"left":8721,"top":8721,"width":677,"height":677,"rotate":8721,"vFlip":8,"hFlip":8,"body":8738},"\u003Cpath fill=\"currentColor\" d=\"M10.07 20.503a1 1 0 0 0-1.18-.983c-1.31.24-2.963.276-3.402-.958a5.7 5.7 0 0 0-1.837-2.415a1 1 0 0 1-.167-.11a1 1 0 0 0-.93-.645h-.005a1 1 0 0 0-1 .995c-.004.815.81 1.338 1.141 1.514a4.4 4.4 0 0 1 .924 1.36c.365 1.023 1.423 2.576 4.466 2.376l.003.098l.004.268a1 1 0 0 0 2 0l-.005-.318c-.005-.19-.012-.464-.012-1.182M20.737 5.377q.049-.187.09-.42a6.3 6.3 0 0 0-.408-3.293a1 1 0 0 0-.615-.58c-.356-.12-1.67-.357-4.184 1.25a13.9 13.9 0 0 0-6.354 0C6.762.75 5.455.966 5.102 1.079a1 1 0 0 0-.631.584a6.3 6.3 0 0 0-.404 3.357q.037.191.079.354a6.27 6.27 0 0 0-1.256 3.83a8 8 0 0 0 .043.921c.334 4.603 3.334 5.984 5.424 6.459a5 5 0 0 0-.118.4a1 1 0 0 0 1.942.479a1.7 1.7 0 0 1 .468-.878a1 1 0 0 0-.546-1.745c-3.454-.395-4.954-1.802-5.18-4.899a7 7 0 0 1-.033-.738a4.26 4.26 0 0 1 .92-2.713a3 3 0 0 1 .195-.231a1 1 0 0 0 .188-1.025a3.4 3.4 0 0 1-.155-.555a4.1 4.1 0 0 1 .079-1.616a7.5 7.5 0 0 1 2.415 1.18a1 1 0 0 0 .827.133a11.8 11.8 0 0 1 6.173.001a1 1 0 0 0 .83-.138a7.6 7.6 0 0 1 2.406-1.19a4 4 0 0 1 .087 1.578a3.2 3.2 0 0 1-.169.607a1 1 0 0 0 .188 1.025c.078.087.155.18.224.268A4.12 4.12 0 0 1 20 9.203a7 7 0 0 1-.038.777c-.22 3.056-1.725 4.464-5.195 4.86a1 1 0 0 0-.546 1.746a1.63 1.63 0 0 1 .466.908a3 3 0 0 1 .093.82v2.333c-.01.648-.01 1.133-.01 1.356a1 1 0 1 0 2 0c0-.217 0-.692.01-1.34v-2.35a5 5 0 0 0-.155-1.311a4 4 0 0 0-.116-.416a6.51 6.51 0 0 0 5.445-6.424A9 9 0 0 0 22 9.203a6.13 6.13 0 0 0-1.263-3.826\"/>",{"left":8721,"top":8721,"width":677,"height":677,"rotate":8721,"vFlip":8,"hFlip":8,"body":8740},"\u003Cpath fill=\"currentColor\" d=\"M17.5 8.999a5.4 5.4 0 0 0-2.565.645A1 1 0 0 0 14 8.999h-4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-5.5a1 1 0 1 1 2 0v5.5a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-7.5a5.507 5.507 0 0 0-5.5-5.5m3.5 12h-2v-4.5a3 3 0 1 0-6 0v4.5h-2v-10h2v.703a1 1 0 0 0 1.781.625A3.483 3.483 0 0 1 21 14.5Zm-14-12H3a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-12a1 1 0 0 0-1-1m-1 12H4v-10h2ZM5.015 1.542a3.233 3.233 0 1 0-.057 6.457h.028a3.233 3.233 0 1 0 .029-6.457m-.029 4.457h-.028a1.222 1.222 0 0 1-1.37-1.228c0-.747.56-1.229 1.427-1.229A1.234 1.234 0 0 1 6.41 4.771c0 .746-.56 1.228-1.425 1.228\"/>",{"left":8721,"top":8721,"width":677,"height":677,"rotate":8721,"vFlip":8,"hFlip":8,"body":8742},"\u003Cpath fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\" d=\"m3 21l7.548-7.548M21 3l-7.548 7.548m0 0L8 3H3l7.548 10.452m2.904-2.904L21 21h-5l-5.452-7.548\"/>",{"left":8721,"top":8721,"width":3059,"height":3059,"rotate":8721,"vFlip":8,"hFlip":8,"body":8744},"\u003Cpath fill=\"currentColor\" d=\"M16 14L6 24l1.4 1.4l8.6-8.6l8.6 8.6L26 24zM4 8h24v2H4z\"/>",{"left":8721,"top":8721,"width":677,"height":677,"rotate":8721,"vFlip":8,"hFlip":8,"body":8746},"\u003Cpath fill=\"currentColor\" d=\"M7.41 8.58L12 13.17l4.59-4.59L18 10l-6 6l-6-6z\"/>",{"left":8721,"top":8721,"width":8748,"height":8748,"rotate":8721,"vFlip":8,"hFlip":8,"body":8749},256,"\u003Cpath fill=\"currentColor\" d=\"M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z\"/>",{"env":8751,"name":8752},"production","simonscholz.github.io",["Set"],["ShallowReactive",8755],{"content-query-Bh64HQphJN":8756},null]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{mdc:{components:{prose:true,map:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"}},headings:{anchorLinks:{h1:false,h2:true,h3:true,h4:true,h5:false,h6:false}}},content:{locales:[],defaultLocale:"",integrity:1772146487258,experimental:{stripQueryParameters:false,advanceQuery:false,clientDB:false},respectPathCase:false,api:{baseURL:"/api/_content"},navigation:{fields:[]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{langs:["java","kotlin","dart","javascript","typescript","json","tsx","vue","vue-html","terraform","log","bash","shell","console","yaml","toml","xml","html","css","csv","properties","terraform","graphql","python","kotlin","java","bash","ini","json","yaml","xml","log"],theme:{default:"github-light",dark:"github-dark",sepia:"monokai"},preload:["kotlin","java","bash","ini","json","yaml","xml","log"],highlighter:"shiki"},wsUrl:"",documentDriven:false,host:"",trailingSlash:false,search:"",contentHead:true,anchorLinks:{depth:4,exclude:[1]}},studio:{apiURL:"https://api.nuxt.studio",iframeMessagingAllowedOrigins:""}},app:{baseURL:"/",buildId:"a9be050d-5a9f-4950-abbc-de7634c77622",buildAssetsDir:"assets",cdnURL:""}}</script></body></html>